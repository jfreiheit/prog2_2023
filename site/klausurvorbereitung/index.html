
<!doctype html>
<html lang="de" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="Lehrmaterial, Übungen, Aufgaben und Hilfen für Programmieren II">
      
      
      
        <meta name="author" content="Jörn Freiheit">
      
      
        <link rel="canonical" href="http://freiheit.f4.htw-berlin.de/prog2/klausurvorbereitung/">
      
      <link rel="icon" href="../img/favicon.png">
      <meta name="generator" content="mkdocs-1.2.2, mkdocs-material-7.2.6">
    
    
      
        <title>Klausurvorbereitung - Programmieren II</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/main.802231af.min.css">
      
        
        <link rel="stylesheet" href="../assets/stylesheets/palette.3f5d1f46.min.css">
        
          
          
          <meta name="theme-color" content="#757575">
        
      
    
    
    
      
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700%7CRoboto+Mono&display=fallback">
        <style>:root{--md-text-font-family:"Roboto";--md-code-font-family:"Roboto Mono"}</style>
      
    
    
    
      <link rel="stylesheet" href="../extra.css">
    
    
      


    
    
  </head>
  
  
    
    
    
    
    
    <body dir="ltr" data-md-color-scheme="" data-md-color-primary="grey" data-md-color-accent="indigo">
  
    
    <script>function __prefix(e){return new URL("..",location).pathname+"."+e}function __get(e,t=localStorage){return JSON.parse(t.getItem(__prefix(e)))}</script>
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#klausurvorbereitung" class="md-skip">
          Zum Inhalt
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
      <header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href=".." title="Programmieren II" class="md-header__button md-logo" aria-label="Programmieren II" data-md-component="logo">
      
  <img src="../img/fiw.jpg" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Programmieren II
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Klausurvorbereitung
            
          </span>
        </div>
      </div>
    </div>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg>
      </label>
      
<div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Suche" placeholder="Suche" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Suche">
        
        <button type="reset" class="md-search__icon md-icon" aria-label="Zurücksetzen" tabindex="-1">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Suche wird initialisiert
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header__source">
        
<a href="https://github.com/jfreiheit/prog2_2022/" title="Quellcode" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    prog2
  </div>
</a>
      </div>
    
  </nav>
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href=".." title="Programmieren II" class="md-nav__button md-logo" aria-label="Programmieren II" data-md-component="logo">
      
  <img src="../img/fiw.jpg" alt="logo">

    </a>
    Programmieren II
  </label>
  
    <div class="md-nav__source">
      
<a href="https://github.com/jfreiheit/prog2_2022/" title="Quellcode" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    prog2
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href=".." class="md-nav__link">
        Home
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../wiederholung/" class="md-nav__link">
        Wiederholung
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../einstieg/" class="md-nav__link">
        Einstieg
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../wrapper/" class="md-nav__link">
        Wrapperklassen
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../exceptions/" class="md-nav__link">
        Exceptions
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../enum/" class="md-nav__link">
        Aufzählungstypen
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../mdarrays/" class="md-nav__link">
        Mehrdimensionale Arrays
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../collections/" class="md-nav__link">
        Collections
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../maps/" class="md-nav__link">
        Maps
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../abstrakt/" class="md-nav__link">
        Abstrakte Klassen
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../interfaces/" class="md-nav__link">
        Interfaces
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../junit/" class="md-nav__link">
        JUnit-Testen
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../gui/" class="md-nav__link">
        GUI Einführung
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../ereignisse/" class="md-nav__link">
        GUI Ereignisse
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../mausereignisse2022/" class="md-nav__link">
        Mausereignisse
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../graphics/" class="md-nav__link">
        Graphics (entfällt)
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../klausurvorbereitung2022/" class="md-nav__link">
        Klausurvorbereitung
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../uebungen/" class="md-nav__link">
        Übungen
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../aufgaben/" class="md-nav__link">
        Aufgaben
      </a>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    
<nav class="md-nav md-nav--secondary" aria-label="Inhaltsverzeichnis">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Inhaltsverzeichnis
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#mogliche-grundgeruste" class="md-nav__link">
    Mögliche Grundgerüste
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#quadrat" class="md-nav__link">
    Quadrat
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#schachbrett" class="md-nav__link">
    Schachbrett
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#schiebepuzzle" class="md-nav__link">
    Schiebepuzzle
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#rechtecke-anordnen" class="md-nav__link">
    Rechtecke anordnen
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content" data-md-component="content">
            <article class="md-content__inner md-typeset">
              
                
                  <a href="https://github.com/jfreiheit/prog2_2022/edit/master/docs/klausurvorbereitung.md" title="Seite editieren" class="md-content__button md-icon">
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20.71 7.04c.39-.39.39-1.04 0-1.41l-2.34-2.34c-.37-.39-1.02-.39-1.41 0l-1.84 1.83 3.75 3.75M3 17.25V21h3.75L17.81 9.93l-3.75-3.75L3 17.25z"/></svg>
                  </a>
                
                
                <h1 id="klausurvorbereitung">Klausurvorbereitung<a class="headerlink" href="#klausurvorbereitung" title="Permanent link">&para;</a></h1>
<p>Alle wesentlichen Konzepte, die wir für die Klausur benötigen, haben wir jetzt in diesem und im vergangenen Semester gelernt. Wir wollen diese Kenntnisse nun durch mehrere Anwendungen vertiefen. Ganz vereinzelt wird dabei auch etwas Neues auftauchen. Dabei handelt es sich aber nicht um ein neues Konzept, sondern bspw. um einen Listener, den wir noch nicht hatten. Solche "Überraschungen" werden Sie aber in der Klausur nicht erleben. </p>
<p>Dieses Kapitel wird hier so aufgebaut sein, dass es immer eine Aufgabe (eine Probeklausur) gibt und die dazugehörige Lösung, die aber "aufgeklappt" werden muss. Sie können ja immer zuerst probieren, die Lösung selbständig zu entwickeln. Wenn Sie am Ende alle Aufgaben selbständig lösen können, sind Sie mit Sicherheit sehr gut auf die Klausur vorbereitet. </p>
<p>Wir beginnen aber noch kurz mit allgemeinen Betrachtungen zum Grundgerüst. Eines der nachfolgend vorgestellten Grundgerüste werden Sie mit Sicherheit bei der Klausur verwenden können.</p>
<h3 id="mogliche-grundgeruste">Mögliche Grundgerüste<a class="headerlink" href="#mogliche-grundgeruste" title="Permanent link">&para;</a></h3>
<p>Wie Sie wissen, ist das Fenster (<code>JFrame</code>) im <a href="../gui/#borderlayout">BorderLayout</a>. Das bedeutet, dass das Fenster in fünf Bereiche (<code>Container</code>) unterteilt ist. Sie müssen sich bei der Konfiguration überlegen,</p>
<ul>
<li>ob "gezeichnet" werden soll, d.h. ob das <code>JPanel</code> im <code>CENTER</code> des Fensters eine eigene Klasse ist, oder ob es mithilfe einer Methode erzeugt werden kann und</li>
<li>welche der fündf Bereiche Sie benötigen. </li>
</ul>
<p>Wir erläutern das an Beispielen und beginnen mit einem Grundgerüst, welches wir für das Zeichnen verwenden können, welches also eine <code>Canvas</code> enthält.</p>
<div class="tabbed-set" data-tabs="1:1"><input checked="checked" id="__tabbed_1_1" name="__tabbed_1" type="radio" /><label for="__tabbed_1_1">Grundgerüst mit Canvas</label><div class="tabbed-content">
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 1</span>
<span class="normal"> 2</span>
<span class="normal"> 3</span>
<span class="normal"> 4</span>
<span class="normal"> 5</span>
<span class="normal"> 6</span>
<span class="normal"> 7</span>
<span class="normal"> 8</span>
<span class="normal"> 9</span>
<span class="normal">10</span>
<span class="normal">11</span>
<span class="normal">12</span>
<span class="normal">13</span>
<span class="normal">14</span>
<span class="normal">15</span>
<span class="normal">16</span>
<span class="normal">17</span>
<span class="normal">18</span>
<span class="normal">19</span>
<span class="normal">20</span>
<span class="normal">21</span>
<span class="normal">22</span>
<span class="normal">23</span>
<span class="normal">24</span>
<span class="normal">25</span>
<span class="normal">26</span>
<span class="normal">27</span>
<span class="normal">28</span>
<span class="normal">29</span>
<span class="normal">30</span>
<span class="normal">31</span>
<span class="normal">32</span>
<span class="normal">33</span>
<span class="normal">34</span>
<span class="normal">35</span>
<span class="normal">36</span>
<span class="normal">37</span>
<span class="normal">38</span>
<span class="normal">39</span>
<span class="normal">40</span>
<span class="normal">41</span>
<span class="normal">42</span>
<span class="normal">43</span>
<span class="normal">44</span>
<span class="normal">45</span>
<span class="normal">46</span>
<span class="normal">47</span>
<span class="normal">48</span>
<span class="normal">49</span>
<span class="normal">50</span>
<span class="normal">51</span>
<span class="normal">52</span>
<span class="normal">53</span>
<span class="normal">54</span>
<span class="normal">55</span>
<span class="normal">56</span>
<span class="normal">57</span>
<span class="normal">58</span>
<span class="normal">59</span>
<span class="normal">60</span>
<span class="normal">61</span>
<span class="normal">62</span>
<span class="normal">63</span>
<span class="normal">64</span>
<span class="normal">65</span>
<span class="normal">66</span>
<span class="normal">67</span>
<span class="normal">68</span>
<span class="normal">69</span>
<span class="normal">70</span>
<span class="normal">71</span>
<span class="normal">72</span>
<span class="normal">73</span>
<span class="normal">74</span>
<span class="normal">75</span></pre></div></td><td class="code"><div class="highlight"><pre><span></span><code><span class="kn">import</span> <span class="nn">java.awt.BorderLayout</span><span class="p">;</span>
<span class="kn">import</span> <span class="nn">java.awt.Graphics</span><span class="p">;</span>
<span class="kn">import</span> <span class="nn">java.awt.Graphics2D</span><span class="p">;</span>

<span class="kn">import</span> <span class="nn">javax.swing.JFrame</span><span class="p">;</span>
<span class="kn">import</span> <span class="nn">javax.swing.JPanel</span><span class="p">;</span>

<span class="kd">public</span> <span class="kd">class</span> <span class="nc">GrundgeruestMitCanvas</span> <span class="kd">extends</span> <span class="n">JFrame</span><span class="p">{</span>
    <span class="n">Canvas</span> <span class="n">canvas</span><span class="p">;</span>

    <span class="kd">public</span> <span class="nf">GrundgeruestMitCanvas</span><span class="p">()</span>
    <span class="p">{</span>
        <span class="kd">super</span><span class="p">();</span>
        <span class="k">this</span><span class="p">.</span><span class="na">setTitle</span><span class="p">(</span><span class="s">&quot;GrundgeruestMitCanvas&quot;</span><span class="p">);</span>
        <span class="k">this</span><span class="p">.</span><span class="na">setDefaultCloseOperation</span><span class="p">(</span><span class="n">JFrame</span><span class="p">.</span><span class="na">EXIT_ON_CLOSE</span><span class="p">);</span>    

        <span class="k">this</span><span class="p">.</span><span class="na">canvas</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Canvas</span><span class="p">();</span>
        <span class="k">this</span><span class="p">.</span><span class="na">getContentPane</span><span class="p">().</span><span class="na">add</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="na">canvas</span><span class="p">,</span> <span class="n">BorderLayout</span><span class="p">.</span><span class="na">CENTER</span><span class="p">);</span>

        <span class="c1">// von den folgenden vier Zeilen werden eventuell eine oder mehrere oder alle auskommentiert</span>
        <span class="k">this</span><span class="p">.</span><span class="na">getContentPane</span><span class="p">().</span><span class="na">add</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="na">initNorth</span><span class="p">(),</span> <span class="n">BorderLayout</span><span class="p">.</span><span class="na">NORTH</span><span class="p">);</span>
        <span class="k">this</span><span class="p">.</span><span class="na">getContentPane</span><span class="p">().</span><span class="na">add</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="na">initSouth</span><span class="p">(),</span> <span class="n">BorderLayout</span><span class="p">.</span><span class="na">SOUTH</span><span class="p">);</span>
        <span class="k">this</span><span class="p">.</span><span class="na">getContentPane</span><span class="p">().</span><span class="na">add</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="na">initEast</span><span class="p">(),</span> <span class="n">BorderLayout</span><span class="p">.</span><span class="na">EAST</span><span class="p">);</span>
        <span class="k">this</span><span class="p">.</span><span class="na">getContentPane</span><span class="p">().</span><span class="na">add</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="na">initWest</span><span class="p">(),</span> <span class="n">BorderLayout</span><span class="p">.</span><span class="na">WEST</span><span class="p">);</span>

        <span class="k">this</span><span class="p">.</span><span class="na">setSize</span><span class="p">(</span><span class="mi">400</span><span class="p">,</span> <span class="mi">300</span><span class="p">);</span>
        <span class="k">this</span><span class="p">.</span><span class="na">setLocation</span><span class="p">(</span><span class="mi">300</span><span class="p">,</span><span class="mi">200</span><span class="p">);</span>
        <span class="k">this</span><span class="p">.</span><span class="na">setVisible</span><span class="p">(</span><span class="kc">true</span><span class="p">);</span>
    <span class="p">}</span>

    <span class="kd">private</span> <span class="kd">class</span> <span class="nc">Canvas</span> <span class="kd">extends</span> <span class="n">JPanel</span>
    <span class="p">{</span>
        <span class="nd">@Override</span>
        <span class="kd">protected</span> <span class="kt">void</span> <span class="nf">paintComponent</span><span class="p">(</span><span class="n">Graphics</span> <span class="n">g</span><span class="p">)</span>
        <span class="p">{</span>
            <span class="kd">super</span><span class="p">.</span><span class="na">paintComponent</span><span class="p">(</span><span class="n">g</span><span class="p">);</span>        <span class="c1">// Implementierung von JPanel aufrufen</span>
            <span class="n">Graphics2D</span> <span class="n">g2</span> <span class="o">=</span> <span class="p">(</span><span class="n">Graphics2D</span><span class="p">)</span><span class="n">g</span><span class="p">;</span>  <span class="c1">// Methoden von Graphics2D nutzbar</span>
            <span class="c1">// hier koennen wir zeichnen</span>
        <span class="p">}</span>
    <span class="p">}</span>

    <span class="kd">private</span> <span class="n">JPanel</span> <span class="nf">initNorth</span><span class="p">()</span> 
    <span class="p">{</span>
        <span class="n">JPanel</span> <span class="n">north</span> <span class="o">=</span> <span class="k">new</span> <span class="n">JPanel</span><span class="p">();</span>
        <span class="c1">// hier das JPanel fuer NORTH befuellen</span>
        <span class="k">return</span> <span class="n">north</span><span class="p">;</span>
    <span class="p">}</span>

    <span class="kd">private</span> <span class="n">JPanel</span> <span class="nf">initSouth</span><span class="p">()</span> 
    <span class="p">{</span>
        <span class="n">JPanel</span> <span class="n">south</span> <span class="o">=</span> <span class="k">new</span> <span class="n">JPanel</span><span class="p">();</span>
        <span class="c1">// hier das JPanel fuer SOUTH befuellen</span>
        <span class="k">return</span> <span class="n">south</span><span class="p">;</span>
    <span class="p">}</span>


    <span class="kd">private</span> <span class="n">JPanel</span> <span class="nf">initEast</span><span class="p">()</span> 
    <span class="p">{</span>
        <span class="n">JPanel</span> <span class="n">east</span> <span class="o">=</span> <span class="k">new</span> <span class="n">JPanel</span><span class="p">();</span>
        <span class="c1">// hier das JPanel fuer EAST befuellen</span>
        <span class="k">return</span> <span class="n">east</span><span class="p">;</span>
    <span class="p">}</span>

    <span class="kd">private</span> <span class="n">JPanel</span> <span class="nf">initWest</span><span class="p">()</span> 
    <span class="p">{</span>
        <span class="n">JPanel</span> <span class="n">west</span> <span class="o">=</span> <span class="k">new</span> <span class="n">JPanel</span><span class="p">();</span>
        <span class="c1">// hier das JPanel fuer WEST befuellen</span>
        <span class="k">return</span> <span class="n">west</span><span class="p">;</span>
    <span class="p">}</span>

    <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="p">(</span><span class="n">String</span><span class="o">[]</span> <span class="n">args</span><span class="p">)</span> 
    <span class="p">{</span>
        <span class="k">new</span> <span class="n">GrundgeruestMitCanvas</span><span class="p">();</span>
    <span class="p">}</span>
<span class="p">}</span>   
</code></pre></div>
</td></tr></table>
</div>
</div>
<p>In diesem Grundgerüst werden alle fünf Bereiche des Fensters mit <code>JPanel</code> befüllt. Das <code>CENTER</code> wird mit einem Objekt der Klasse <code>Canvas</code> befüllt, welche von <code>JPanel</code> erbt. Diese Klasse wird benötigt, um in die <code>paintComponent()</code>-Methode zu zeichnen. Sollten Sie z.B. kein Panel im <code>EAST</code>- und im <code>WEST</code>-Bereich des Fensters benötigen, dann löschen Sie einfach die Zeilen <code>23</code> und <code>24</code> sowei die beiden Methoden <code>initEast()</code> und <code>initWest()</code>. </p>
<p>Ein Grundgerüst <strong>ohne</strong> <code>Canvas</code>, also ohne Zeichnen, könnte dann so aussehen:</p>
<div class="tabbed-set" data-tabs="2:1"><input checked="checked" id="__tabbed_2_1" name="__tabbed_2" type="radio" /><label for="__tabbed_2_1">Grundgerüst ohne Canvas</label><div class="tabbed-content">
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 1</span>
<span class="normal"> 2</span>
<span class="normal"> 3</span>
<span class="normal"> 4</span>
<span class="normal"> 5</span>
<span class="normal"> 6</span>
<span class="normal"> 7</span>
<span class="normal"> 8</span>
<span class="normal"> 9</span>
<span class="normal">10</span>
<span class="normal">11</span>
<span class="normal">12</span>
<span class="normal">13</span>
<span class="normal">14</span>
<span class="normal">15</span>
<span class="normal">16</span>
<span class="normal">17</span>
<span class="normal">18</span>
<span class="normal">19</span>
<span class="normal">20</span>
<span class="normal">21</span>
<span class="normal">22</span>
<span class="normal">23</span>
<span class="normal">24</span>
<span class="normal">25</span>
<span class="normal">26</span>
<span class="normal">27</span>
<span class="normal">28</span>
<span class="normal">29</span>
<span class="normal">30</span>
<span class="normal">31</span>
<span class="normal">32</span>
<span class="normal">33</span>
<span class="normal">34</span>
<span class="normal">35</span>
<span class="normal">36</span>
<span class="normal">37</span>
<span class="normal">38</span>
<span class="normal">39</span>
<span class="normal">40</span>
<span class="normal">41</span>
<span class="normal">42</span>
<span class="normal">43</span>
<span class="normal">44</span>
<span class="normal">45</span>
<span class="normal">46</span>
<span class="normal">47</span>
<span class="normal">48</span>
<span class="normal">49</span>
<span class="normal">50</span>
<span class="normal">51</span>
<span class="normal">52</span>
<span class="normal">53</span>
<span class="normal">54</span>
<span class="normal">55</span>
<span class="normal">56</span>
<span class="normal">57</span>
<span class="normal">58</span>
<span class="normal">59</span>
<span class="normal">60</span>
<span class="normal">61</span>
<span class="normal">62</span>
<span class="normal">63</span>
<span class="normal">64</span>
<span class="normal">65</span>
<span class="normal">66</span>
<span class="normal">67</span>
<span class="normal">68</span>
<span class="normal">69</span></pre></div></td><td class="code"><div class="highlight"><pre><span></span><code><span class="kn">import</span> <span class="nn">java.awt.BorderLayout</span><span class="p">;</span>

<span class="kn">import</span> <span class="nn">javax.swing.JFrame</span><span class="p">;</span>
<span class="kn">import</span> <span class="nn">javax.swing.JPanel</span><span class="p">;</span>

<span class="kd">public</span> <span class="kd">class</span> <span class="nc">GrundgeruestOhneCanvas</span> <span class="kd">extends</span> <span class="n">JFrame</span><span class="p">{</span>
    <span class="n">JPanel</span> <span class="n">content</span><span class="p">;</span>

    <span class="kd">public</span> <span class="nf">GrundgeruestOhneCanvas</span><span class="p">()</span>
    <span class="p">{</span>
        <span class="kd">super</span><span class="p">();</span>
        <span class="k">this</span><span class="p">.</span><span class="na">setTitle</span><span class="p">(</span><span class="s">&quot;GrundgeruestMitCanvas&quot;</span><span class="p">);</span>
        <span class="k">this</span><span class="p">.</span><span class="na">setDefaultCloseOperation</span><span class="p">(</span><span class="n">JFrame</span><span class="p">.</span><span class="na">EXIT_ON_CLOSE</span><span class="p">);</span>    

        <span class="k">this</span><span class="p">.</span><span class="na">content</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="na">initCenter</span><span class="p">();</span>
        <span class="k">this</span><span class="p">.</span><span class="na">getContentPane</span><span class="p">().</span><span class="na">add</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="na">content</span><span class="p">,</span> <span class="n">BorderLayout</span><span class="p">.</span><span class="na">CENTER</span><span class="p">);</span>

        <span class="c1">// von den folgenden vier Zeilen werden eventuell eine oder mehrere oder alle auskommentiert</span>
        <span class="k">this</span><span class="p">.</span><span class="na">getContentPane</span><span class="p">().</span><span class="na">add</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="na">initNorth</span><span class="p">(),</span> <span class="n">BorderLayout</span><span class="p">.</span><span class="na">NORTH</span><span class="p">);</span>
        <span class="k">this</span><span class="p">.</span><span class="na">getContentPane</span><span class="p">().</span><span class="na">add</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="na">initSouth</span><span class="p">(),</span> <span class="n">BorderLayout</span><span class="p">.</span><span class="na">SOUTH</span><span class="p">);</span>
        <span class="k">this</span><span class="p">.</span><span class="na">getContentPane</span><span class="p">().</span><span class="na">add</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="na">initEast</span><span class="p">(),</span> <span class="n">BorderLayout</span><span class="p">.</span><span class="na">EAST</span><span class="p">);</span>
        <span class="k">this</span><span class="p">.</span><span class="na">getContentPane</span><span class="p">().</span><span class="na">add</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="na">initWest</span><span class="p">(),</span> <span class="n">BorderLayout</span><span class="p">.</span><span class="na">WEST</span><span class="p">);</span>

        <span class="k">this</span><span class="p">.</span><span class="na">setSize</span><span class="p">(</span><span class="mi">400</span><span class="p">,</span> <span class="mi">300</span><span class="p">);</span>
        <span class="k">this</span><span class="p">.</span><span class="na">setLocation</span><span class="p">(</span><span class="mi">300</span><span class="p">,</span><span class="mi">200</span><span class="p">);</span>
        <span class="k">this</span><span class="p">.</span><span class="na">setVisible</span><span class="p">(</span><span class="kc">true</span><span class="p">);</span>
    <span class="p">}</span>

    <span class="kd">private</span> <span class="n">JPanel</span> <span class="nf">initCenter</span><span class="p">()</span> 
    <span class="p">{</span>
        <span class="n">JPanel</span> <span class="n">center</span> <span class="o">=</span> <span class="k">new</span> <span class="n">JPanel</span><span class="p">();</span>
        <span class="c1">// hier das JPanel fuer CENTER befuellen</span>
        <span class="k">return</span> <span class="n">center</span><span class="p">;</span>
    <span class="p">}</span>

    <span class="kd">private</span> <span class="n">JPanel</span> <span class="nf">initNorth</span><span class="p">()</span> 
    <span class="p">{</span>
        <span class="n">JPanel</span> <span class="n">north</span> <span class="o">=</span> <span class="k">new</span> <span class="n">JPanel</span><span class="p">();</span>
        <span class="c1">// hier das JPanel fuer NORTH befuellen</span>
        <span class="k">return</span> <span class="n">north</span><span class="p">;</span>
    <span class="p">}</span>

    <span class="kd">private</span> <span class="n">JPanel</span> <span class="nf">initSouth</span><span class="p">()</span> 
    <span class="p">{</span>
        <span class="n">JPanel</span> <span class="n">south</span> <span class="o">=</span> <span class="k">new</span> <span class="n">JPanel</span><span class="p">();</span>
        <span class="c1">// hier das JPanel fuer SOUTH befuellen</span>
        <span class="k">return</span> <span class="n">south</span><span class="p">;</span>
    <span class="p">}</span>


    <span class="kd">private</span> <span class="n">JPanel</span> <span class="nf">initEast</span><span class="p">()</span> 
    <span class="p">{</span>
        <span class="n">JPanel</span> <span class="n">east</span> <span class="o">=</span> <span class="k">new</span> <span class="n">JPanel</span><span class="p">();</span>
        <span class="c1">// hier das JPanel fuer EAST befuellen</span>
        <span class="k">return</span> <span class="n">east</span><span class="p">;</span>
    <span class="p">}</span>

    <span class="kd">private</span> <span class="n">JPanel</span> <span class="nf">initWest</span><span class="p">()</span> 
    <span class="p">{</span>
        <span class="n">JPanel</span> <span class="n">west</span> <span class="o">=</span> <span class="k">new</span> <span class="n">JPanel</span><span class="p">();</span>
        <span class="c1">// hier das JPanel fuer WEST befuellen</span>
        <span class="k">return</span> <span class="n">west</span><span class="p">;</span>
    <span class="p">}</span>

    <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="p">(</span><span class="n">String</span><span class="o">[]</span> <span class="n">args</span><span class="p">)</span> 
    <span class="p">{</span>
        <span class="k">new</span> <span class="n">GrundgeruestOhneCanvas</span><span class="p">();</span>
    <span class="p">}</span>
<span class="p">}</span>
</code></pre></div>
</td></tr></table>
</div>
</div>
<p>Beachten Sie, dass <code>JPanel</code> ohne Angabe eines LayoutManagers im <a href="../gui/#flowlayout">FlowLayout</a> sind. Das können Sie <a href="../gui/#layout-manager">ändern</a> und die einzelnen <code>JPanel</code> auch noch <a href="../gui/#verschachteln-von-layout-managern">weiter verschachteln</a>.</p>
<p>Eines dieser beiden Grundgerüste können wir nun stets verwenden. Es muss dann jeweils "nur" noch angepasst werden. Wir beginnen mal mit einer Aufgabe. </p>
<h3 id="quadrat">Quadrat<a class="headerlink" href="#quadrat" title="Permanent link">&para;</a></h3>
<details><summary>Aufgabe Quadrat</summary><ol>
<li>
<p>Schreiben Sie eine Klasse <code>Quadrat</code>, die folgendes Fenster darstellt: </p>
<p><img alt="quadrat" src="../files/112_quadrat.png" /></p>
<ul>
<li>Es gibt also eine Zeichenfläche (<code>Canvas</code>) und zwei Buttons <code>new</code> und <code>fill</code>.</li>
</ul>
</li>
<li>
<p>Nach dem Klicken des Buttons <code>new</code> soll ein schwarzes unausgefülltes Quadrat mit der Strichstärke <code>3.0</code> so in der Zeichenfläche erscheinen, dass es </p>
<ul>
<li>
<p>mittig in der Zeichenfläche angeordnet ist und </p>
</li>
<li>
<p>der kürzere der beiden Abstände (links/rechts oder oben/unten) ca. <code>10%</code> der Zeichenfläche groß ist. </p>
</li>
<li>
<p>Nach dem Klicken des Buttons <code>new</code> steht darin nicht mehr <code>new</code>, sondern <code>refresh</code>.</p>
</li>
</ul>
<p><img alt="quadrat" src="../files/113_quadrat.png" /></p>
</li>
<li>
<p>Nach Klicken des Buttons <code>fill</code> soll das Quadrat mit einer zufällig gewählten Farbe befüllt werden. Es soll aber trotzdem noch der schwarze Rand bleiben (am einfachsten: einmal mit der zufällig gewählten Farbe befüllt und danach nochmal unbefüllt schwarz malen).</p>
<ul>
<li>Der Button wechselt den Text auf <code>unfill</code>. Nach dem Klicken auf <code>unfill</code> soll das Quadrat wieder unausgefüllt sein. </li>
</ul>
<p><img alt="quadrat" src="../files/114_quadrat.png" /></p>
</li>
<li>
<p>Die zufällig erzeugte Farbe soll so lange die Farbe zum Ausfüllen bleiben, bis der <code>refresh</code>-Button geklickt wird, d.h.</p>
<ul>
<li>
<p>durch mehrmaliges Klicken des Button <code>fill</code> und <code>unfill</code> ändert sich die Farbe zum Befüllen des Quadrats nicht,</p>
</li>
<li>
<p>erst durch Klicken des Button <code>refresh</code> wird eine neue Farbe erzeugt, die dann wieder bis zum nächsten Klicken von <code>refresh</code> bleibt. </p>
</li>
</ul>
</li>
<li>
<p>Implementieren Sie den <code>MouseListener</code> und den <code>MouseMotionListener</code> so, dass Sie bei gedrückter Maustaste die Größe des Quadrates ändern. </p>
<ul>
<li>
<p>Wenn Sie mit der Maus auf eine Kante des Quadrates (<code>+/-10px</code>) klicken und dann die Maus gedrückt halten, ändert sich die Größe des Quadrates entsprechend.</p>
</li>
<li>
<p>Wenn Sie weit weg von (also mehr als <code>10px</code> von der Kante entfernt) einer Kante klicken (egal, ob im Quadrat oder außerhalb), passiert gar nichts.</p>
</li>
<li>
<p>Die Größenänderungen sollen stets sofort sichtbar sein. Nach Loslassen der Maustaste bleibt das Quadrat in der eingestellten Größe. </p>
</li>
<li>
<p>Das Quadrat bleibt stets möglichst mittig.</p>
</li>
<li>
<p><strong>Tipp</strong>: An welche Kante Sie klicken, ist egal. Klicken Sie auf eine vertikale Kante (links oder rechts), brauchen Sie nur die Änderungen des x-Wertes zu berücksichtigen, klicken Sie auf eine horizontale Kante (oben oder unten), brauchen Sie nur die Änderungen der y-Werte zu berücksichtigen, um die neue Größe des Quadrates zu ermitteln. </p>
</li>
</ul>
</li>
</ol>
</details>
<details class="question"><summary>Lösung Quadrat</summary><ol>
<li>
<p>Zuerst überlegen wir uns, welches Grundgerüst wir verwenden und wie wir es anpassen. Wir müssen <strong>zeichnen</strong>, also das Grundgerüst <strong>mit</strong> <code>Canvas</code>. Von den Nord-, Süd-, Ost-, West-Bereichen benötigen wir nur den Süden (dort kommen die 'new'- und <code>fill</code>-Buttons rein). Also ist das unser Ausgangspunkt, in das wir schonmal die Buttons eingefügt haben: </p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 1</span>
<span class="normal"> 2</span>
<span class="normal"> 3</span>
<span class="normal"> 4</span>
<span class="normal"> 5</span>
<span class="normal"> 6</span>
<span class="normal"> 7</span>
<span class="normal"> 8</span>
<span class="normal"> 9</span>
<span class="normal">10</span>
<span class="normal">11</span>
<span class="normal">12</span>
<span class="normal">13</span>
<span class="normal">14</span>
<span class="normal">15</span>
<span class="normal">16</span>
<span class="normal">17</span>
<span class="normal">18</span>
<span class="normal">19</span>
<span class="normal">20</span>
<span class="normal">21</span>
<span class="normal">22</span>
<span class="normal">23</span>
<span class="normal">24</span>
<span class="normal">25</span>
<span class="normal">26</span>
<span class="normal">27</span>
<span class="normal">28</span>
<span class="normal">29</span>
<span class="normal">30</span>
<span class="normal">31</span>
<span class="normal">32</span>
<span class="normal">33</span>
<span class="normal">34</span>
<span class="normal">35</span>
<span class="normal">36</span>
<span class="normal">37</span>
<span class="normal">38</span>
<span class="normal">39</span>
<span class="normal">40</span>
<span class="normal">41</span>
<span class="normal">42</span>
<span class="normal">43</span>
<span class="normal">44</span>
<span class="normal">45</span>
<span class="normal">46</span>
<span class="normal">47</span>
<span class="normal">48</span>
<span class="normal">49</span>
<span class="normal">50</span>
<span class="normal">51</span>
<span class="normal">52</span>
<span class="normal">53</span>
<span class="normal">54</span>
<span class="normal">55</span>
<span class="normal">56</span></pre></div></td><td class="code"><div class="highlight"><pre><span></span><code><span class="kn">import</span> <span class="nn">java.awt.BorderLayout</span><span class="p">;</span>
<span class="kn">import</span> <span class="nn">java.awt.Graphics</span><span class="p">;</span>
<span class="kn">import</span> <span class="nn">java.awt.Graphics2D</span><span class="p">;</span>

<span class="kn">import</span> <span class="nn">javax.swing.JButton</span><span class="p">;</span>
<span class="kn">import</span> <span class="nn">javax.swing.JFrame</span><span class="p">;</span>
<span class="kn">import</span> <span class="nn">javax.swing.JPanel</span><span class="p">;</span>

<span class="kd">public</span> <span class="kd">class</span> <span class="nc">Quadrat</span>  <span class="kd">extends</span> <span class="n">JFrame</span><span class="p">{</span>
    <span class="n">Canvas</span> <span class="n">canvas</span><span class="p">;</span>

    <span class="kd">public</span> <span class="nf">Quadrat</span><span class="p">()</span>
    <span class="p">{</span>
        <span class="kd">super</span><span class="p">();</span>
        <span class="k">this</span><span class="p">.</span><span class="na">setTitle</span><span class="p">(</span><span class="s">&quot;Quadrat&quot;</span><span class="p">);</span>
        <span class="k">this</span><span class="p">.</span><span class="na">setDefaultCloseOperation</span><span class="p">(</span><span class="n">JFrame</span><span class="p">.</span><span class="na">EXIT_ON_CLOSE</span><span class="p">);</span>    

        <span class="k">this</span><span class="p">.</span><span class="na">canvas</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Canvas</span><span class="p">();</span>
        <span class="k">this</span><span class="p">.</span><span class="na">getContentPane</span><span class="p">().</span><span class="na">add</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="na">canvas</span><span class="p">,</span> <span class="n">BorderLayout</span><span class="p">.</span><span class="na">CENTER</span><span class="p">);</span>

        <span class="k">this</span><span class="p">.</span><span class="na">getContentPane</span><span class="p">().</span><span class="na">add</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="na">initSouth</span><span class="p">(),</span> <span class="n">BorderLayout</span><span class="p">.</span><span class="na">SOUTH</span><span class="p">);</span>

        <span class="k">this</span><span class="p">.</span><span class="na">setSize</span><span class="p">(</span><span class="mi">400</span><span class="p">,</span> <span class="mi">400</span><span class="p">);</span>
        <span class="k">this</span><span class="p">.</span><span class="na">setLocation</span><span class="p">(</span><span class="mi">300</span><span class="p">,</span><span class="mi">200</span><span class="p">);</span>
        <span class="k">this</span><span class="p">.</span><span class="na">setVisible</span><span class="p">(</span><span class="kc">true</span><span class="p">);</span>
    <span class="p">}</span>

    <span class="kd">private</span> <span class="kd">class</span> <span class="nc">Canvas</span> <span class="kd">extends</span> <span class="n">JPanel</span>
    <span class="p">{</span>
        <span class="nd">@Override</span>
        <span class="kd">protected</span> <span class="kt">void</span> <span class="nf">paintComponent</span><span class="p">(</span><span class="n">Graphics</span> <span class="n">g</span><span class="p">)</span>
        <span class="p">{</span>
            <span class="kd">super</span><span class="p">.</span><span class="na">paintComponent</span><span class="p">(</span><span class="n">g</span><span class="p">);</span>        <span class="c1">// Implementierung von JPanel aufrufen</span>
            <span class="n">Graphics2D</span> <span class="n">g2</span> <span class="o">=</span> <span class="p">(</span><span class="n">Graphics2D</span><span class="p">)</span><span class="n">g</span><span class="p">;</span>  <span class="c1">// Methoden von Graphics2D nutzbar</span>
            <span class="c1">// hier koennen wir zeichnen</span>
        <span class="p">}</span>
    <span class="p">}</span>

    <span class="kd">private</span> <span class="n">JPanel</span> <span class="nf">initSouth</span><span class="p">()</span> 
    <span class="p">{</span>
        <span class="n">JPanel</span> <span class="n">south</span> <span class="o">=</span> <span class="k">new</span> <span class="n">JPanel</span><span class="p">();</span>

<span class="hll">        <span class="n">JButton</span> <span class="n">newBtn</span> <span class="o">=</span> <span class="k">new</span> <span class="n">JButton</span><span class="p">(</span><span class="s">&quot;new&quot;</span><span class="p">);</span>
</span><span class="hll">        <span class="n">JButton</span> <span class="n">fillBtn</span> <span class="o">=</span> <span class="k">new</span> <span class="n">JButton</span><span class="p">(</span><span class="s">&quot;fill&quot;</span><span class="p">);</span>
</span><span class="hll">
</span><span class="hll">        <span class="n">south</span><span class="p">.</span><span class="na">add</span><span class="p">(</span><span class="n">newBtn</span><span class="p">);</span>
</span><span class="hll">        <span class="n">south</span><span class="p">.</span><span class="na">add</span><span class="p">(</span><span class="n">fillBtn</span><span class="p">);</span>
</span>
        <span class="k">return</span> <span class="n">south</span><span class="p">;</span>
    <span class="p">}</span>

    <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="p">(</span><span class="n">String</span><span class="o">[]</span> <span class="n">args</span><span class="p">)</span> 
    <span class="p">{</span>
        <span class="k">new</span> <span class="n">Quadrat</span><span class="p">();</span>
    <span class="p">}</span>
<span class="p">}</span>
</code></pre></div>
</td></tr></table>
<ul>
<li>Von den <code>initXXX()</code>-Methoden benötigen wir auch nur noch <code>initSouth()</code>. Die anderen drei sind deshalb gelöscht. </li>
</ul>
</li>
<li>
<p>Die Implementierung des <code>ActionListener</code> für den <code>new</code>-Button erledigen wir mit einer anonymen Klasse. Wir müssen uns überlegen, ob es notwendig ist, für das Quadrat eine eigene Datenstruktur (z.B. Klasse) anzulegen. Zunächst machen wir das einmal ohne, sondern geben nur in einer globalen Variablen <code>zeigeQuadrat</code> an, ob das Quadrat gezeichnet werden soll oder nicht. </p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 1</span>
<span class="normal"> 2</span>
<span class="normal"> 3</span>
<span class="normal"> 4</span>
<span class="normal"> 5</span>
<span class="normal"> 6</span>
<span class="normal"> 7</span>
<span class="normal"> 8</span>
<span class="normal"> 9</span>
<span class="normal">10</span>
<span class="normal">11</span>
<span class="normal">12</span>
<span class="normal">13</span>
<span class="normal">14</span>
<span class="normal">15</span>
<span class="normal">16</span>
<span class="normal">17</span>
<span class="normal">18</span>
<span class="normal">19</span>
<span class="normal">20</span>
<span class="normal">21</span>
<span class="normal">22</span>
<span class="normal">23</span>
<span class="normal">24</span>
<span class="normal">25</span>
<span class="normal">26</span>
<span class="normal">27</span>
<span class="normal">28</span>
<span class="normal">29</span>
<span class="normal">30</span>
<span class="normal">31</span>
<span class="normal">32</span>
<span class="normal">33</span>
<span class="normal">34</span>
<span class="normal">35</span>
<span class="normal">36</span>
<span class="normal">37</span>
<span class="normal">38</span>
<span class="normal">39</span>
<span class="normal">40</span>
<span class="normal">41</span>
<span class="normal">42</span>
<span class="normal">43</span>
<span class="normal">44</span>
<span class="normal">45</span>
<span class="normal">46</span>
<span class="normal">47</span>
<span class="normal">48</span>
<span class="normal">49</span>
<span class="normal">50</span>
<span class="normal">51</span>
<span class="normal">52</span>
<span class="normal">53</span>
<span class="normal">54</span>
<span class="normal">55</span>
<span class="normal">56</span>
<span class="normal">57</span>
<span class="normal">58</span>
<span class="normal">59</span>
<span class="normal">60</span>
<span class="normal">61</span>
<span class="normal">62</span>
<span class="normal">63</span>
<span class="normal">64</span>
<span class="normal">65</span>
<span class="normal">66</span>
<span class="normal">67</span>
<span class="normal">68</span>
<span class="normal">69</span>
<span class="normal">70</span>
<span class="normal">71</span>
<span class="normal">72</span>
<span class="normal">73</span>
<span class="normal">74</span>
<span class="normal">75</span>
<span class="normal">76</span>
<span class="normal">77</span>
<span class="normal">78</span>
<span class="normal">79</span>
<span class="normal">80</span>
<span class="normal">81</span>
<span class="normal">82</span>
<span class="normal">83</span>
<span class="normal">84</span>
<span class="normal">85</span>
<span class="normal">86</span>
<span class="normal">87</span>
<span class="normal">88</span>
<span class="normal">89</span>
<span class="normal">90</span>
<span class="normal">91</span>
<span class="normal">92</span>
<span class="normal">93</span>
<span class="normal">94</span>
<span class="normal">95</span></pre></div></td><td class="code"><div class="highlight"><pre><span></span><code><span class="kn">import</span> <span class="nn">java.awt.BasicStroke</span><span class="p">;</span>
<span class="kn">import</span> <span class="nn">java.awt.BorderLayout</span><span class="p">;</span>
<span class="kn">import</span> <span class="nn">java.awt.Graphics</span><span class="p">;</span>
<span class="kn">import</span> <span class="nn">java.awt.Graphics2D</span><span class="p">;</span>
<span class="kn">import</span> <span class="nn">java.awt.event.ActionEvent</span><span class="p">;</span>
<span class="kn">import</span> <span class="nn">java.awt.event.ActionListener</span><span class="p">;</span>

<span class="kn">import</span> <span class="nn">javax.swing.JButton</span><span class="p">;</span>
<span class="kn">import</span> <span class="nn">javax.swing.JFrame</span><span class="p">;</span>
<span class="kn">import</span> <span class="nn">javax.swing.JPanel</span><span class="p">;</span>

<span class="kd">public</span> <span class="kd">class</span> <span class="nc">Quadrat</span>  <span class="kd">extends</span> <span class="n">JFrame</span><span class="p">{</span>
    <span class="n">Canvas</span> <span class="n">canvas</span><span class="p">;</span>
<span class="hll">    <span class="kt">boolean</span> <span class="n">zeigeQuadrat</span> <span class="o">=</span> <span class="kc">false</span><span class="p">;</span>
</span>
    <span class="kd">public</span> <span class="nf">Quadrat</span><span class="p">()</span>
    <span class="p">{</span>
        <span class="kd">super</span><span class="p">();</span>
        <span class="k">this</span><span class="p">.</span><span class="na">setTitle</span><span class="p">(</span><span class="s">&quot;Quadrat&quot;</span><span class="p">);</span>
        <span class="k">this</span><span class="p">.</span><span class="na">setDefaultCloseOperation</span><span class="p">(</span><span class="n">JFrame</span><span class="p">.</span><span class="na">EXIT_ON_CLOSE</span><span class="p">);</span>    

        <span class="k">this</span><span class="p">.</span><span class="na">canvas</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Canvas</span><span class="p">();</span>
        <span class="k">this</span><span class="p">.</span><span class="na">getContentPane</span><span class="p">().</span><span class="na">add</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="na">canvas</span><span class="p">,</span> <span class="n">BorderLayout</span><span class="p">.</span><span class="na">CENTER</span><span class="p">);</span>

        <span class="k">this</span><span class="p">.</span><span class="na">getContentPane</span><span class="p">().</span><span class="na">add</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="na">initSouth</span><span class="p">(),</span> <span class="n">BorderLayout</span><span class="p">.</span><span class="na">SOUTH</span><span class="p">);</span>

        <span class="k">this</span><span class="p">.</span><span class="na">setSize</span><span class="p">(</span><span class="mi">400</span><span class="p">,</span> <span class="mi">400</span><span class="p">);</span>
        <span class="k">this</span><span class="p">.</span><span class="na">setLocation</span><span class="p">(</span><span class="mi">300</span><span class="p">,</span><span class="mi">200</span><span class="p">);</span>
        <span class="k">this</span><span class="p">.</span><span class="na">setVisible</span><span class="p">(</span><span class="kc">true</span><span class="p">);</span>
    <span class="p">}</span>

    <span class="kd">private</span> <span class="kd">class</span> <span class="nc">Canvas</span> <span class="kd">extends</span> <span class="n">JPanel</span>
    <span class="p">{</span>
        <span class="nd">@Override</span>
        <span class="kd">protected</span> <span class="kt">void</span> <span class="nf">paintComponent</span><span class="p">(</span><span class="n">Graphics</span> <span class="n">g</span><span class="p">)</span>
        <span class="p">{</span>
            <span class="kd">super</span><span class="p">.</span><span class="na">paintComponent</span><span class="p">(</span><span class="n">g</span><span class="p">);</span>        <span class="c1">// Implementierung von JPanel aufrufen</span>
            <span class="n">Graphics2D</span> <span class="n">g2</span> <span class="o">=</span> <span class="p">(</span><span class="n">Graphics2D</span><span class="p">)</span><span class="n">g</span><span class="p">;</span>  <span class="c1">// Methoden von Graphics2D nutzbar</span>

<span class="hll">            <span class="k">if</span><span class="p">(</span><span class="n">Quadrat</span><span class="p">.</span><span class="na">this</span><span class="p">.</span><span class="na">zeigeQuadrat</span><span class="p">)</span>
</span><span class="hll">            <span class="p">{</span>
</span><span class="hll">                <span class="n">g2</span><span class="p">.</span><span class="na">setStroke</span><span class="p">(</span><span class="k">new</span> <span class="n">BasicStroke</span><span class="p">(</span><span class="mf">3.0f</span><span class="p">));</span>
</span><span class="hll">                <span class="kt">int</span> <span class="n">canvasWidth</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="na">getWidth</span><span class="p">();</span>
</span><span class="hll">                <span class="kt">int</span> <span class="n">canvasHeight</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="na">getHeight</span><span class="p">();</span>
</span><span class="hll">                <span class="k">if</span><span class="p">(</span><span class="n">canvasHeight</span> <span class="o">&gt;</span> <span class="n">canvasWidth</span><span class="p">)</span>
</span><span class="hll">                <span class="p">{</span>
</span><span class="hll">                    <span class="kt">int</span> <span class="n">abstand</span> <span class="o">=</span> <span class="p">(</span><span class="kt">int</span><span class="p">)(</span><span class="n">canvasWidth</span> <span class="o">*</span> <span class="mf">0.1</span><span class="p">);</span>
</span><span class="hll">                    <span class="kt">int</span> <span class="n">seiteQuadrat</span> <span class="o">=</span> <span class="p">(</span><span class="kt">int</span><span class="p">)(</span><span class="n">canvasWidth</span> <span class="o">*</span> <span class="mf">0.8</span><span class="p">);</span>
</span><span class="hll">                    <span class="kt">int</span> <span class="n">oben</span> <span class="o">=</span> <span class="p">(</span><span class="n">canvasHeight</span> <span class="o">-</span> <span class="n">seiteQuadrat</span><span class="p">)</span> <span class="o">/</span> <span class="mi">2</span><span class="p">;</span>
</span><span class="hll">                    <span class="n">g2</span><span class="p">.</span><span class="na">drawRect</span><span class="p">(</span><span class="n">abstand</span><span class="p">,</span> <span class="n">oben</span><span class="p">,</span> <span class="n">seiteQuadrat</span><span class="p">,</span> <span class="n">seiteQuadrat</span><span class="p">);</span>
</span><span class="hll">                <span class="p">}</span>
</span><span class="hll">                <span class="k">else</span>
</span><span class="hll">                <span class="p">{</span>
</span><span class="hll">                    <span class="kt">int</span> <span class="n">abstand</span> <span class="o">=</span> <span class="p">(</span><span class="kt">int</span><span class="p">)(</span><span class="n">canvasHeight</span> <span class="o">*</span> <span class="mf">0.1</span><span class="p">);</span>
</span><span class="hll">                    <span class="kt">int</span> <span class="n">seiteQuadrat</span> <span class="o">=</span> <span class="p">(</span><span class="kt">int</span><span class="p">)(</span><span class="n">canvasHeight</span> <span class="o">*</span> <span class="mf">0.8</span><span class="p">);</span>
</span><span class="hll">                    <span class="kt">int</span> <span class="n">links</span> <span class="o">=</span> <span class="p">(</span><span class="n">canvasWidth</span> <span class="o">-</span> <span class="n">seiteQuadrat</span><span class="p">)</span> <span class="o">/</span> <span class="mi">2</span><span class="p">;</span>
</span><span class="hll">                    <span class="n">g2</span><span class="p">.</span><span class="na">drawRect</span><span class="p">(</span><span class="n">links</span><span class="p">,</span> <span class="n">abstand</span><span class="p">,</span> <span class="n">seiteQuadrat</span><span class="p">,</span> <span class="n">seiteQuadrat</span><span class="p">);</span>
</span><span class="hll">                <span class="p">}</span>
</span><span class="hll">            <span class="p">}</span>
</span>        <span class="p">}</span>
    <span class="p">}</span>

    <span class="kd">private</span> <span class="n">JPanel</span> <span class="nf">initSouth</span><span class="p">()</span> 
    <span class="p">{</span>
        <span class="n">JPanel</span> <span class="n">south</span> <span class="o">=</span> <span class="k">new</span> <span class="n">JPanel</span><span class="p">();</span>

        <span class="n">JButton</span> <span class="n">newBtn</span> <span class="o">=</span> <span class="k">new</span> <span class="n">JButton</span><span class="p">(</span><span class="s">&quot;new&quot;</span><span class="p">);</span>

<span class="hll">        <span class="n">newBtn</span><span class="p">.</span><span class="na">addActionListener</span><span class="p">(</span><span class="k">new</span> <span class="n">ActionListener</span><span class="p">()</span> <span class="p">{</span>
</span><span class="hll">
</span><span class="hll">            <span class="nd">@Override</span>
</span><span class="hll">            <span class="kd">public</span> <span class="kt">void</span> <span class="nf">actionPerformed</span><span class="p">(</span><span class="n">ActionEvent</span> <span class="n">e</span><span class="p">)</span> 
</span><span class="hll">            <span class="p">{</span>
</span><span class="hll">                <span class="n">Quadrat</span><span class="p">.</span><span class="na">this</span><span class="p">.</span><span class="na">zeigeQuadrat</span> <span class="o">=</span> <span class="kc">true</span><span class="p">;</span>
</span><span class="hll">                <span class="n">JButton</span> <span class="n">thisBtn</span> <span class="o">=</span> <span class="p">(</span><span class="n">JButton</span><span class="p">)</span><span class="n">e</span><span class="p">.</span><span class="na">getSource</span><span class="p">();</span>  <span class="c1">// kann nur der newBtn sein!</span>
</span><span class="hll">                <span class="n">thisBtn</span><span class="p">.</span><span class="na">setText</span><span class="p">(</span><span class="s">&quot;refresh&quot;</span><span class="p">);</span>
</span><span class="hll">                <span class="n">Quadrat</span><span class="p">.</span><span class="na">this</span><span class="p">.</span><span class="na">canvas</span><span class="p">.</span><span class="na">repaint</span><span class="p">();</span>
</span><span class="hll">
</span><span class="hll">            <span class="p">}</span>
</span><span class="hll">
</span><span class="hll">        <span class="p">});</span>
</span>
        <span class="n">JButton</span> <span class="n">fillBtn</span> <span class="o">=</span> <span class="k">new</span> <span class="n">JButton</span><span class="p">(</span><span class="s">&quot;fill&quot;</span><span class="p">);</span>

        <span class="n">south</span><span class="p">.</span><span class="na">add</span><span class="p">(</span><span class="n">newBtn</span><span class="p">);</span>
        <span class="n">south</span><span class="p">.</span><span class="na">add</span><span class="p">(</span><span class="n">fillBtn</span><span class="p">);</span>

        <span class="k">return</span> <span class="n">south</span><span class="p">;</span>
    <span class="p">}</span>

    <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="p">(</span><span class="n">String</span><span class="o">[]</span> <span class="n">args</span><span class="p">)</span> 
    <span class="p">{</span>
        <span class="k">new</span> <span class="n">Quadrat</span><span class="p">();</span>
    <span class="p">}</span>
<span class="p">}</span>
</code></pre></div>
</td></tr></table>
<ul>
<li>
<p>Wenn die Variable <code>zeigeQuadrat</code> durch den Buttonklick auf <code>true</code> gesetzt wurde (Zeile <code>74</code>), dann wird in der <code>paintComponent()</code>-Methode das Quadrat dargestellt (Zeile <code>40</code>).</p>
</li>
<li>
<p>Zur korrekten Darstellung des Quadrates ist es von Bedeutung, ob das Fenster (die <code>Canvas</code>) höher als breit ist oder umgedreht (Zeile <code>45</code>). </p>
</li>
<li>
<p>Ist es höher als breit, dann wird es in die <strong>Breite</strong> der <code>Canvas</code> eingepasst, d.h. der Abstand nach links ist 1/10 der <code>Canvas</code>-Breite (Zeile <code>47</code>) und die Seitenlänge des Quadrates ist 8/10 der Breite (Zeile <code>48</code>). Der Abstand des Quadrates nach oben muss entsprechend berechnet werden (Zeile <code>49</code>).</p>
</li>
<li>
<p>Ist es breiter als hoch, dann wird es in die <strong>Höhe</strong> der <code>Canvas</code> eingepasst, d.h. der Abstand nach oben ist 1/10 der <code>Canvas</code>-Höhe (Zeile <code>54</code>) und die Seitenlänge des Quadrates ist 8/10 der Höhe (Zeile <code>55</code>). Der Abstand des Quadrates nach links muss entsprechend berechnet werden (Zeile <code>56</code>).</p>
</li>
<li>
<p>In der <code>actionPerformed()</code>-Methode für den Button wird nicht nur <code>zeigeQuadrat</code> auf <code>true</code> gesetzt, sondern die <code>Canvas</code> auch neu gezeichnet (Zeile <code>77</code>)! </p>
</li>
<li>
<p>Die Quelle des <code>ActionEvent</code> kann nur der Button selbst sein, da wir eine anonyme Klasse zur Implementierung des <code>ActionListener</code> verwenden. Deshalb können wir die Quelle ohne Prüfung in einen <code>JButton</code> konvertieren (Zeile <code>75</code>). Mithilfe der <code>setText()</code>-methode für <code>JButton</code> setzen wir den neuen Buttontext auf <code>refresh</code> (Zeile <code>76</code>).</p>
</li>
</ul>
</li>
<li>
<p>Die Implementierung des <code>ActionListener</code> für den <code>fill</code>-Button erledigen wir erneut mit einer anonymen Klasse. Wir gehen ähnlich vor, wie beim <code>new</code>-Button und erstellen eine globale Variable <code>fuelleQuadrat</code>. Diese gibt an, ob das Quadrat befüllt gezeichnet werden soll oder nicht. </p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">  1</span>
<span class="normal">  2</span>
<span class="normal">  3</span>
<span class="normal">  4</span>
<span class="normal">  5</span>
<span class="normal">  6</span>
<span class="normal">  7</span>
<span class="normal">  8</span>
<span class="normal">  9</span>
<span class="normal"> 10</span>
<span class="normal"> 11</span>
<span class="normal"> 12</span>
<span class="normal"> 13</span>
<span class="normal"> 14</span>
<span class="normal"> 15</span>
<span class="normal"> 16</span>
<span class="normal"> 17</span>
<span class="normal"> 18</span>
<span class="normal"> 19</span>
<span class="normal"> 20</span>
<span class="normal"> 21</span>
<span class="normal"> 22</span>
<span class="normal"> 23</span>
<span class="normal"> 24</span>
<span class="normal"> 25</span>
<span class="normal"> 26</span>
<span class="normal"> 27</span>
<span class="normal"> 28</span>
<span class="normal"> 29</span>
<span class="normal"> 30</span>
<span class="normal"> 31</span>
<span class="normal"> 32</span>
<span class="normal"> 33</span>
<span class="normal"> 34</span>
<span class="normal"> 35</span>
<span class="normal"> 36</span>
<span class="normal"> 37</span>
<span class="normal"> 38</span>
<span class="normal"> 39</span>
<span class="normal"> 40</span>
<span class="normal"> 41</span>
<span class="normal"> 42</span>
<span class="normal"> 43</span>
<span class="normal"> 44</span>
<span class="normal"> 45</span>
<span class="normal"> 46</span>
<span class="normal"> 47</span>
<span class="normal"> 48</span>
<span class="normal"> 49</span>
<span class="normal"> 50</span>
<span class="normal"> 51</span>
<span class="normal"> 52</span>
<span class="normal"> 53</span>
<span class="normal"> 54</span>
<span class="normal"> 55</span>
<span class="normal"> 56</span>
<span class="normal"> 57</span>
<span class="normal"> 58</span>
<span class="normal"> 59</span>
<span class="normal"> 60</span>
<span class="normal"> 61</span>
<span class="normal"> 62</span>
<span class="normal"> 63</span>
<span class="normal"> 64</span>
<span class="normal"> 65</span>
<span class="normal"> 66</span>
<span class="normal"> 67</span>
<span class="normal"> 68</span>
<span class="normal"> 69</span>
<span class="normal"> 70</span>
<span class="normal"> 71</span>
<span class="normal"> 72</span>
<span class="normal"> 73</span>
<span class="normal"> 74</span>
<span class="normal"> 75</span>
<span class="normal"> 76</span>
<span class="normal"> 77</span>
<span class="normal"> 78</span>
<span class="normal"> 79</span>
<span class="normal"> 80</span>
<span class="normal"> 81</span>
<span class="normal"> 82</span>
<span class="normal"> 83</span>
<span class="normal"> 84</span>
<span class="normal"> 85</span>
<span class="normal"> 86</span>
<span class="normal"> 87</span>
<span class="normal"> 88</span>
<span class="normal"> 89</span>
<span class="normal"> 90</span>
<span class="normal"> 91</span>
<span class="normal"> 92</span>
<span class="normal"> 93</span>
<span class="normal"> 94</span>
<span class="normal"> 95</span>
<span class="normal"> 96</span>
<span class="normal"> 97</span>
<span class="normal"> 98</span>
<span class="normal"> 99</span>
<span class="normal">100</span>
<span class="normal">101</span>
<span class="normal">102</span>
<span class="normal">103</span>
<span class="normal">104</span>
<span class="normal">105</span>
<span class="normal">106</span>
<span class="normal">107</span>
<span class="normal">108</span>
<span class="normal">109</span>
<span class="normal">110</span>
<span class="normal">111</span>
<span class="normal">112</span>
<span class="normal">113</span>
<span class="normal">114</span>
<span class="normal">115</span>
<span class="normal">116</span>
<span class="normal">117</span>
<span class="normal">118</span>
<span class="normal">119</span>
<span class="normal">120</span>
<span class="normal">121</span>
<span class="normal">122</span>
<span class="normal">123</span>
<span class="normal">124</span>
<span class="normal">125</span>
<span class="normal">126</span>
<span class="normal">127</span>
<span class="normal">128</span>
<span class="normal">129</span>
<span class="normal">130</span>
<span class="normal">131</span>
<span class="normal">132</span>
<span class="normal">133</span></pre></div></td><td class="code"><div class="highlight"><pre><span></span><code><span class="kn">import</span> <span class="nn">java.awt.BasicStroke</span><span class="p">;</span>
<span class="kn">import</span> <span class="nn">java.awt.BorderLayout</span><span class="p">;</span>
<span class="kn">import</span> <span class="nn">java.awt.Color</span><span class="p">;</span>
<span class="kn">import</span> <span class="nn">java.awt.Graphics</span><span class="p">;</span>
<span class="kn">import</span> <span class="nn">java.awt.Graphics2D</span><span class="p">;</span>
<span class="kn">import</span> <span class="nn">java.awt.event.ActionEvent</span><span class="p">;</span>
<span class="kn">import</span> <span class="nn">java.awt.event.ActionListener</span><span class="p">;</span>
<span class="kn">import</span> <span class="nn">java.util.Random</span><span class="p">;</span>

<span class="kn">import</span> <span class="nn">javax.swing.JButton</span><span class="p">;</span>
<span class="kn">import</span> <span class="nn">javax.swing.JFrame</span><span class="p">;</span>
<span class="kn">import</span> <span class="nn">javax.swing.JPanel</span><span class="p">;</span>

<span class="kd">public</span> <span class="kd">class</span> <span class="nc">Quadrat</span>  <span class="kd">extends</span> <span class="n">JFrame</span><span class="p">{</span>
    <span class="n">Canvas</span> <span class="n">canvas</span><span class="p">;</span>
    <span class="kt">boolean</span> <span class="n">zeigeQuadrat</span> <span class="o">=</span> <span class="kc">false</span><span class="p">;</span>
<span class="hll">    <span class="kt">boolean</span> <span class="n">fuelleQuadrat</span> <span class="o">=</span> <span class="kc">false</span><span class="p">;</span>
</span>
    <span class="kd">public</span> <span class="nf">Quadrat</span><span class="p">()</span>
    <span class="p">{</span>
        <span class="kd">super</span><span class="p">();</span>
        <span class="k">this</span><span class="p">.</span><span class="na">setTitle</span><span class="p">(</span><span class="s">&quot;Quadrat&quot;</span><span class="p">);</span>
        <span class="k">this</span><span class="p">.</span><span class="na">setDefaultCloseOperation</span><span class="p">(</span><span class="n">JFrame</span><span class="p">.</span><span class="na">EXIT_ON_CLOSE</span><span class="p">);</span>    

        <span class="k">this</span><span class="p">.</span><span class="na">canvas</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Canvas</span><span class="p">();</span>
        <span class="k">this</span><span class="p">.</span><span class="na">getContentPane</span><span class="p">().</span><span class="na">add</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="na">canvas</span><span class="p">,</span> <span class="n">BorderLayout</span><span class="p">.</span><span class="na">CENTER</span><span class="p">);</span>

        <span class="k">this</span><span class="p">.</span><span class="na">getContentPane</span><span class="p">().</span><span class="na">add</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="na">initSouth</span><span class="p">(),</span> <span class="n">BorderLayout</span><span class="p">.</span><span class="na">SOUTH</span><span class="p">);</span>

        <span class="k">this</span><span class="p">.</span><span class="na">setSize</span><span class="p">(</span><span class="mi">400</span><span class="p">,</span> <span class="mi">400</span><span class="p">);</span>
        <span class="k">this</span><span class="p">.</span><span class="na">setLocation</span><span class="p">(</span><span class="mi">300</span><span class="p">,</span><span class="mi">200</span><span class="p">);</span>
        <span class="k">this</span><span class="p">.</span><span class="na">setVisible</span><span class="p">(</span><span class="kc">true</span><span class="p">);</span>
    <span class="p">}</span>

    <span class="kd">private</span> <span class="kd">class</span> <span class="nc">Canvas</span> <span class="kd">extends</span> <span class="n">JPanel</span>
    <span class="p">{</span>
        <span class="nd">@Override</span>
        <span class="kd">protected</span> <span class="kt">void</span> <span class="nf">paintComponent</span><span class="p">(</span><span class="n">Graphics</span> <span class="n">g</span><span class="p">)</span>
        <span class="p">{</span>
            <span class="kd">super</span><span class="p">.</span><span class="na">paintComponent</span><span class="p">(</span><span class="n">g</span><span class="p">);</span>        <span class="c1">// Implementierung von JPanel aufrufen</span>
            <span class="n">Graphics2D</span> <span class="n">g2</span> <span class="o">=</span> <span class="p">(</span><span class="n">Graphics2D</span><span class="p">)</span><span class="n">g</span><span class="p">;</span>  <span class="c1">// Methoden von Graphics2D nutzbar</span>

            <span class="k">if</span><span class="p">(</span><span class="n">Quadrat</span><span class="p">.</span><span class="na">this</span><span class="p">.</span><span class="na">zeigeQuadrat</span><span class="p">)</span>
            <span class="p">{</span>
                <span class="n">g2</span><span class="p">.</span><span class="na">setStroke</span><span class="p">(</span><span class="k">new</span> <span class="n">BasicStroke</span><span class="p">(</span><span class="mf">3.0f</span><span class="p">));</span>
                <span class="kt">int</span> <span class="n">canvasWidth</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="na">getWidth</span><span class="p">();</span>
                <span class="kt">int</span> <span class="n">canvasHeight</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="na">getHeight</span><span class="p">();</span>
<span class="hll">                <span class="n">Random</span> <span class="n">r</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Random</span><span class="p">();</span>
</span><span class="hll">                <span class="kt">int</span> <span class="n">rot</span> <span class="o">=</span> <span class="n">r</span><span class="p">.</span><span class="na">nextInt</span><span class="p">(</span><span class="mi">256</span><span class="p">);</span>
</span><span class="hll">                <span class="kt">int</span> <span class="n">gruen</span> <span class="o">=</span> <span class="n">r</span><span class="p">.</span><span class="na">nextInt</span><span class="p">(</span><span class="mi">256</span><span class="p">);</span>
</span><span class="hll">                <span class="kt">int</span> <span class="n">blau</span> <span class="o">=</span> <span class="n">r</span><span class="p">.</span><span class="na">nextInt</span><span class="p">(</span><span class="mi">256</span><span class="p">);</span>
</span><span class="hll">                <span class="n">g2</span><span class="p">.</span><span class="na">setColor</span><span class="p">(</span><span class="k">new</span> <span class="n">Color</span><span class="p">(</span><span class="n">rot</span><span class="p">,</span> <span class="n">gruen</span><span class="p">,</span> <span class="n">blau</span><span class="p">));</span>
</span>
                <span class="k">if</span><span class="p">(</span><span class="n">canvasHeight</span> <span class="o">&gt;</span> <span class="n">canvasWidth</span><span class="p">)</span>
                <span class="p">{</span>
                    <span class="kt">int</span> <span class="n">abstand</span> <span class="o">=</span> <span class="p">(</span><span class="kt">int</span><span class="p">)(</span><span class="n">canvasWidth</span> <span class="o">*</span> <span class="mf">0.1</span><span class="p">);</span>
                    <span class="kt">int</span> <span class="n">seiteQuadrat</span> <span class="o">=</span> <span class="p">(</span><span class="kt">int</span><span class="p">)(</span><span class="n">canvasWidth</span> <span class="o">*</span> <span class="mf">0.8</span><span class="p">);</span>
                    <span class="kt">int</span> <span class="n">oben</span> <span class="o">=</span> <span class="p">(</span><span class="n">canvasHeight</span> <span class="o">-</span> <span class="n">seiteQuadrat</span><span class="p">)</span> <span class="o">/</span> <span class="mi">2</span><span class="p">;</span>
<span class="hll">                    <span class="k">if</span><span class="p">(</span><span class="n">fuelleQuadrat</span><span class="p">)</span>
</span><span class="hll">                    <span class="p">{</span>
</span><span class="hll">                        <span class="n">g2</span><span class="p">.</span><span class="na">fillRect</span><span class="p">(</span><span class="n">abstand</span><span class="p">,</span> <span class="n">oben</span><span class="p">,</span> <span class="n">seiteQuadrat</span><span class="p">,</span> <span class="n">seiteQuadrat</span><span class="p">);</span>
</span><span class="hll">                    <span class="p">}</span>
</span>                    <span class="n">g2</span><span class="p">.</span><span class="na">setColor</span><span class="p">(</span><span class="n">Color</span><span class="p">.</span><span class="na">BLACK</span><span class="p">);</span>
                    <span class="n">g2</span><span class="p">.</span><span class="na">drawRect</span><span class="p">(</span><span class="n">abstand</span><span class="p">,</span> <span class="n">oben</span><span class="p">,</span> <span class="n">seiteQuadrat</span><span class="p">,</span> <span class="n">seiteQuadrat</span><span class="p">);</span>
                <span class="p">}</span>
                <span class="k">else</span>
                <span class="p">{</span>
                    <span class="kt">int</span> <span class="n">abstand</span> <span class="o">=</span> <span class="p">(</span><span class="kt">int</span><span class="p">)(</span><span class="n">canvasHeight</span> <span class="o">*</span> <span class="mf">0.1</span><span class="p">);</span>
                    <span class="kt">int</span> <span class="n">seiteQuadrat</span> <span class="o">=</span> <span class="p">(</span><span class="kt">int</span><span class="p">)(</span><span class="n">canvasHeight</span> <span class="o">*</span> <span class="mf">0.8</span><span class="p">);</span>
                    <span class="kt">int</span> <span class="n">links</span> <span class="o">=</span> <span class="p">(</span><span class="n">canvasWidth</span> <span class="o">-</span> <span class="n">seiteQuadrat</span><span class="p">)</span> <span class="o">/</span> <span class="mi">2</span><span class="p">;</span>
<span class="hll">                    <span class="k">if</span><span class="p">(</span><span class="n">fuelleQuadrat</span><span class="p">)</span>
</span><span class="hll">                    <span class="p">{</span>
</span><span class="hll">                        <span class="n">g2</span><span class="p">.</span><span class="na">fillRect</span><span class="p">(</span><span class="n">links</span><span class="p">,</span> <span class="n">abstand</span><span class="p">,</span> <span class="n">seiteQuadrat</span><span class="p">,</span> <span class="n">seiteQuadrat</span><span class="p">);</span>
</span><span class="hll">                    <span class="p">}</span>
</span>                    <span class="n">g2</span><span class="p">.</span><span class="na">setColor</span><span class="p">(</span><span class="n">Color</span><span class="p">.</span><span class="na">BLACK</span><span class="p">);</span>
                    <span class="n">g2</span><span class="p">.</span><span class="na">drawRect</span><span class="p">(</span><span class="n">links</span><span class="p">,</span> <span class="n">abstand</span><span class="p">,</span> <span class="n">seiteQuadrat</span><span class="p">,</span> <span class="n">seiteQuadrat</span><span class="p">);</span>
                <span class="p">}</span>
            <span class="p">}</span>
        <span class="p">}</span>
    <span class="p">}</span>

    <span class="kd">private</span> <span class="n">JPanel</span> <span class="nf">initSouth</span><span class="p">()</span> 
    <span class="p">{</span>
        <span class="n">JPanel</span> <span class="n">south</span> <span class="o">=</span> <span class="k">new</span> <span class="n">JPanel</span><span class="p">();</span>

        <span class="n">JButton</span> <span class="n">newBtn</span> <span class="o">=</span> <span class="k">new</span> <span class="n">JButton</span><span class="p">(</span><span class="s">&quot;new&quot;</span><span class="p">);</span>

        <span class="n">newBtn</span><span class="p">.</span><span class="na">addActionListener</span><span class="p">(</span><span class="k">new</span> <span class="n">ActionListener</span><span class="p">()</span> <span class="p">{</span>

            <span class="nd">@Override</span>
            <span class="kd">public</span> <span class="kt">void</span> <span class="nf">actionPerformed</span><span class="p">(</span><span class="n">ActionEvent</span> <span class="n">e</span><span class="p">)</span> 
            <span class="p">{</span>
                <span class="n">Quadrat</span><span class="p">.</span><span class="na">this</span><span class="p">.</span><span class="na">zeigeQuadrat</span> <span class="o">=</span> <span class="kc">true</span><span class="p">;</span>
                <span class="n">JButton</span> <span class="n">thisBtn</span> <span class="o">=</span> <span class="p">(</span><span class="n">JButton</span><span class="p">)</span><span class="n">e</span><span class="p">.</span><span class="na">getSource</span><span class="p">();</span>  <span class="c1">// kann nur der newBtn sein!</span>
                <span class="n">thisBtn</span><span class="p">.</span><span class="na">setText</span><span class="p">(</span><span class="s">&quot;refresh&quot;</span><span class="p">);</span>
                <span class="n">Quadrat</span><span class="p">.</span><span class="na">this</span><span class="p">.</span><span class="na">canvas</span><span class="p">.</span><span class="na">repaint</span><span class="p">();</span>  
            <span class="p">}</span>

        <span class="p">});</span>

        <span class="n">JButton</span> <span class="n">fillBtn</span> <span class="o">=</span> <span class="k">new</span> <span class="n">JButton</span><span class="p">(</span><span class="s">&quot;fill&quot;</span><span class="p">);</span>

<span class="hll">        <span class="n">fillBtn</span><span class="p">.</span><span class="na">addActionListener</span><span class="p">(</span><span class="k">new</span> <span class="n">ActionListener</span><span class="p">()</span> <span class="p">{</span>
</span><span class="hll">
</span><span class="hll">            <span class="nd">@Override</span>
</span><span class="hll">            <span class="kd">public</span> <span class="kt">void</span> <span class="nf">actionPerformed</span><span class="p">(</span><span class="n">ActionEvent</span> <span class="n">e</span><span class="p">)</span> <span class="p">{</span>
</span><span class="hll">                <span class="n">JButton</span> <span class="n">thisBtn</span> <span class="o">=</span> <span class="p">(</span><span class="n">JButton</span><span class="p">)</span><span class="n">e</span><span class="p">.</span><span class="na">getSource</span><span class="p">();</span>  
</span><span class="hll">                <span class="k">if</span><span class="p">(</span><span class="n">thisBtn</span><span class="p">.</span><span class="na">getText</span><span class="p">().</span><span class="na">equals</span><span class="p">(</span><span class="s">&quot;fill&quot;</span><span class="p">))</span>
</span><span class="hll">                <span class="p">{</span>
</span><span class="hll">                    <span class="n">Quadrat</span><span class="p">.</span><span class="na">this</span><span class="p">.</span><span class="na">fuelleQuadrat</span> <span class="o">=</span> <span class="kc">true</span><span class="p">;</span>
</span><span class="hll">                    <span class="n">thisBtn</span><span class="p">.</span><span class="na">setText</span><span class="p">(</span><span class="s">&quot;unfill&quot;</span><span class="p">);</span>
</span><span class="hll">                <span class="p">}</span>
</span><span class="hll">                <span class="k">else</span> 
</span><span class="hll">                <span class="p">{</span>
</span><span class="hll">                    <span class="n">Quadrat</span><span class="p">.</span><span class="na">this</span><span class="p">.</span><span class="na">fuelleQuadrat</span> <span class="o">=</span> <span class="kc">false</span><span class="p">;</span>
</span><span class="hll">                    <span class="n">thisBtn</span><span class="p">.</span><span class="na">setText</span><span class="p">(</span><span class="s">&quot;fill&quot;</span><span class="p">);</span>
</span><span class="hll">                <span class="p">}</span>
</span><span class="hll">                <span class="n">Quadrat</span><span class="p">.</span><span class="na">this</span><span class="p">.</span><span class="na">canvas</span><span class="p">.</span><span class="na">repaint</span><span class="p">();</span>  
</span><span class="hll">            <span class="p">}</span>
</span><span class="hll">
</span><span class="hll">        <span class="p">});</span>
</span>
        <span class="n">south</span><span class="p">.</span><span class="na">add</span><span class="p">(</span><span class="n">newBtn</span><span class="p">);</span>
        <span class="n">south</span><span class="p">.</span><span class="na">add</span><span class="p">(</span><span class="n">fillBtn</span><span class="p">);</span>

        <span class="k">return</span> <span class="n">south</span><span class="p">;</span>
    <span class="p">}</span>

    <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="p">(</span><span class="n">String</span><span class="o">[]</span> <span class="n">args</span><span class="p">)</span> 
    <span class="p">{</span>
        <span class="k">new</span> <span class="n">Quadrat</span><span class="p">();</span>
    <span class="p">}</span>
<span class="p">}</span>
</code></pre></div>
</td></tr></table>
<ul>
<li>
<p>Die Farbe zum Ausfüllen erzeugen wir zufällig mithilfe von <code>Random</code> (Zeilen <code>48-52</code>).</p>
</li>
<li>
<p>Es wird jeweils zuerst aus das ausgefüllte Quadrat gezeichnet (Zeile <code>61</code> bzw. <code>73</code>) falls <code>fuelleQuadrat</code> den Wert <code>true</code> hat (Zeile <code>59</code> bzw. <code>71</code>).</p>
</li>
<li>
<p>Nach dem Zeichnen des befüllten Quadrates wird die Zeichenfarbe wieder auf schwarz gestellt (Zeile <code>63</code> bzw. <code>75</code>) und dann das nichtausgefüllte Quadrat gezeichnet. </p>
</li>
<li>
<p>In der <code>actionPerformed()</code>_Methode müssen wir unterscheiden, ob im Button <code>fill</code> steht oder <code>unfill</code> (zeile <code>108</code>). Je nachdem wird <code>fuelleQuadrat</code> auf <code>true</code> oder <code>false</code> gesetzt und der Text im Button entsprechend geändert. </p>
</li>
</ul>
</li>
<li>
<p>Um nicht bei jeden Aufruf von <code>paintComponent()</code> eine neue Füllfarbe zufällig zu erzeugen, muss das Erzeugen der Farbe ausgelagert werden. Da auf die Farbe sowohl in <code>paintComponent()</code> (<em>View</em>)  als auch in <code>actionPerfomed()</code> (<em>Controller</em>) zugegriffen wird, muss diese als <strong>globale</strong> Referenz deklariert werden.</p>
<ul>
<li>Wahrscheinlich ist es gut, die Farbe beim ersten Mal zu erzeugen, wenn der <code>new</code>-Button geklickt wird und dann immer durch das Klicken des <code>refresh</code>-Buttons. </li>
</ul>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">  1</span>
<span class="normal">  2</span>
<span class="normal">  3</span>
<span class="normal">  4</span>
<span class="normal">  5</span>
<span class="normal">  6</span>
<span class="normal">  7</span>
<span class="normal">  8</span>
<span class="normal">  9</span>
<span class="normal"> 10</span>
<span class="normal"> 11</span>
<span class="normal"> 12</span>
<span class="normal"> 13</span>
<span class="normal"> 14</span>
<span class="normal"> 15</span>
<span class="normal"> 16</span>
<span class="normal"> 17</span>
<span class="normal"> 18</span>
<span class="normal"> 19</span>
<span class="normal"> 20</span>
<span class="normal"> 21</span>
<span class="normal"> 22</span>
<span class="normal"> 23</span>
<span class="normal"> 24</span>
<span class="normal"> 25</span>
<span class="normal"> 26</span>
<span class="normal"> 27</span>
<span class="normal"> 28</span>
<span class="normal"> 29</span>
<span class="normal"> 30</span>
<span class="normal"> 31</span>
<span class="normal"> 32</span>
<span class="normal"> 33</span>
<span class="normal"> 34</span>
<span class="normal"> 35</span>
<span class="normal"> 36</span>
<span class="normal"> 37</span>
<span class="normal"> 38</span>
<span class="normal"> 39</span>
<span class="normal"> 40</span>
<span class="normal"> 41</span>
<span class="normal"> 42</span>
<span class="normal"> 43</span>
<span class="normal"> 44</span>
<span class="normal"> 45</span>
<span class="normal"> 46</span>
<span class="normal"> 47</span>
<span class="normal"> 48</span>
<span class="normal"> 49</span>
<span class="normal"> 50</span>
<span class="normal"> 51</span>
<span class="normal"> 52</span>
<span class="normal"> 53</span>
<span class="normal"> 54</span>
<span class="normal"> 55</span>
<span class="normal"> 56</span>
<span class="normal"> 57</span>
<span class="normal"> 58</span>
<span class="normal"> 59</span>
<span class="normal"> 60</span>
<span class="normal"> 61</span>
<span class="normal"> 62</span>
<span class="normal"> 63</span>
<span class="normal"> 64</span>
<span class="normal"> 65</span>
<span class="normal"> 66</span>
<span class="normal"> 67</span>
<span class="normal"> 68</span>
<span class="normal"> 69</span>
<span class="normal"> 70</span>
<span class="normal"> 71</span>
<span class="normal"> 72</span>
<span class="normal"> 73</span>
<span class="normal"> 74</span>
<span class="normal"> 75</span>
<span class="normal"> 76</span>
<span class="normal"> 77</span>
<span class="normal"> 78</span>
<span class="normal"> 79</span>
<span class="normal"> 80</span>
<span class="normal"> 81</span>
<span class="normal"> 82</span>
<span class="normal"> 83</span>
<span class="normal"> 84</span>
<span class="normal"> 85</span>
<span class="normal"> 86</span>
<span class="normal"> 87</span>
<span class="normal"> 88</span>
<span class="normal"> 89</span>
<span class="normal"> 90</span>
<span class="normal"> 91</span>
<span class="normal"> 92</span>
<span class="normal"> 93</span>
<span class="normal"> 94</span>
<span class="normal"> 95</span>
<span class="normal"> 96</span>
<span class="normal"> 97</span>
<span class="normal"> 98</span>
<span class="normal"> 99</span>
<span class="normal">100</span>
<span class="normal">101</span>
<span class="normal">102</span>
<span class="normal">103</span>
<span class="normal">104</span>
<span class="normal">105</span>
<span class="normal">106</span>
<span class="normal">107</span>
<span class="normal">108</span>
<span class="normal">109</span>
<span class="normal">110</span>
<span class="normal">111</span>
<span class="normal">112</span>
<span class="normal">113</span>
<span class="normal">114</span>
<span class="normal">115</span>
<span class="normal">116</span>
<span class="normal">117</span>
<span class="normal">118</span>
<span class="normal">119</span>
<span class="normal">120</span>
<span class="normal">121</span>
<span class="normal">122</span>
<span class="normal">123</span>
<span class="normal">124</span>
<span class="normal">125</span>
<span class="normal">126</span>
<span class="normal">127</span>
<span class="normal">128</span>
<span class="normal">129</span>
<span class="normal">130</span>
<span class="normal">131</span>
<span class="normal">132</span>
<span class="normal">133</span>
<span class="normal">134</span>
<span class="normal">135</span>
<span class="normal">136</span>
<span class="normal">137</span>
<span class="normal">138</span>
<span class="normal">139</span>
<span class="normal">140</span>
<span class="normal">141</span>
<span class="normal">142</span></pre></div></td><td class="code"><div class="highlight"><pre><span></span><code><span class="kn">import</span> <span class="nn">java.awt.BasicStroke</span><span class="p">;</span>
<span class="kn">import</span> <span class="nn">java.awt.BorderLayout</span><span class="p">;</span>
<span class="kn">import</span> <span class="nn">java.awt.Color</span><span class="p">;</span>
<span class="kn">import</span> <span class="nn">java.awt.Graphics</span><span class="p">;</span>
<span class="kn">import</span> <span class="nn">java.awt.Graphics2D</span><span class="p">;</span>
<span class="kn">import</span> <span class="nn">java.awt.event.ActionEvent</span><span class="p">;</span>
<span class="kn">import</span> <span class="nn">java.awt.event.ActionListener</span><span class="p">;</span>
<span class="kn">import</span> <span class="nn">java.util.Random</span><span class="p">;</span>

<span class="kn">import</span> <span class="nn">javax.swing.JButton</span><span class="p">;</span>
<span class="kn">import</span> <span class="nn">javax.swing.JFrame</span><span class="p">;</span>
<span class="kn">import</span> <span class="nn">javax.swing.JPanel</span><span class="p">;</span>

<span class="kd">public</span> <span class="kd">class</span> <span class="nc">Quadrat</span>  <span class="kd">extends</span> <span class="n">JFrame</span><span class="p">{</span>
    <span class="n">Canvas</span> <span class="n">canvas</span><span class="p">;</span>
    <span class="kt">boolean</span> <span class="n">zeigeQuadrat</span> <span class="o">=</span> <span class="kc">false</span><span class="p">;</span>
    <span class="kt">boolean</span> <span class="n">fuelleQuadrat</span> <span class="o">=</span> <span class="kc">false</span><span class="p">;</span>
<span class="hll">    <span class="n">Color</span> <span class="n">aktuelleFuellfarbe</span> <span class="o">=</span> <span class="n">Color</span><span class="p">.</span><span class="na">WHITE</span><span class="p">;</span>
</span>
    <span class="kd">public</span> <span class="nf">Quadrat</span><span class="p">()</span>
    <span class="p">{</span>
        <span class="kd">super</span><span class="p">();</span>
        <span class="k">this</span><span class="p">.</span><span class="na">setTitle</span><span class="p">(</span><span class="s">&quot;Quadrat&quot;</span><span class="p">);</span>
        <span class="k">this</span><span class="p">.</span><span class="na">setDefaultCloseOperation</span><span class="p">(</span><span class="n">JFrame</span><span class="p">.</span><span class="na">EXIT_ON_CLOSE</span><span class="p">);</span>    

        <span class="k">this</span><span class="p">.</span><span class="na">canvas</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Canvas</span><span class="p">();</span>
        <span class="k">this</span><span class="p">.</span><span class="na">getContentPane</span><span class="p">().</span><span class="na">add</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="na">canvas</span><span class="p">,</span> <span class="n">BorderLayout</span><span class="p">.</span><span class="na">CENTER</span><span class="p">);</span>

        <span class="k">this</span><span class="p">.</span><span class="na">getContentPane</span><span class="p">().</span><span class="na">add</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="na">initSouth</span><span class="p">(),</span> <span class="n">BorderLayout</span><span class="p">.</span><span class="na">SOUTH</span><span class="p">);</span>

        <span class="k">this</span><span class="p">.</span><span class="na">setSize</span><span class="p">(</span><span class="mi">400</span><span class="p">,</span> <span class="mi">400</span><span class="p">);</span>
        <span class="k">this</span><span class="p">.</span><span class="na">setLocation</span><span class="p">(</span><span class="mi">300</span><span class="p">,</span><span class="mi">200</span><span class="p">);</span>
        <span class="k">this</span><span class="p">.</span><span class="na">setVisible</span><span class="p">(</span><span class="kc">true</span><span class="p">);</span>
    <span class="p">}</span>

    <span class="kd">private</span> <span class="kd">class</span> <span class="nc">Canvas</span> <span class="kd">extends</span> <span class="n">JPanel</span>
    <span class="p">{</span>
        <span class="nd">@Override</span>
        <span class="kd">protected</span> <span class="kt">void</span> <span class="nf">paintComponent</span><span class="p">(</span><span class="n">Graphics</span> <span class="n">g</span><span class="p">)</span>
        <span class="p">{</span>
            <span class="kd">super</span><span class="p">.</span><span class="na">paintComponent</span><span class="p">(</span><span class="n">g</span><span class="p">);</span>        <span class="c1">// Implementierung von JPanel aufrufen</span>
            <span class="n">Graphics2D</span> <span class="n">g2</span> <span class="o">=</span> <span class="p">(</span><span class="n">Graphics2D</span><span class="p">)</span><span class="n">g</span><span class="p">;</span>  <span class="c1">// Methoden von Graphics2D nutzbar</span>

            <span class="k">if</span><span class="p">(</span><span class="n">Quadrat</span><span class="p">.</span><span class="na">this</span><span class="p">.</span><span class="na">zeigeQuadrat</span><span class="p">)</span>
            <span class="p">{</span>
                <span class="n">g2</span><span class="p">.</span><span class="na">setStroke</span><span class="p">(</span><span class="k">new</span> <span class="n">BasicStroke</span><span class="p">(</span><span class="mf">3.0f</span><span class="p">));</span>
                <span class="kt">int</span> <span class="n">canvasWidth</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="na">getWidth</span><span class="p">();</span>
                <span class="kt">int</span> <span class="n">canvasHeight</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="na">getHeight</span><span class="p">();</span>

<span class="hll">                <span class="n">g2</span><span class="p">.</span><span class="na">setColor</span><span class="p">(</span><span class="n">Quadrat</span><span class="p">.</span><span class="na">this</span><span class="p">.</span><span class="na">aktuelleFuellfarbe</span><span class="p">);</span>
</span>
                <span class="k">if</span><span class="p">(</span><span class="n">canvasHeight</span> <span class="o">&gt;</span> <span class="n">canvasWidth</span><span class="p">)</span>
                <span class="p">{</span>
                    <span class="kt">int</span> <span class="n">abstand</span> <span class="o">=</span> <span class="p">(</span><span class="kt">int</span><span class="p">)(</span><span class="n">canvasWidth</span> <span class="o">*</span> <span class="mf">0.1</span><span class="p">);</span>
                    <span class="kt">int</span> <span class="n">seiteQuadrat</span> <span class="o">=</span> <span class="p">(</span><span class="kt">int</span><span class="p">)(</span><span class="n">canvasWidth</span> <span class="o">*</span> <span class="mf">0.8</span><span class="p">);</span>
                    <span class="kt">int</span> <span class="n">oben</span> <span class="o">=</span> <span class="p">(</span><span class="n">canvasHeight</span> <span class="o">-</span> <span class="n">seiteQuadrat</span><span class="p">)</span> <span class="o">/</span> <span class="mi">2</span><span class="p">;</span>
                    <span class="k">if</span><span class="p">(</span><span class="n">fuelleQuadrat</span><span class="p">)</span>
                    <span class="p">{</span>
                        <span class="n">g2</span><span class="p">.</span><span class="na">fillRect</span><span class="p">(</span><span class="n">abstand</span><span class="p">,</span> <span class="n">oben</span><span class="p">,</span> <span class="n">seiteQuadrat</span><span class="p">,</span> <span class="n">seiteQuadrat</span><span class="p">);</span>
                    <span class="p">}</span>
                    <span class="n">g2</span><span class="p">.</span><span class="na">setColor</span><span class="p">(</span><span class="n">Color</span><span class="p">.</span><span class="na">BLACK</span><span class="p">);</span>
                    <span class="n">g2</span><span class="p">.</span><span class="na">drawRect</span><span class="p">(</span><span class="n">abstand</span><span class="p">,</span> <span class="n">oben</span><span class="p">,</span> <span class="n">seiteQuadrat</span><span class="p">,</span> <span class="n">seiteQuadrat</span><span class="p">);</span>
                <span class="p">}</span>
                <span class="k">else</span>
                <span class="p">{</span>
                    <span class="kt">int</span> <span class="n">abstand</span> <span class="o">=</span> <span class="p">(</span><span class="kt">int</span><span class="p">)(</span><span class="n">canvasHeight</span> <span class="o">*</span> <span class="mf">0.1</span><span class="p">);</span>
                    <span class="kt">int</span> <span class="n">seiteQuadrat</span> <span class="o">=</span> <span class="p">(</span><span class="kt">int</span><span class="p">)(</span><span class="n">canvasHeight</span> <span class="o">*</span> <span class="mf">0.8</span><span class="p">);</span>
                    <span class="kt">int</span> <span class="n">links</span> <span class="o">=</span> <span class="p">(</span><span class="n">canvasWidth</span> <span class="o">-</span> <span class="n">seiteQuadrat</span><span class="p">)</span> <span class="o">/</span> <span class="mi">2</span><span class="p">;</span>
                    <span class="k">if</span><span class="p">(</span><span class="n">fuelleQuadrat</span><span class="p">)</span>
                    <span class="p">{</span>
                        <span class="n">g2</span><span class="p">.</span><span class="na">fillRect</span><span class="p">(</span><span class="n">links</span><span class="p">,</span> <span class="n">abstand</span><span class="p">,</span> <span class="n">seiteQuadrat</span><span class="p">,</span> <span class="n">seiteQuadrat</span><span class="p">);</span>
                    <span class="p">}</span>
                    <span class="n">g2</span><span class="p">.</span><span class="na">setColor</span><span class="p">(</span><span class="n">Color</span><span class="p">.</span><span class="na">BLACK</span><span class="p">);</span>
                    <span class="n">g2</span><span class="p">.</span><span class="na">drawRect</span><span class="p">(</span><span class="n">links</span><span class="p">,</span> <span class="n">abstand</span><span class="p">,</span> <span class="n">seiteQuadrat</span><span class="p">,</span> <span class="n">seiteQuadrat</span><span class="p">);</span>
                <span class="p">}</span>
            <span class="p">}</span>
        <span class="p">}</span>
    <span class="p">}</span>

    <span class="kd">private</span> <span class="n">JPanel</span> <span class="nf">initSouth</span><span class="p">()</span> 
    <span class="p">{</span>
        <span class="n">JPanel</span> <span class="n">south</span> <span class="o">=</span> <span class="k">new</span> <span class="n">JPanel</span><span class="p">();</span>

        <span class="n">JButton</span> <span class="n">newBtn</span> <span class="o">=</span> <span class="k">new</span> <span class="n">JButton</span><span class="p">(</span><span class="s">&quot;new&quot;</span><span class="p">);</span>

        <span class="n">newBtn</span><span class="p">.</span><span class="na">addActionListener</span><span class="p">(</span><span class="k">new</span> <span class="n">ActionListener</span><span class="p">()</span> <span class="p">{</span>

            <span class="nd">@Override</span>
            <span class="kd">public</span> <span class="kt">void</span> <span class="nf">actionPerformed</span><span class="p">(</span><span class="n">ActionEvent</span> <span class="n">e</span><span class="p">)</span> 
            <span class="p">{</span>
                <span class="n">JButton</span> <span class="n">thisBtn</span> <span class="o">=</span> <span class="p">(</span><span class="n">JButton</span><span class="p">)</span><span class="n">e</span><span class="p">.</span><span class="na">getSource</span><span class="p">();</span>  

<span class="hll">                <span class="k">if</span><span class="p">(</span><span class="n">thisBtn</span><span class="p">.</span><span class="na">getText</span><span class="p">().</span><span class="na">equals</span><span class="p">(</span><span class="s">&quot;new&quot;</span><span class="p">))</span>
</span><span class="hll">                <span class="p">{</span>
</span>                    <span class="n">Quadrat</span><span class="p">.</span><span class="na">this</span><span class="p">.</span><span class="na">zeigeQuadrat</span> <span class="o">=</span> <span class="kc">true</span><span class="p">;</span>
                    <span class="n">thisBtn</span><span class="p">.</span><span class="na">setText</span><span class="p">(</span><span class="s">&quot;refresh&quot;</span><span class="p">);</span>
<span class="hll">                <span class="p">}</span>
</span>
<span class="hll">                <span class="n">Random</span> <span class="n">r</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Random</span><span class="p">();</span>
</span><span class="hll">                <span class="kt">int</span> <span class="n">rot</span> <span class="o">=</span> <span class="n">r</span><span class="p">.</span><span class="na">nextInt</span><span class="p">(</span><span class="mi">256</span><span class="p">);</span>
</span><span class="hll">                <span class="kt">int</span> <span class="n">gruen</span> <span class="o">=</span> <span class="n">r</span><span class="p">.</span><span class="na">nextInt</span><span class="p">(</span><span class="mi">256</span><span class="p">);</span>
</span><span class="hll">                <span class="kt">int</span> <span class="n">blau</span> <span class="o">=</span> <span class="n">r</span><span class="p">.</span><span class="na">nextInt</span><span class="p">(</span><span class="mi">256</span><span class="p">);</span>
</span><span class="hll">                <span class="n">Quadrat</span><span class="p">.</span><span class="na">this</span><span class="p">.</span><span class="na">aktuelleFuellfarbe</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Color</span><span class="p">(</span><span class="n">rot</span><span class="p">,</span> <span class="n">gruen</span><span class="p">,</span> <span class="n">blau</span><span class="p">);</span>
</span>
                <span class="n">Quadrat</span><span class="p">.</span><span class="na">this</span><span class="p">.</span><span class="na">canvas</span><span class="p">.</span><span class="na">repaint</span><span class="p">();</span>  
            <span class="p">}</span>

        <span class="p">});</span>

        <span class="n">JButton</span> <span class="n">fillBtn</span> <span class="o">=</span> <span class="k">new</span> <span class="n">JButton</span><span class="p">(</span><span class="s">&quot;fill&quot;</span><span class="p">);</span>

        <span class="n">fillBtn</span><span class="p">.</span><span class="na">addActionListener</span><span class="p">(</span><span class="k">new</span> <span class="n">ActionListener</span><span class="p">()</span> <span class="p">{</span>

            <span class="nd">@Override</span>
            <span class="kd">public</span> <span class="kt">void</span> <span class="nf">actionPerformed</span><span class="p">(</span><span class="n">ActionEvent</span> <span class="n">e</span><span class="p">)</span> <span class="p">{</span>
                <span class="n">JButton</span> <span class="n">thisBtn</span> <span class="o">=</span> <span class="p">(</span><span class="n">JButton</span><span class="p">)</span><span class="n">e</span><span class="p">.</span><span class="na">getSource</span><span class="p">();</span>  
                <span class="k">if</span><span class="p">(</span><span class="n">thisBtn</span><span class="p">.</span><span class="na">getText</span><span class="p">().</span><span class="na">equals</span><span class="p">(</span><span class="s">&quot;fill&quot;</span><span class="p">))</span>
                <span class="p">{</span>
                    <span class="n">Quadrat</span><span class="p">.</span><span class="na">this</span><span class="p">.</span><span class="na">fuelleQuadrat</span> <span class="o">=</span> <span class="kc">true</span><span class="p">;</span>
                    <span class="n">thisBtn</span><span class="p">.</span><span class="na">setText</span><span class="p">(</span><span class="s">&quot;unfill&quot;</span><span class="p">);</span>
                <span class="p">}</span>
                <span class="k">else</span> 
                <span class="p">{</span>
                    <span class="n">Quadrat</span><span class="p">.</span><span class="na">this</span><span class="p">.</span><span class="na">fuelleQuadrat</span> <span class="o">=</span> <span class="kc">false</span><span class="p">;</span>
                    <span class="n">thisBtn</span><span class="p">.</span><span class="na">setText</span><span class="p">(</span><span class="s">&quot;fill&quot;</span><span class="p">);</span>
                <span class="p">}</span>
                <span class="n">Quadrat</span><span class="p">.</span><span class="na">this</span><span class="p">.</span><span class="na">canvas</span><span class="p">.</span><span class="na">repaint</span><span class="p">();</span>  
            <span class="p">}</span>

        <span class="p">});</span>

        <span class="n">south</span><span class="p">.</span><span class="na">add</span><span class="p">(</span><span class="n">newBtn</span><span class="p">);</span>
        <span class="n">south</span><span class="p">.</span><span class="na">add</span><span class="p">(</span><span class="n">fillBtn</span><span class="p">);</span>

        <span class="k">return</span> <span class="n">south</span><span class="p">;</span>
    <span class="p">}</span>

    <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="p">(</span><span class="n">String</span><span class="o">[]</span> <span class="n">args</span><span class="p">)</span> 
    <span class="p">{</span>
        <span class="k">new</span> <span class="n">Quadrat</span><span class="p">();</span>
    <span class="p">}</span>
<span class="p">}</span>
</code></pre></div>
</td></tr></table>
</li>
<li>
<p>Für eine geeignete Implementierung des <code>MouseListener</code> und des <code>MouseMotionListener</code> benötigen wir globalen Zugriff auf die Größe und die Position des Quadrates. Wir müssen ja mit der Maus erkennen können, ob wir eine Kante des Quadrates getroffen haben. Wir lagern deshalb einige Werte des Quadrates <strong>global</strong> aus (und Umbenennungen): <code>int quadratLinks, quadratRechts, quadratOben, quadratUnten, quadratLaenge;</code> </p>
<ul>
<li>In <code>paintComponent()</code> werden diese globalen Variablen nun mit Werten belegt:</li>
</ul>
<div class="highlight"><pre><span></span><code><span class="k">if</span><span class="p">(</span><span class="n">canvasHeight</span> <span class="o">&gt;</span> <span class="n">canvasWidth</span><span class="p">)</span>
<span class="p">{</span>
    <span class="n">Quadrat</span><span class="p">.</span><span class="na">this</span><span class="p">.</span><span class="na">quadratLinks</span> <span class="o">=</span> <span class="p">(</span><span class="kt">int</span><span class="p">)(</span><span class="n">canvasWidth</span> <span class="o">*</span> <span class="mf">0.1</span><span class="p">);</span>
    <span class="n">Quadrat</span><span class="p">.</span><span class="na">this</span><span class="p">.</span><span class="na">quadratLaenge</span> <span class="o">=</span> <span class="p">(</span><span class="kt">int</span><span class="p">)(</span><span class="n">canvasWidth</span> <span class="o">*</span> <span class="mf">0.8</span><span class="p">);</span>
    <span class="n">Quadrat</span><span class="p">.</span><span class="na">this</span><span class="p">.</span><span class="na">quadratRechts</span> <span class="o">=</span> <span class="n">Quadrat</span><span class="p">.</span><span class="na">this</span><span class="p">.</span><span class="na">quadratLinks</span> <span class="o">+</span> <span class="n">Quadrat</span><span class="p">.</span><span class="na">this</span><span class="p">.</span><span class="na">quadratLaenge</span><span class="p">;</span>
    <span class="n">Quadrat</span><span class="p">.</span><span class="na">this</span><span class="p">.</span><span class="na">quadratOben</span> <span class="o">=</span> <span class="p">(</span><span class="n">canvasHeight</span> <span class="o">-</span> <span class="n">Quadrat</span><span class="p">.</span><span class="na">this</span><span class="p">.</span><span class="na">quadratLaenge</span><span class="p">)</span> <span class="o">/</span> <span class="mi">2</span><span class="p">;</span>
    <span class="n">Quadrat</span><span class="p">.</span><span class="na">this</span><span class="p">.</span><span class="na">quadratUnten</span> <span class="o">=</span> <span class="n">Quadrat</span><span class="p">.</span><span class="na">this</span><span class="p">.</span><span class="na">quadratOben</span> <span class="o">+</span> <span class="n">Quadrat</span><span class="p">.</span><span class="na">this</span><span class="p">.</span><span class="na">quadratLaenge</span><span class="p">;</span>
    <span class="k">if</span><span class="p">(</span><span class="n">fuelleQuadrat</span><span class="p">)</span>
    <span class="p">{</span>
        <span class="n">g2</span><span class="p">.</span><span class="na">fillRect</span><span class="p">(</span><span class="n">Quadrat</span><span class="p">.</span><span class="na">this</span><span class="p">.</span><span class="na">quadratLinks</span><span class="p">,</span> <span class="n">Quadrat</span><span class="p">.</span><span class="na">this</span><span class="p">.</span><span class="na">quadratOben</span><span class="p">,</span> <span class="n">Quadrat</span><span class="p">.</span><span class="na">this</span><span class="p">.</span><span class="na">quadratLaenge</span><span class="p">,</span> <span class="n">Quadrat</span><span class="p">.</span><span class="na">this</span><span class="p">.</span><span class="na">quadratLaenge</span><span class="p">);</span>
    <span class="p">}</span>
    <span class="n">g2</span><span class="p">.</span><span class="na">setColor</span><span class="p">(</span><span class="n">Color</span><span class="p">.</span><span class="na">BLACK</span><span class="p">);</span>
    <span class="n">g2</span><span class="p">.</span><span class="na">drawRect</span><span class="p">(</span><span class="n">Quadrat</span><span class="p">.</span><span class="na">this</span><span class="p">.</span><span class="na">quadratLinks</span><span class="p">,</span> <span class="n">Quadrat</span><span class="p">.</span><span class="na">this</span><span class="p">.</span><span class="na">quadratOben</span><span class="p">,</span> <span class="n">Quadrat</span><span class="p">.</span><span class="na">this</span><span class="p">.</span><span class="na">quadratLaenge</span><span class="p">,</span> <span class="n">Quadrat</span><span class="p">.</span><span class="na">this</span><span class="p">.</span><span class="na">quadratLaenge</span><span class="p">);</span>
<span class="p">}</span>
<span class="k">else</span>
<span class="p">{</span>
    <span class="n">Quadrat</span><span class="p">.</span><span class="na">this</span><span class="p">.</span><span class="na">quadratOben</span> <span class="o">=</span> <span class="p">(</span><span class="kt">int</span><span class="p">)(</span><span class="n">canvasHeight</span> <span class="o">*</span> <span class="mf">0.1</span><span class="p">);</span>
    <span class="n">Quadrat</span><span class="p">.</span><span class="na">this</span><span class="p">.</span><span class="na">quadratLaenge</span> <span class="o">=</span> <span class="p">(</span><span class="kt">int</span><span class="p">)(</span><span class="n">canvasHeight</span> <span class="o">*</span> <span class="mf">0.8</span><span class="p">);</span>
    <span class="n">Quadrat</span><span class="p">.</span><span class="na">this</span><span class="p">.</span><span class="na">quadratLinks</span> <span class="o">=</span> <span class="p">(</span><span class="n">canvasWidth</span> <span class="o">-</span> <span class="n">Quadrat</span><span class="p">.</span><span class="na">this</span><span class="p">.</span><span class="na">quadratLaenge</span><span class="p">)</span> <span class="o">/</span> <span class="mi">2</span><span class="p">;</span>
    <span class="n">Quadrat</span><span class="p">.</span><span class="na">this</span><span class="p">.</span><span class="na">quadratRechts</span> <span class="o">=</span> <span class="n">Quadrat</span><span class="p">.</span><span class="na">this</span><span class="p">.</span><span class="na">quadratLinks</span> <span class="o">+</span> <span class="n">Quadrat</span><span class="p">.</span><span class="na">this</span><span class="p">.</span><span class="na">quadratLaenge</span><span class="p">;</span>
    <span class="n">Quadrat</span><span class="p">.</span><span class="na">this</span><span class="p">.</span><span class="na">quadratUnten</span> <span class="o">=</span> <span class="n">Quadrat</span><span class="p">.</span><span class="na">this</span><span class="p">.</span><span class="na">quadratOben</span> <span class="o">+</span> <span class="n">Quadrat</span><span class="p">.</span><span class="na">this</span><span class="p">.</span><span class="na">quadratLaenge</span><span class="p">;</span>
    <span class="k">if</span><span class="p">(</span><span class="n">fuelleQuadrat</span><span class="p">)</span>
    <span class="p">{</span>
        <span class="n">g2</span><span class="p">.</span><span class="na">fillRect</span><span class="p">(</span><span class="n">Quadrat</span><span class="p">.</span><span class="na">this</span><span class="p">.</span><span class="na">quadratLinks</span><span class="p">,</span> <span class="n">Quadrat</span><span class="p">.</span><span class="na">this</span><span class="p">.</span><span class="na">quadratOben</span><span class="p">,</span> <span class="n">Quadrat</span><span class="p">.</span><span class="na">this</span><span class="p">.</span><span class="na">quadratLaenge</span><span class="p">,</span> <span class="n">Quadrat</span><span class="p">.</span><span class="na">this</span><span class="p">.</span><span class="na">quadratLaenge</span><span class="p">);</span>
    <span class="p">}</span>
    <span class="n">g2</span><span class="p">.</span><span class="na">setColor</span><span class="p">(</span><span class="n">Color</span><span class="p">.</span><span class="na">BLACK</span><span class="p">);</span>
    <span class="n">g2</span><span class="p">.</span><span class="na">drawRect</span><span class="p">(</span><span class="n">Quadrat</span><span class="p">.</span><span class="na">this</span><span class="p">.</span><span class="na">quadratLinks</span><span class="p">,</span> <span class="n">Quadrat</span><span class="p">.</span><span class="na">this</span><span class="p">.</span><span class="na">quadratOben</span><span class="p">,</span> <span class="n">Quadrat</span><span class="p">.</span><span class="na">this</span><span class="p">.</span><span class="na">quadratLaenge</span><span class="p">,</span> <span class="n">Quadrat</span><span class="p">.</span><span class="na">this</span><span class="p">.</span><span class="na">quadratLaenge</span><span class="p">);</span>
<span class="p">}</span>
</code></pre></div>
<ul>
<li>Nun implementieren wir <code>MouseListener</code> und <code>MouseMotionListener</code> und <strong>melden</strong> <code>canvas</code> daran an.</li>
</ul>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">  1</span>
<span class="normal">  2</span>
<span class="normal">  3</span>
<span class="normal">  4</span>
<span class="normal">  5</span>
<span class="normal">  6</span>
<span class="normal">  7</span>
<span class="normal">  8</span>
<span class="normal">  9</span>
<span class="normal"> 10</span>
<span class="normal"> 11</span>
<span class="normal"> 12</span>
<span class="normal"> 13</span>
<span class="normal"> 14</span>
<span class="normal"> 15</span>
<span class="normal"> 16</span>
<span class="normal"> 17</span>
<span class="normal"> 18</span>
<span class="normal"> 19</span>
<span class="normal"> 20</span>
<span class="normal"> 21</span>
<span class="normal"> 22</span>
<span class="normal"> 23</span>
<span class="normal"> 24</span>
<span class="normal"> 25</span>
<span class="normal"> 26</span>
<span class="normal"> 27</span>
<span class="normal"> 28</span>
<span class="normal"> 29</span>
<span class="normal"> 30</span>
<span class="normal"> 31</span>
<span class="normal"> 32</span>
<span class="normal"> 33</span>
<span class="normal"> 34</span>
<span class="normal"> 35</span>
<span class="normal"> 36</span>
<span class="normal"> 37</span>
<span class="normal"> 38</span>
<span class="normal"> 39</span>
<span class="normal"> 40</span>
<span class="normal"> 41</span>
<span class="normal"> 42</span>
<span class="normal"> 43</span>
<span class="normal"> 44</span>
<span class="normal"> 45</span>
<span class="normal"> 46</span>
<span class="normal"> 47</span>
<span class="normal"> 48</span>
<span class="normal"> 49</span>
<span class="normal"> 50</span>
<span class="normal"> 51</span>
<span class="normal"> 52</span>
<span class="normal"> 53</span>
<span class="normal"> 54</span>
<span class="normal"> 55</span>
<span class="normal"> 56</span>
<span class="normal"> 57</span>
<span class="normal"> 58</span>
<span class="normal"> 59</span>
<span class="normal"> 60</span>
<span class="normal"> 61</span>
<span class="normal"> 62</span>
<span class="normal"> 63</span>
<span class="normal"> 64</span>
<span class="normal"> 65</span>
<span class="normal"> 66</span>
<span class="normal"> 67</span>
<span class="normal"> 68</span>
<span class="normal"> 69</span>
<span class="normal"> 70</span>
<span class="normal"> 71</span>
<span class="normal"> 72</span>
<span class="normal"> 73</span>
<span class="normal"> 74</span>
<span class="normal"> 75</span>
<span class="normal"> 76</span>
<span class="normal"> 77</span>
<span class="normal"> 78</span>
<span class="normal"> 79</span>
<span class="normal"> 80</span>
<span class="normal"> 81</span>
<span class="normal"> 82</span>
<span class="normal"> 83</span>
<span class="normal"> 84</span>
<span class="normal"> 85</span>
<span class="normal"> 86</span>
<span class="normal"> 87</span>
<span class="normal"> 88</span>
<span class="normal"> 89</span>
<span class="normal"> 90</span>
<span class="normal"> 91</span>
<span class="normal"> 92</span>
<span class="normal"> 93</span>
<span class="normal"> 94</span>
<span class="normal"> 95</span>
<span class="normal"> 96</span>
<span class="normal"> 97</span>
<span class="normal"> 98</span>
<span class="normal"> 99</span>
<span class="normal">100</span>
<span class="normal">101</span>
<span class="normal">102</span>
<span class="normal">103</span>
<span class="normal">104</span>
<span class="normal">105</span>
<span class="normal">106</span>
<span class="normal">107</span>
<span class="normal">108</span>
<span class="normal">109</span>
<span class="normal">110</span>
<span class="normal">111</span>
<span class="normal">112</span>
<span class="normal">113</span>
<span class="normal">114</span>
<span class="normal">115</span>
<span class="normal">116</span>
<span class="normal">117</span>
<span class="normal">118</span>
<span class="normal">119</span>
<span class="normal">120</span>
<span class="normal">121</span>
<span class="normal">122</span>
<span class="normal">123</span>
<span class="normal">124</span>
<span class="normal">125</span>
<span class="normal">126</span>
<span class="normal">127</span>
<span class="normal">128</span>
<span class="normal">129</span>
<span class="normal">130</span>
<span class="normal">131</span>
<span class="normal">132</span>
<span class="normal">133</span>
<span class="normal">134</span>
<span class="normal">135</span>
<span class="normal">136</span>
<span class="normal">137</span>
<span class="normal">138</span>
<span class="normal">139</span>
<span class="normal">140</span>
<span class="normal">141</span>
<span class="normal">142</span>
<span class="normal">143</span>
<span class="normal">144</span>
<span class="normal">145</span>
<span class="normal">146</span>
<span class="normal">147</span>
<span class="normal">148</span>
<span class="normal">149</span>
<span class="normal">150</span>
<span class="normal">151</span>
<span class="normal">152</span>
<span class="normal">153</span>
<span class="normal">154</span>
<span class="normal">155</span>
<span class="normal">156</span>
<span class="normal">157</span>
<span class="normal">158</span>
<span class="normal">159</span>
<span class="normal">160</span>
<span class="normal">161</span>
<span class="normal">162</span>
<span class="normal">163</span>
<span class="normal">164</span>
<span class="normal">165</span>
<span class="normal">166</span>
<span class="normal">167</span>
<span class="normal">168</span>
<span class="normal">169</span>
<span class="normal">170</span>
<span class="normal">171</span>
<span class="normal">172</span>
<span class="normal">173</span>
<span class="normal">174</span>
<span class="normal">175</span>
<span class="normal">176</span>
<span class="normal">177</span>
<span class="normal">178</span>
<span class="normal">179</span></pre></div></td><td class="code"><div class="highlight"><pre><span></span><code><span class="kn">import</span> <span class="nn">java.awt.BasicStroke</span><span class="p">;</span>
<span class="kn">import</span> <span class="nn">java.awt.BorderLayout</span><span class="p">;</span>
<span class="kn">import</span> <span class="nn">java.awt.Color</span><span class="p">;</span>
<span class="kn">import</span> <span class="nn">java.awt.Graphics</span><span class="p">;</span>
<span class="kn">import</span> <span class="nn">java.awt.Graphics2D</span><span class="p">;</span>
<span class="kn">import</span> <span class="nn">java.awt.event.ActionEvent</span><span class="p">;</span>
<span class="kn">import</span> <span class="nn">java.awt.event.ActionListener</span><span class="p">;</span>
<span class="kn">import</span> <span class="nn">java.awt.event.MouseEvent</span><span class="p">;</span>
<span class="kn">import</span> <span class="nn">java.awt.event.MouseListener</span><span class="p">;</span>
<span class="kn">import</span> <span class="nn">java.awt.event.MouseMotionListener</span><span class="p">;</span>
<span class="kn">import</span> <span class="nn">java.util.Random</span><span class="p">;</span>

<span class="kn">import</span> <span class="nn">javax.swing.JButton</span><span class="p">;</span>
<span class="kn">import</span> <span class="nn">javax.swing.JFrame</span><span class="p">;</span>
<span class="kn">import</span> <span class="nn">javax.swing.JPanel</span><span class="p">;</span>

<span class="kd">public</span> <span class="kd">class</span> <span class="nc">Quadrat</span> <span class="kd">extends</span> <span class="n">JFrame</span> <span class="kd">implements</span> <span class="n">MouseListener</span><span class="p">,</span> <span class="n">MouseMotionListener</span>
<span class="p">{</span>
<span class="hll">    <span class="n">Canvas</span> <span class="n">canvas</span><span class="p">;</span>
</span>    <span class="kt">boolean</span> <span class="n">zeigeQuadrat</span> <span class="o">=</span> <span class="kc">false</span><span class="p">;</span>
    <span class="kt">boolean</span> <span class="n">fuelleQuadrat</span> <span class="o">=</span> <span class="kc">false</span><span class="p">;</span>
    <span class="n">Color</span> <span class="n">aktuelleFuellfarbe</span> <span class="o">=</span> <span class="n">Color</span><span class="p">.</span><span class="na">WHITE</span><span class="p">;</span>
    <span class="kt">int</span> <span class="n">quadratLinks</span><span class="p">,</span> <span class="n">quadratRechts</span><span class="p">,</span> <span class="n">quadratOben</span><span class="p">,</span> <span class="n">quadratUnten</span><span class="p">,</span> <span class="n">quadratLaenge</span><span class="p">;</span>

    <span class="kd">public</span> <span class="nf">Quadrat</span><span class="p">()</span>
    <span class="p">{</span>
        <span class="kd">super</span><span class="p">();</span>
        <span class="k">this</span><span class="p">.</span><span class="na">setTitle</span><span class="p">(</span><span class="s">&quot;Quadrat&quot;</span><span class="p">);</span>
        <span class="k">this</span><span class="p">.</span><span class="na">setDefaultCloseOperation</span><span class="p">(</span><span class="n">JFrame</span><span class="p">.</span><span class="na">EXIT_ON_CLOSE</span><span class="p">);</span>    

        <span class="k">this</span><span class="p">.</span><span class="na">canvas</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Canvas</span><span class="p">();</span>
<span class="hll">        <span class="k">this</span><span class="p">.</span><span class="na">canvas</span><span class="p">.</span><span class="na">addMouseListener</span><span class="p">(</span><span class="k">this</span><span class="p">);</span>
</span><span class="hll">        <span class="k">this</span><span class="p">.</span><span class="na">canvas</span><span class="p">.</span><span class="na">addMouseMotionListener</span><span class="p">(</span><span class="k">this</span><span class="p">);</span>
</span>        <span class="k">this</span><span class="p">.</span><span class="na">getContentPane</span><span class="p">().</span><span class="na">add</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="na">canvas</span><span class="p">,</span> <span class="n">BorderLayout</span><span class="p">.</span><span class="na">CENTER</span><span class="p">);</span>

        <span class="k">this</span><span class="p">.</span><span class="na">getContentPane</span><span class="p">().</span><span class="na">add</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="na">initSouth</span><span class="p">(),</span> <span class="n">BorderLayout</span><span class="p">.</span><span class="na">SOUTH</span><span class="p">);</span>

        <span class="k">this</span><span class="p">.</span><span class="na">setSize</span><span class="p">(</span><span class="mi">400</span><span class="p">,</span> <span class="mi">400</span><span class="p">);</span>
        <span class="k">this</span><span class="p">.</span><span class="na">setLocation</span><span class="p">(</span><span class="mi">300</span><span class="p">,</span><span class="mi">200</span><span class="p">);</span>
        <span class="k">this</span><span class="p">.</span><span class="na">setVisible</span><span class="p">(</span><span class="kc">true</span><span class="p">);</span>
    <span class="p">}</span>

    <span class="kd">private</span> <span class="kd">class</span> <span class="nc">Canvas</span> <span class="kd">extends</span> <span class="n">JPanel</span>
    <span class="p">{</span>
        <span class="nd">@Override</span>
        <span class="kd">protected</span> <span class="kt">void</span> <span class="nf">paintComponent</span><span class="p">(</span><span class="n">Graphics</span> <span class="n">g</span><span class="p">)</span>
        <span class="p">{</span>
            <span class="kd">super</span><span class="p">.</span><span class="na">paintComponent</span><span class="p">(</span><span class="n">g</span><span class="p">);</span>        <span class="c1">// Implementierung von JPanel aufrufen</span>
            <span class="n">Graphics2D</span> <span class="n">g2</span> <span class="o">=</span> <span class="p">(</span><span class="n">Graphics2D</span><span class="p">)</span><span class="n">g</span><span class="p">;</span>  <span class="c1">// Methoden von Graphics2D nutzbar</span>

            <span class="k">if</span><span class="p">(</span><span class="n">Quadrat</span><span class="p">.</span><span class="na">this</span><span class="p">.</span><span class="na">zeigeQuadrat</span><span class="p">)</span>
            <span class="p">{</span>
                <span class="n">g2</span><span class="p">.</span><span class="na">setStroke</span><span class="p">(</span><span class="k">new</span> <span class="n">BasicStroke</span><span class="p">(</span><span class="mf">3.0f</span><span class="p">));</span>
                <span class="kt">int</span> <span class="n">canvasWidth</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="na">getWidth</span><span class="p">();</span>
                <span class="kt">int</span> <span class="n">canvasHeight</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="na">getHeight</span><span class="p">();</span>

                <span class="n">g2</span><span class="p">.</span><span class="na">setColor</span><span class="p">(</span><span class="n">Quadrat</span><span class="p">.</span><span class="na">this</span><span class="p">.</span><span class="na">aktuelleFuellfarbe</span><span class="p">);</span>

                <span class="k">if</span><span class="p">(</span><span class="n">canvasHeight</span> <span class="o">&gt;</span> <span class="n">canvasWidth</span><span class="p">)</span>
                <span class="p">{</span>
                    <span class="n">Quadrat</span><span class="p">.</span><span class="na">this</span><span class="p">.</span><span class="na">quadratLinks</span> <span class="o">=</span> <span class="p">(</span><span class="kt">int</span><span class="p">)(</span><span class="n">canvasWidth</span> <span class="o">*</span> <span class="mf">0.1</span><span class="p">);</span>
                    <span class="n">Quadrat</span><span class="p">.</span><span class="na">this</span><span class="p">.</span><span class="na">quadratLaenge</span> <span class="o">=</span> <span class="p">(</span><span class="kt">int</span><span class="p">)(</span><span class="n">canvasWidth</span> <span class="o">*</span> <span class="mf">0.8</span><span class="p">);</span>
                    <span class="n">Quadrat</span><span class="p">.</span><span class="na">this</span><span class="p">.</span><span class="na">quadratRechts</span> <span class="o">=</span> <span class="n">Quadrat</span><span class="p">.</span><span class="na">this</span><span class="p">.</span><span class="na">quadratLinks</span> <span class="o">+</span> <span class="n">Quadrat</span><span class="p">.</span><span class="na">this</span><span class="p">.</span><span class="na">quadratLaenge</span><span class="p">;</span>
                    <span class="n">Quadrat</span><span class="p">.</span><span class="na">this</span><span class="p">.</span><span class="na">quadratOben</span> <span class="o">=</span> <span class="p">(</span><span class="n">canvasHeight</span> <span class="o">-</span> <span class="n">Quadrat</span><span class="p">.</span><span class="na">this</span><span class="p">.</span><span class="na">quadratLaenge</span><span class="p">)</span> <span class="o">/</span> <span class="mi">2</span><span class="p">;</span>
                    <span class="n">Quadrat</span><span class="p">.</span><span class="na">this</span><span class="p">.</span><span class="na">quadratUnten</span> <span class="o">=</span> <span class="n">Quadrat</span><span class="p">.</span><span class="na">this</span><span class="p">.</span><span class="na">quadratOben</span> <span class="o">+</span> <span class="n">Quadrat</span><span class="p">.</span><span class="na">this</span><span class="p">.</span><span class="na">quadratLaenge</span><span class="p">;</span>
                    <span class="k">if</span><span class="p">(</span><span class="n">fuelleQuadrat</span><span class="p">)</span>
                    <span class="p">{</span>
                        <span class="n">g2</span><span class="p">.</span><span class="na">fillRect</span><span class="p">(</span><span class="n">Quadrat</span><span class="p">.</span><span class="na">this</span><span class="p">.</span><span class="na">quadratLinks</span><span class="p">,</span> <span class="n">Quadrat</span><span class="p">.</span><span class="na">this</span><span class="p">.</span><span class="na">quadratOben</span><span class="p">,</span> <span class="n">Quadrat</span><span class="p">.</span><span class="na">this</span><span class="p">.</span><span class="na">quadratLaenge</span><span class="p">,</span> <span class="n">Quadrat</span><span class="p">.</span><span class="na">this</span><span class="p">.</span><span class="na">quadratLaenge</span><span class="p">);</span>
                    <span class="p">}</span>
                    <span class="n">g2</span><span class="p">.</span><span class="na">setColor</span><span class="p">(</span><span class="n">Color</span><span class="p">.</span><span class="na">BLACK</span><span class="p">);</span>
                    <span class="n">g2</span><span class="p">.</span><span class="na">drawRect</span><span class="p">(</span><span class="n">Quadrat</span><span class="p">.</span><span class="na">this</span><span class="p">.</span><span class="na">quadratLinks</span><span class="p">,</span> <span class="n">Quadrat</span><span class="p">.</span><span class="na">this</span><span class="p">.</span><span class="na">quadratOben</span><span class="p">,</span> <span class="n">Quadrat</span><span class="p">.</span><span class="na">this</span><span class="p">.</span><span class="na">quadratLaenge</span><span class="p">,</span> <span class="n">Quadrat</span><span class="p">.</span><span class="na">this</span><span class="p">.</span><span class="na">quadratLaenge</span><span class="p">);</span>
                <span class="p">}</span>
                <span class="k">else</span>
                <span class="p">{</span>
                    <span class="n">Quadrat</span><span class="p">.</span><span class="na">this</span><span class="p">.</span><span class="na">quadratOben</span> <span class="o">=</span> <span class="p">(</span><span class="kt">int</span><span class="p">)(</span><span class="n">canvasHeight</span> <span class="o">*</span> <span class="mf">0.1</span><span class="p">);</span>
                    <span class="n">Quadrat</span><span class="p">.</span><span class="na">this</span><span class="p">.</span><span class="na">quadratLaenge</span> <span class="o">=</span> <span class="p">(</span><span class="kt">int</span><span class="p">)(</span><span class="n">canvasHeight</span> <span class="o">*</span> <span class="mf">0.8</span><span class="p">);</span>
                    <span class="n">Quadrat</span><span class="p">.</span><span class="na">this</span><span class="p">.</span><span class="na">quadratLinks</span> <span class="o">=</span> <span class="p">(</span><span class="n">canvasWidth</span> <span class="o">-</span> <span class="n">Quadrat</span><span class="p">.</span><span class="na">this</span><span class="p">.</span><span class="na">quadratLaenge</span><span class="p">)</span> <span class="o">/</span> <span class="mi">2</span><span class="p">;</span>
                    <span class="n">Quadrat</span><span class="p">.</span><span class="na">this</span><span class="p">.</span><span class="na">quadratRechts</span> <span class="o">=</span> <span class="n">Quadrat</span><span class="p">.</span><span class="na">this</span><span class="p">.</span><span class="na">quadratLinks</span> <span class="o">+</span> <span class="n">Quadrat</span><span class="p">.</span><span class="na">this</span><span class="p">.</span><span class="na">quadratLaenge</span><span class="p">;</span>
                    <span class="n">Quadrat</span><span class="p">.</span><span class="na">this</span><span class="p">.</span><span class="na">quadratUnten</span> <span class="o">=</span> <span class="n">Quadrat</span><span class="p">.</span><span class="na">this</span><span class="p">.</span><span class="na">quadratOben</span> <span class="o">+</span> <span class="n">Quadrat</span><span class="p">.</span><span class="na">this</span><span class="p">.</span><span class="na">quadratLaenge</span><span class="p">;</span>
                    <span class="k">if</span><span class="p">(</span><span class="n">fuelleQuadrat</span><span class="p">)</span>
                    <span class="p">{</span>
                        <span class="n">g2</span><span class="p">.</span><span class="na">fillRect</span><span class="p">(</span><span class="n">Quadrat</span><span class="p">.</span><span class="na">this</span><span class="p">.</span><span class="na">quadratLinks</span><span class="p">,</span> <span class="n">Quadrat</span><span class="p">.</span><span class="na">this</span><span class="p">.</span><span class="na">quadratOben</span><span class="p">,</span> <span class="n">Quadrat</span><span class="p">.</span><span class="na">this</span><span class="p">.</span><span class="na">quadratLaenge</span><span class="p">,</span> <span class="n">Quadrat</span><span class="p">.</span><span class="na">this</span><span class="p">.</span><span class="na">quadratLaenge</span><span class="p">);</span>
                    <span class="p">}</span>
                    <span class="n">g2</span><span class="p">.</span><span class="na">setColor</span><span class="p">(</span><span class="n">Color</span><span class="p">.</span><span class="na">BLACK</span><span class="p">);</span>
                    <span class="n">g2</span><span class="p">.</span><span class="na">drawRect</span><span class="p">(</span><span class="n">Quadrat</span><span class="p">.</span><span class="na">this</span><span class="p">.</span><span class="na">quadratLinks</span><span class="p">,</span> <span class="n">Quadrat</span><span class="p">.</span><span class="na">this</span><span class="p">.</span><span class="na">quadratOben</span><span class="p">,</span> <span class="n">Quadrat</span><span class="p">.</span><span class="na">this</span><span class="p">.</span><span class="na">quadratLaenge</span><span class="p">,</span> <span class="n">Quadrat</span><span class="p">.</span><span class="na">this</span><span class="p">.</span><span class="na">quadratLaenge</span><span class="p">);</span>
                <span class="p">}</span>
            <span class="p">}</span>
        <span class="p">}</span>
    <span class="p">}</span>

    <span class="kd">private</span> <span class="n">JPanel</span> <span class="nf">initSouth</span><span class="p">()</span> 
    <span class="p">{</span>
        <span class="n">JPanel</span> <span class="n">south</span> <span class="o">=</span> <span class="k">new</span> <span class="n">JPanel</span><span class="p">();</span>

        <span class="n">JButton</span> <span class="n">newBtn</span> <span class="o">=</span> <span class="k">new</span> <span class="n">JButton</span><span class="p">(</span><span class="s">&quot;new&quot;</span><span class="p">);</span>

        <span class="n">newBtn</span><span class="p">.</span><span class="na">addActionListener</span><span class="p">(</span><span class="k">new</span> <span class="n">ActionListener</span><span class="p">()</span> <span class="p">{</span>

            <span class="nd">@Override</span>
            <span class="kd">public</span> <span class="kt">void</span> <span class="nf">actionPerformed</span><span class="p">(</span><span class="n">ActionEvent</span> <span class="n">e</span><span class="p">)</span> 
            <span class="p">{</span>
                <span class="n">JButton</span> <span class="n">thisBtn</span> <span class="o">=</span> <span class="p">(</span><span class="n">JButton</span><span class="p">)</span><span class="n">e</span><span class="p">.</span><span class="na">getSource</span><span class="p">();</span>  

                <span class="k">if</span><span class="p">(</span><span class="n">thisBtn</span><span class="p">.</span><span class="na">getText</span><span class="p">().</span><span class="na">equals</span><span class="p">(</span><span class="s">&quot;new&quot;</span><span class="p">))</span>
                <span class="p">{</span>
                    <span class="n">Quadrat</span><span class="p">.</span><span class="na">this</span><span class="p">.</span><span class="na">zeigeQuadrat</span> <span class="o">=</span> <span class="kc">true</span><span class="p">;</span>
                    <span class="n">thisBtn</span><span class="p">.</span><span class="na">setText</span><span class="p">(</span><span class="s">&quot;refresh&quot;</span><span class="p">);</span>
                <span class="p">}</span>

                <span class="n">Random</span> <span class="n">r</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Random</span><span class="p">();</span>
                <span class="kt">int</span> <span class="n">rot</span> <span class="o">=</span> <span class="n">r</span><span class="p">.</span><span class="na">nextInt</span><span class="p">(</span><span class="mi">256</span><span class="p">);</span>
                <span class="kt">int</span> <span class="n">gruen</span> <span class="o">=</span> <span class="n">r</span><span class="p">.</span><span class="na">nextInt</span><span class="p">(</span><span class="mi">256</span><span class="p">);</span>
                <span class="kt">int</span> <span class="n">blau</span> <span class="o">=</span> <span class="n">r</span><span class="p">.</span><span class="na">nextInt</span><span class="p">(</span><span class="mi">256</span><span class="p">);</span>
                <span class="n">Quadrat</span><span class="p">.</span><span class="na">this</span><span class="p">.</span><span class="na">aktuelleFuellfarbe</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Color</span><span class="p">(</span><span class="n">rot</span><span class="p">,</span> <span class="n">gruen</span><span class="p">,</span> <span class="n">blau</span><span class="p">);</span>

                <span class="n">Quadrat</span><span class="p">.</span><span class="na">this</span><span class="p">.</span><span class="na">canvas</span><span class="p">.</span><span class="na">repaint</span><span class="p">();</span>  
            <span class="p">}</span>

        <span class="p">});</span>

        <span class="n">JButton</span> <span class="n">fillBtn</span> <span class="o">=</span> <span class="k">new</span> <span class="n">JButton</span><span class="p">(</span><span class="s">&quot;fill&quot;</span><span class="p">);</span>

        <span class="n">fillBtn</span><span class="p">.</span><span class="na">addActionListener</span><span class="p">(</span><span class="k">new</span> <span class="n">ActionListener</span><span class="p">()</span> <span class="p">{</span>

            <span class="nd">@Override</span>
            <span class="kd">public</span> <span class="kt">void</span> <span class="nf">actionPerformed</span><span class="p">(</span><span class="n">ActionEvent</span> <span class="n">e</span><span class="p">)</span> <span class="p">{</span>
                <span class="n">JButton</span> <span class="n">thisBtn</span> <span class="o">=</span> <span class="p">(</span><span class="n">JButton</span><span class="p">)</span><span class="n">e</span><span class="p">.</span><span class="na">getSource</span><span class="p">();</span>  
                <span class="k">if</span><span class="p">(</span><span class="n">thisBtn</span><span class="p">.</span><span class="na">getText</span><span class="p">().</span><span class="na">equals</span><span class="p">(</span><span class="s">&quot;fill&quot;</span><span class="p">))</span>
                <span class="p">{</span>
                    <span class="n">Quadrat</span><span class="p">.</span><span class="na">this</span><span class="p">.</span><span class="na">fuelleQuadrat</span> <span class="o">=</span> <span class="kc">true</span><span class="p">;</span>
                    <span class="n">thisBtn</span><span class="p">.</span><span class="na">setText</span><span class="p">(</span><span class="s">&quot;unfill&quot;</span><span class="p">);</span>
                <span class="p">}</span>
                <span class="k">else</span> 
                <span class="p">{</span>
                    <span class="n">Quadrat</span><span class="p">.</span><span class="na">this</span><span class="p">.</span><span class="na">fuelleQuadrat</span> <span class="o">=</span> <span class="kc">false</span><span class="p">;</span>
                    <span class="n">thisBtn</span><span class="p">.</span><span class="na">setText</span><span class="p">(</span><span class="s">&quot;fill&quot;</span><span class="p">);</span>
                <span class="p">}</span>
                <span class="n">Quadrat</span><span class="p">.</span><span class="na">this</span><span class="p">.</span><span class="na">canvas</span><span class="p">.</span><span class="na">repaint</span><span class="p">();</span>  
            <span class="p">}</span>

        <span class="p">});</span>

        <span class="n">south</span><span class="p">.</span><span class="na">add</span><span class="p">(</span><span class="n">newBtn</span><span class="p">);</span>
        <span class="n">south</span><span class="p">.</span><span class="na">add</span><span class="p">(</span><span class="n">fillBtn</span><span class="p">);</span>

        <span class="k">return</span> <span class="n">south</span><span class="p">;</span>
    <span class="p">}</span>

    <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="p">(</span><span class="n">String</span><span class="o">[]</span> <span class="n">args</span><span class="p">)</span> 
    <span class="p">{</span>
        <span class="k">new</span> <span class="n">Quadrat</span><span class="p">();</span>
    <span class="p">}</span>

<span class="hll">    <span class="nd">@Override</span>
</span><span class="hll">    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">mousePressed</span><span class="p">(</span><span class="n">MouseEvent</span> <span class="n">e</span><span class="p">)</span> <span class="p">{</span>
</span><span class="hll">        <span class="kt">int</span> <span class="n">x</span> <span class="o">=</span> <span class="n">e</span><span class="p">.</span><span class="na">getX</span><span class="p">();</span>
</span><span class="hll">        <span class="kt">int</span> <span class="n">y</span> <span class="o">=</span> <span class="n">e</span><span class="p">.</span><span class="na">getY</span><span class="p">();</span>
</span><span class="hll">        <span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="s">&quot;mousePressed x=&quot;</span> <span class="o">+</span> <span class="n">x</span> <span class="o">+</span> <span class="s">&quot;, y=&quot;</span> <span class="o">+</span> <span class="n">y</span><span class="p">);</span>
</span><span class="hll">    <span class="p">}</span>
</span>
<span class="hll">    <span class="nd">@Override</span>
</span><span class="hll">    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">mouseDragged</span><span class="p">(</span><span class="n">MouseEvent</span> <span class="n">e</span><span class="p">)</span> <span class="p">{</span>
</span><span class="hll">        <span class="kt">int</span> <span class="n">x</span> <span class="o">=</span> <span class="n">e</span><span class="p">.</span><span class="na">getX</span><span class="p">();</span>
</span><span class="hll">        <span class="kt">int</span> <span class="n">y</span> <span class="o">=</span> <span class="n">e</span><span class="p">.</span><span class="na">getY</span><span class="p">();</span>
</span><span class="hll">        <span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="s">&quot;mouseDragged x=&quot;</span> <span class="o">+</span> <span class="n">x</span> <span class="o">+</span> <span class="s">&quot;, y=&quot;</span> <span class="o">+</span> <span class="n">y</span><span class="p">);</span>
</span><span class="hll">    <span class="p">}</span>
</span>
<span class="hll">    <span class="nd">@Override</span> 
</span><span class="hll">    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">mouseReleased</span><span class="p">(</span><span class="n">MouseEvent</span> <span class="n">e</span><span class="p">)</span> <span class="p">{</span>
</span><span class="hll">        <span class="kt">int</span> <span class="n">x</span> <span class="o">=</span> <span class="n">e</span><span class="p">.</span><span class="na">getX</span><span class="p">();</span>
</span><span class="hll">        <span class="kt">int</span> <span class="n">y</span> <span class="o">=</span> <span class="n">e</span><span class="p">.</span><span class="na">getY</span><span class="p">();</span>
</span><span class="hll">        <span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="s">&quot;mouseReleased x=&quot;</span> <span class="o">+</span> <span class="n">x</span> <span class="o">+</span> <span class="s">&quot;, y=&quot;</span> <span class="o">+</span> <span class="n">y</span><span class="p">);</span>
</span>    <span class="p">}</span>

    <span class="nd">@Override</span> <span class="kd">public</span> <span class="kt">void</span> <span class="nf">mouseMoved</span><span class="p">(</span><span class="n">MouseEvent</span> <span class="n">e</span><span class="p">)</span> <span class="p">{}</span>
    <span class="nd">@Override</span> <span class="kd">public</span> <span class="kt">void</span> <span class="nf">mouseClicked</span><span class="p">(</span><span class="n">MouseEvent</span> <span class="n">e</span><span class="p">)</span> <span class="p">{}</span>
    <span class="nd">@Override</span> <span class="kd">public</span> <span class="kt">void</span> <span class="nf">mouseEntered</span><span class="p">(</span><span class="n">MouseEvent</span> <span class="n">e</span><span class="p">)</span> <span class="p">{}</span>
    <span class="nd">@Override</span> <span class="kd">public</span> <span class="kt">void</span> <span class="nf">mouseExited</span><span class="p">(</span><span class="n">MouseEvent</span> <span class="n">e</span><span class="p">)</span> <span class="p">{}</span>
<span class="p">}</span>
</code></pre></div>
</td></tr></table>
</li>
<li>
<p>Für das eigentliche Verschieben rächt sich jetzt, dass wir uns anfangs keine gute Datenstruktur überlegt hatten. Es wird jetzt alles ein wenig komplizierter, da wir mehrere Unterscheidungen treffen müssen:</p>
<ul>
<li>
<p>Wir müssen unterscheiden, ob das Quadrat nun gerade bewegt wird oder nicht. </p>
</li>
<li>
<p>Wir müssen unterscheiden, ob wir die linke Kante bewegen, oder die rechte oder die untere oder die obere. </p>
</li>
<li>
<p>Für alle dieses Unterscheidungen erstellen wir uns globale Variablen. </p>
</li>
</ul>
<div class="highlight"><pre><span></span><code><span class="k">if</span><span class="p">(</span><span class="n">canvasHeight</span> <span class="o">&gt;</span> <span class="n">canvasWidth</span><span class="p">)</span>
<span class="p">{</span>
    <span class="n">Quadrat</span><span class="p">.</span><span class="na">this</span><span class="p">.</span><span class="na">quadratLinks</span> <span class="o">=</span> <span class="p">(</span><span class="kt">int</span><span class="p">)(</span><span class="n">canvasWidth</span> <span class="o">*</span> <span class="mf">0.1</span><span class="p">);</span>
    <span class="n">Quadrat</span><span class="p">.</span><span class="na">this</span><span class="p">.</span><span class="na">quadratLaenge</span> <span class="o">=</span> <span class="p">(</span><span class="kt">int</span><span class="p">)(</span><span class="n">canvasWidth</span> <span class="o">*</span> <span class="mf">0.8</span><span class="p">);</span>
    <span class="n">Quadrat</span><span class="p">.</span><span class="na">this</span><span class="p">.</span><span class="na">quadratRechts</span> <span class="o">=</span> <span class="n">Quadrat</span><span class="p">.</span><span class="na">this</span><span class="p">.</span><span class="na">quadratLinks</span> <span class="o">+</span> <span class="n">Quadrat</span><span class="p">.</span><span class="na">this</span><span class="p">.</span><span class="na">quadratLaenge</span><span class="p">;</span>
    <span class="n">Quadrat</span><span class="p">.</span><span class="na">this</span><span class="p">.</span><span class="na">quadratOben</span> <span class="o">=</span> <span class="p">(</span><span class="n">canvasHeight</span> <span class="o">-</span> <span class="n">Quadrat</span><span class="p">.</span><span class="na">this</span><span class="p">.</span><span class="na">quadratLaenge</span><span class="p">)</span> <span class="o">/</span> <span class="mi">2</span><span class="p">;</span>
    <span class="n">Quadrat</span><span class="p">.</span><span class="na">this</span><span class="p">.</span><span class="na">quadratUnten</span> <span class="o">=</span> <span class="n">Quadrat</span><span class="p">.</span><span class="na">this</span><span class="p">.</span><span class="na">quadratOben</span> <span class="o">+</span> <span class="n">Quadrat</span><span class="p">.</span><span class="na">this</span><span class="p">.</span><span class="na">quadratLaenge</span><span class="p">;</span>
    <span class="k">if</span><span class="p">(</span><span class="n">fuelleQuadrat</span><span class="p">)</span>
    <span class="p">{</span>
        <span class="n">g2</span><span class="p">.</span><span class="na">fillRect</span><span class="p">(</span><span class="n">Quadrat</span><span class="p">.</span><span class="na">this</span><span class="p">.</span><span class="na">quadratLinks</span><span class="p">,</span> <span class="n">Quadrat</span><span class="p">.</span><span class="na">this</span><span class="p">.</span><span class="na">quadratOben</span><span class="p">,</span> <span class="n">Quadrat</span><span class="p">.</span><span class="na">this</span><span class="p">.</span><span class="na">quadratLaenge</span><span class="p">,</span> <span class="n">Quadrat</span><span class="p">.</span><span class="na">this</span><span class="p">.</span><span class="na">quadratLaenge</span><span class="p">);</span>
    <span class="p">}</span>
    <span class="n">g2</span><span class="p">.</span><span class="na">setColor</span><span class="p">(</span><span class="n">Color</span><span class="p">.</span><span class="na">BLACK</span><span class="p">);</span>
    <span class="n">g2</span><span class="p">.</span><span class="na">drawRect</span><span class="p">(</span><span class="n">Quadrat</span><span class="p">.</span><span class="na">this</span><span class="p">.</span><span class="na">quadratLinks</span><span class="p">,</span> <span class="n">Quadrat</span><span class="p">.</span><span class="na">this</span><span class="p">.</span><span class="na">quadratOben</span><span class="p">,</span> <span class="n">Quadrat</span><span class="p">.</span><span class="na">this</span><span class="p">.</span><span class="na">quadratLaenge</span><span class="p">,</span> <span class="n">Quadrat</span><span class="p">.</span><span class="na">this</span><span class="p">.</span><span class="na">quadratLaenge</span><span class="p">);</span>
<span class="p">}</span>
<span class="k">else</span>
<span class="p">{</span>
    <span class="n">Quadrat</span><span class="p">.</span><span class="na">this</span><span class="p">.</span><span class="na">quadratOben</span> <span class="o">=</span> <span class="p">(</span><span class="kt">int</span><span class="p">)(</span><span class="n">canvasHeight</span> <span class="o">*</span> <span class="mf">0.1</span><span class="p">);</span>
    <span class="n">Quadrat</span><span class="p">.</span><span class="na">this</span><span class="p">.</span><span class="na">quadratLaenge</span> <span class="o">=</span> <span class="p">(</span><span class="kt">int</span><span class="p">)(</span><span class="n">canvasHeight</span> <span class="o">*</span> <span class="mf">0.8</span><span class="p">);</span>
    <span class="n">Quadrat</span><span class="p">.</span><span class="na">this</span><span class="p">.</span><span class="na">quadratLinks</span> <span class="o">=</span> <span class="p">(</span><span class="n">canvasWidth</span> <span class="o">-</span> <span class="n">Quadrat</span><span class="p">.</span><span class="na">this</span><span class="p">.</span><span class="na">quadratLaenge</span><span class="p">)</span> <span class="o">/</span> <span class="mi">2</span><span class="p">;</span>
    <span class="n">Quadrat</span><span class="p">.</span><span class="na">this</span><span class="p">.</span><span class="na">quadratRechts</span> <span class="o">=</span> <span class="n">Quadrat</span><span class="p">.</span><span class="na">this</span><span class="p">.</span><span class="na">quadratLinks</span> <span class="o">+</span> <span class="n">Quadrat</span><span class="p">.</span><span class="na">this</span><span class="p">.</span><span class="na">quadratLaenge</span><span class="p">;</span>
    <span class="n">Quadrat</span><span class="p">.</span><span class="na">this</span><span class="p">.</span><span class="na">quadratUnten</span> <span class="o">=</span> <span class="n">Quadrat</span><span class="p">.</span><span class="na">this</span><span class="p">.</span><span class="na">quadratOben</span> <span class="o">+</span> <span class="n">Quadrat</span><span class="p">.</span><span class="na">this</span><span class="p">.</span><span class="na">quadratLaenge</span><span class="p">;</span>
    <span class="k">if</span><span class="p">(</span><span class="n">fuelleQuadrat</span><span class="p">)</span>
    <span class="p">{</span>
        <span class="n">g2</span><span class="p">.</span><span class="na">fillRect</span><span class="p">(</span><span class="n">Quadrat</span><span class="p">.</span><span class="na">this</span><span class="p">.</span><span class="na">quadratLinks</span><span class="p">,</span> <span class="n">Quadrat</span><span class="p">.</span><span class="na">this</span><span class="p">.</span><span class="na">quadratOben</span><span class="p">,</span> <span class="n">Quadrat</span><span class="p">.</span><span class="na">this</span><span class="p">.</span><span class="na">quadratLaenge</span><span class="p">,</span> <span class="n">Quadrat</span><span class="p">.</span><span class="na">this</span><span class="p">.</span><span class="na">quadratLaenge</span><span class="p">);</span>
    <span class="p">}</span>
    <span class="n">g2</span><span class="p">.</span><span class="na">setColor</span><span class="p">(</span><span class="n">Color</span><span class="p">.</span><span class="na">BLACK</span><span class="p">);</span>
    <span class="n">g2</span><span class="p">.</span><span class="na">drawRect</span><span class="p">(</span><span class="n">Quadrat</span><span class="p">.</span><span class="na">this</span><span class="p">.</span><span class="na">quadratLinks</span><span class="p">,</span> <span class="n">Quadrat</span><span class="p">.</span><span class="na">this</span><span class="p">.</span><span class="na">quadratOben</span><span class="p">,</span> <span class="n">Quadrat</span><span class="p">.</span><span class="na">this</span><span class="p">.</span><span class="na">quadratLaenge</span><span class="p">,</span> <span class="n">Quadrat</span><span class="p">.</span><span class="na">this</span><span class="p">.</span><span class="na">quadratLaenge</span><span class="p">);</span>
<span class="p">}</span>
</code></pre></div>
<ul>
<li>Nun implementieren wir <code>MouseListener</code> und <code>MouseMotionListener</code> und <strong>melden</strong> <code>canvas</code> daran an.</li>
</ul>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">  1</span>
<span class="normal">  2</span>
<span class="normal">  3</span>
<span class="normal">  4</span>
<span class="normal">  5</span>
<span class="normal">  6</span>
<span class="normal">  7</span>
<span class="normal">  8</span>
<span class="normal">  9</span>
<span class="normal"> 10</span>
<span class="normal"> 11</span>
<span class="normal"> 12</span>
<span class="normal"> 13</span>
<span class="normal"> 14</span>
<span class="normal"> 15</span>
<span class="normal"> 16</span>
<span class="normal"> 17</span>
<span class="normal"> 18</span>
<span class="normal"> 19</span>
<span class="normal"> 20</span>
<span class="normal"> 21</span>
<span class="normal"> 22</span>
<span class="normal"> 23</span>
<span class="normal"> 24</span>
<span class="normal"> 25</span>
<span class="normal"> 26</span>
<span class="normal"> 27</span>
<span class="normal"> 28</span>
<span class="normal"> 29</span>
<span class="normal"> 30</span>
<span class="normal"> 31</span>
<span class="normal"> 32</span>
<span class="normal"> 33</span>
<span class="normal"> 34</span>
<span class="normal"> 35</span>
<span class="normal"> 36</span>
<span class="normal"> 37</span>
<span class="normal"> 38</span>
<span class="normal"> 39</span>
<span class="normal"> 40</span>
<span class="normal"> 41</span>
<span class="normal"> 42</span>
<span class="normal"> 43</span>
<span class="normal"> 44</span>
<span class="normal"> 45</span>
<span class="normal"> 46</span>
<span class="normal"> 47</span>
<span class="normal"> 48</span>
<span class="normal"> 49</span>
<span class="normal"> 50</span>
<span class="normal"> 51</span>
<span class="normal"> 52</span>
<span class="normal"> 53</span>
<span class="normal"> 54</span>
<span class="normal"> 55</span>
<span class="normal"> 56</span>
<span class="normal"> 57</span>
<span class="normal"> 58</span>
<span class="normal"> 59</span>
<span class="normal"> 60</span>
<span class="normal"> 61</span>
<span class="normal"> 62</span>
<span class="normal"> 63</span>
<span class="normal"> 64</span>
<span class="normal"> 65</span>
<span class="normal"> 66</span>
<span class="normal"> 67</span>
<span class="normal"> 68</span>
<span class="normal"> 69</span>
<span class="normal"> 70</span>
<span class="normal"> 71</span>
<span class="normal"> 72</span>
<span class="normal"> 73</span>
<span class="normal"> 74</span>
<span class="normal"> 75</span>
<span class="normal"> 76</span>
<span class="normal"> 77</span>
<span class="normal"> 78</span>
<span class="normal"> 79</span>
<span class="normal"> 80</span>
<span class="normal"> 81</span>
<span class="normal"> 82</span>
<span class="normal"> 83</span>
<span class="normal"> 84</span>
<span class="normal"> 85</span>
<span class="normal"> 86</span>
<span class="normal"> 87</span>
<span class="normal"> 88</span>
<span class="normal"> 89</span>
<span class="normal"> 90</span>
<span class="normal"> 91</span>
<span class="normal"> 92</span>
<span class="normal"> 93</span>
<span class="normal"> 94</span>
<span class="normal"> 95</span>
<span class="normal"> 96</span>
<span class="normal"> 97</span>
<span class="normal"> 98</span>
<span class="normal"> 99</span>
<span class="normal">100</span>
<span class="normal">101</span>
<span class="normal">102</span>
<span class="normal">103</span>
<span class="normal">104</span>
<span class="normal">105</span>
<span class="normal">106</span>
<span class="normal">107</span>
<span class="normal">108</span>
<span class="normal">109</span>
<span class="normal">110</span>
<span class="normal">111</span>
<span class="normal">112</span>
<span class="normal">113</span>
<span class="normal">114</span>
<span class="normal">115</span>
<span class="normal">116</span>
<span class="normal">117</span>
<span class="normal">118</span>
<span class="normal">119</span>
<span class="normal">120</span>
<span class="normal">121</span>
<span class="normal">122</span>
<span class="normal">123</span>
<span class="normal">124</span>
<span class="normal">125</span>
<span class="normal">126</span>
<span class="normal">127</span>
<span class="normal">128</span>
<span class="normal">129</span>
<span class="normal">130</span>
<span class="normal">131</span>
<span class="normal">132</span>
<span class="normal">133</span>
<span class="normal">134</span>
<span class="normal">135</span>
<span class="normal">136</span>
<span class="normal">137</span>
<span class="normal">138</span>
<span class="normal">139</span>
<span class="normal">140</span>
<span class="normal">141</span>
<span class="normal">142</span>
<span class="normal">143</span>
<span class="normal">144</span>
<span class="normal">145</span>
<span class="normal">146</span>
<span class="normal">147</span>
<span class="normal">148</span>
<span class="normal">149</span>
<span class="normal">150</span>
<span class="normal">151</span>
<span class="normal">152</span>
<span class="normal">153</span>
<span class="normal">154</span>
<span class="normal">155</span>
<span class="normal">156</span>
<span class="normal">157</span>
<span class="normal">158</span>
<span class="normal">159</span>
<span class="normal">160</span>
<span class="normal">161</span>
<span class="normal">162</span>
<span class="normal">163</span>
<span class="normal">164</span>
<span class="normal">165</span>
<span class="normal">166</span>
<span class="normal">167</span>
<span class="normal">168</span>
<span class="normal">169</span>
<span class="normal">170</span>
<span class="normal">171</span>
<span class="normal">172</span>
<span class="normal">173</span>
<span class="normal">174</span>
<span class="normal">175</span>
<span class="normal">176</span>
<span class="normal">177</span>
<span class="normal">178</span>
<span class="normal">179</span>
<span class="normal">180</span>
<span class="normal">181</span>
<span class="normal">182</span>
<span class="normal">183</span>
<span class="normal">184</span>
<span class="normal">185</span>
<span class="normal">186</span>
<span class="normal">187</span>
<span class="normal">188</span>
<span class="normal">189</span>
<span class="normal">190</span>
<span class="normal">191</span>
<span class="normal">192</span>
<span class="normal">193</span>
<span class="normal">194</span>
<span class="normal">195</span>
<span class="normal">196</span>
<span class="normal">197</span>
<span class="normal">198</span>
<span class="normal">199</span>
<span class="normal">200</span>
<span class="normal">201</span>
<span class="normal">202</span>
<span class="normal">203</span>
<span class="normal">204</span>
<span class="normal">205</span>
<span class="normal">206</span>
<span class="normal">207</span>
<span class="normal">208</span>
<span class="normal">209</span>
<span class="normal">210</span>
<span class="normal">211</span>
<span class="normal">212</span>
<span class="normal">213</span>
<span class="normal">214</span>
<span class="normal">215</span>
<span class="normal">216</span>
<span class="normal">217</span>
<span class="normal">218</span>
<span class="normal">219</span>
<span class="normal">220</span>
<span class="normal">221</span>
<span class="normal">222</span>
<span class="normal">223</span>
<span class="normal">224</span>
<span class="normal">225</span>
<span class="normal">226</span>
<span class="normal">227</span>
<span class="normal">228</span>
<span class="normal">229</span>
<span class="normal">230</span>
<span class="normal">231</span>
<span class="normal">232</span>
<span class="normal">233</span>
<span class="normal">234</span>
<span class="normal">235</span>
<span class="normal">236</span>
<span class="normal">237</span>
<span class="normal">238</span>
<span class="normal">239</span>
<span class="normal">240</span>
<span class="normal">241</span>
<span class="normal">242</span>
<span class="normal">243</span>
<span class="normal">244</span>
<span class="normal">245</span>
<span class="normal">246</span>
<span class="normal">247</span>
<span class="normal">248</span>
<span class="normal">249</span>
<span class="normal">250</span>
<span class="normal">251</span>
<span class="normal">252</span>
<span class="normal">253</span>
<span class="normal">254</span>
<span class="normal">255</span>
<span class="normal">256</span>
<span class="normal">257</span>
<span class="normal">258</span>
<span class="normal">259</span>
<span class="normal">260</span>
<span class="normal">261</span>
<span class="normal">262</span>
<span class="normal">263</span>
<span class="normal">264</span>
<span class="normal">265</span>
<span class="normal">266</span></pre></div></td><td class="code"><div class="highlight"><pre><span></span><code><span class="kn">import</span> <span class="nn">java.awt.BasicStroke</span><span class="p">;</span>
<span class="kn">import</span> <span class="nn">java.awt.BorderLayout</span><span class="p">;</span>
<span class="kn">import</span> <span class="nn">java.awt.Color</span><span class="p">;</span>
<span class="kn">import</span> <span class="nn">java.awt.Graphics</span><span class="p">;</span>
<span class="kn">import</span> <span class="nn">java.awt.Graphics2D</span><span class="p">;</span>
<span class="kn">import</span> <span class="nn">java.awt.event.ActionEvent</span><span class="p">;</span>
<span class="kn">import</span> <span class="nn">java.awt.event.ActionListener</span><span class="p">;</span>
<span class="kn">import</span> <span class="nn">java.awt.event.MouseEvent</span><span class="p">;</span>
<span class="kn">import</span> <span class="nn">java.awt.event.MouseListener</span><span class="p">;</span>
<span class="kn">import</span> <span class="nn">java.awt.event.MouseMotionListener</span><span class="p">;</span>
<span class="kn">import</span> <span class="nn">java.util.Random</span><span class="p">;</span>

<span class="kn">import</span> <span class="nn">javax.swing.JButton</span><span class="p">;</span>
<span class="kn">import</span> <span class="nn">javax.swing.JFrame</span><span class="p">;</span>
<span class="kn">import</span> <span class="nn">javax.swing.JPanel</span><span class="p">;</span>

<span class="kd">public</span> <span class="kd">class</span> <span class="nc">Quadrat</span> <span class="kd">extends</span> <span class="n">JFrame</span> <span class="kd">implements</span> <span class="n">MouseListener</span><span class="p">,</span> <span class="n">MouseMotionListener</span>
<span class="p">{</span>
    <span class="n">Canvas</span> <span class="n">canvas</span><span class="p">;</span>
    <span class="kt">boolean</span> <span class="n">zeigeQuadrat</span> <span class="o">=</span> <span class="kc">false</span><span class="p">;</span>
    <span class="kt">boolean</span> <span class="n">fuelleQuadrat</span> <span class="o">=</span> <span class="kc">false</span><span class="p">;</span>
    <span class="n">Color</span> <span class="n">aktuelleFuellfarbe</span> <span class="o">=</span> <span class="n">Color</span><span class="p">.</span><span class="na">WHITE</span><span class="p">;</span>
    <span class="kt">int</span> <span class="n">quadratLinks</span><span class="p">,</span> <span class="n">quadratRechts</span><span class="p">,</span> <span class="n">quadratOben</span><span class="p">,</span> <span class="n">quadratUnten</span><span class="p">,</span> <span class="n">quadratLaenge</span><span class="p">;</span>
<span class="hll">    <span class="kt">boolean</span> <span class="n">bewegt</span> <span class="o">=</span> <span class="kc">false</span><span class="p">;</span>
</span><span class="hll">    <span class="kt">boolean</span> <span class="n">linkeKante</span> <span class="o">=</span> <span class="kc">false</span><span class="p">;</span>
</span><span class="hll">    <span class="kt">boolean</span> <span class="n">rechteKante</span> <span class="o">=</span> <span class="kc">false</span><span class="p">;</span>
</span><span class="hll">    <span class="kt">boolean</span> <span class="n">obereKante</span> <span class="o">=</span> <span class="kc">false</span><span class="p">;</span>
</span><span class="hll">    <span class="kt">boolean</span> <span class="n">untereKante</span> <span class="o">=</span> <span class="kc">false</span><span class="p">;</span>
</span><span class="hll">    <span class="kt">int</span> <span class="n">warX</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
</span><span class="hll">    <span class="kt">int</span> <span class="n">warY</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
</span>
    <span class="kd">public</span> <span class="nf">Quadrat</span><span class="p">()</span>
    <span class="p">{</span>
        <span class="kd">super</span><span class="p">();</span>
        <span class="k">this</span><span class="p">.</span><span class="na">setTitle</span><span class="p">(</span><span class="s">&quot;Quadrat&quot;</span><span class="p">);</span>
        <span class="k">this</span><span class="p">.</span><span class="na">setDefaultCloseOperation</span><span class="p">(</span><span class="n">JFrame</span><span class="p">.</span><span class="na">EXIT_ON_CLOSE</span><span class="p">);</span>    

        <span class="k">this</span><span class="p">.</span><span class="na">canvas</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Canvas</span><span class="p">();</span>
        <span class="k">this</span><span class="p">.</span><span class="na">canvas</span><span class="p">.</span><span class="na">addMouseListener</span><span class="p">(</span><span class="k">this</span><span class="p">);</span>
        <span class="k">this</span><span class="p">.</span><span class="na">canvas</span><span class="p">.</span><span class="na">addMouseMotionListener</span><span class="p">(</span><span class="k">this</span><span class="p">);</span>
        <span class="k">this</span><span class="p">.</span><span class="na">getContentPane</span><span class="p">().</span><span class="na">add</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="na">canvas</span><span class="p">,</span> <span class="n">BorderLayout</span><span class="p">.</span><span class="na">CENTER</span><span class="p">);</span>

        <span class="k">this</span><span class="p">.</span><span class="na">getContentPane</span><span class="p">().</span><span class="na">add</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="na">initSouth</span><span class="p">(),</span> <span class="n">BorderLayout</span><span class="p">.</span><span class="na">SOUTH</span><span class="p">);</span>

        <span class="k">this</span><span class="p">.</span><span class="na">setSize</span><span class="p">(</span><span class="mi">400</span><span class="p">,</span> <span class="mi">400</span><span class="p">);</span>
        <span class="k">this</span><span class="p">.</span><span class="na">setLocation</span><span class="p">(</span><span class="mi">300</span><span class="p">,</span><span class="mi">200</span><span class="p">);</span>
        <span class="k">this</span><span class="p">.</span><span class="na">setVisible</span><span class="p">(</span><span class="kc">true</span><span class="p">);</span>
    <span class="p">}</span>

    <span class="kd">private</span> <span class="kd">class</span> <span class="nc">Canvas</span> <span class="kd">extends</span> <span class="n">JPanel</span>
    <span class="p">{</span>
        <span class="nd">@Override</span>
        <span class="kd">protected</span> <span class="kt">void</span> <span class="nf">paintComponent</span><span class="p">(</span><span class="n">Graphics</span> <span class="n">g</span><span class="p">)</span>
        <span class="p">{</span>
            <span class="kd">super</span><span class="p">.</span><span class="na">paintComponent</span><span class="p">(</span><span class="n">g</span><span class="p">);</span>        <span class="c1">// Implementierung von JPanel aufrufen</span>
            <span class="n">Graphics2D</span> <span class="n">g2</span> <span class="o">=</span> <span class="p">(</span><span class="n">Graphics2D</span><span class="p">)</span><span class="n">g</span><span class="p">;</span>  <span class="c1">// Methoden von Graphics2D nutzbar</span>

            <span class="k">if</span><span class="p">(</span><span class="n">Quadrat</span><span class="p">.</span><span class="na">this</span><span class="p">.</span><span class="na">zeigeQuadrat</span><span class="p">)</span>
            <span class="p">{</span>
                <span class="n">g2</span><span class="p">.</span><span class="na">setStroke</span><span class="p">(</span><span class="k">new</span> <span class="n">BasicStroke</span><span class="p">(</span><span class="mf">3.0f</span><span class="p">));</span>
                <span class="kt">int</span> <span class="n">canvasWidth</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="na">getWidth</span><span class="p">();</span>
                <span class="kt">int</span> <span class="n">canvasHeight</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="na">getHeight</span><span class="p">();</span>

                <span class="n">g2</span><span class="p">.</span><span class="na">setColor</span><span class="p">(</span><span class="n">Quadrat</span><span class="p">.</span><span class="na">this</span><span class="p">.</span><span class="na">aktuelleFuellfarbe</span><span class="p">);</span>

<span class="hll">                <span class="k">if</span><span class="p">(</span><span class="o">!</span><span class="n">Quadrat</span><span class="p">.</span><span class="na">this</span><span class="p">.</span><span class="na">bewegt</span><span class="p">)</span>
</span><span class="hll">                <span class="p">{</span>
</span>                    <span class="k">if</span><span class="p">(</span><span class="n">canvasHeight</span> <span class="o">&gt;</span> <span class="n">canvasWidth</span><span class="p">)</span>
                    <span class="p">{</span>
                        <span class="n">Quadrat</span><span class="p">.</span><span class="na">this</span><span class="p">.</span><span class="na">quadratLinks</span> <span class="o">=</span> <span class="p">(</span><span class="kt">int</span><span class="p">)(</span><span class="n">canvasWidth</span> <span class="o">*</span> <span class="mf">0.1</span><span class="p">);</span>
                        <span class="n">Quadrat</span><span class="p">.</span><span class="na">this</span><span class="p">.</span><span class="na">quadratLaenge</span> <span class="o">=</span> <span class="p">(</span><span class="kt">int</span><span class="p">)(</span><span class="n">canvasWidth</span> <span class="o">*</span> <span class="mf">0.8</span><span class="p">);</span>
                        <span class="n">Quadrat</span><span class="p">.</span><span class="na">this</span><span class="p">.</span><span class="na">quadratRechts</span> <span class="o">=</span> <span class="n">Quadrat</span><span class="p">.</span><span class="na">this</span><span class="p">.</span><span class="na">quadratLinks</span> <span class="o">+</span> <span class="n">Quadrat</span><span class="p">.</span><span class="na">this</span><span class="p">.</span><span class="na">quadratLaenge</span><span class="p">;</span>
                        <span class="n">Quadrat</span><span class="p">.</span><span class="na">this</span><span class="p">.</span><span class="na">quadratOben</span> <span class="o">=</span> <span class="p">(</span><span class="n">canvasHeight</span> <span class="o">-</span> <span class="n">Quadrat</span><span class="p">.</span><span class="na">this</span><span class="p">.</span><span class="na">quadratLaenge</span><span class="p">)</span> <span class="o">/</span> <span class="mi">2</span><span class="p">;</span>
                        <span class="n">Quadrat</span><span class="p">.</span><span class="na">this</span><span class="p">.</span><span class="na">quadratUnten</span> <span class="o">=</span> <span class="n">Quadrat</span><span class="p">.</span><span class="na">this</span><span class="p">.</span><span class="na">quadratOben</span> <span class="o">+</span> <span class="n">Quadrat</span><span class="p">.</span><span class="na">this</span><span class="p">.</span><span class="na">quadratLaenge</span><span class="p">;</span>
                        <span class="k">if</span><span class="p">(</span><span class="n">fuelleQuadrat</span><span class="p">)</span>
                        <span class="p">{</span>
                            <span class="n">g2</span><span class="p">.</span><span class="na">fillRect</span><span class="p">(</span><span class="n">Quadrat</span><span class="p">.</span><span class="na">this</span><span class="p">.</span><span class="na">quadratLinks</span><span class="p">,</span> <span class="n">Quadrat</span><span class="p">.</span><span class="na">this</span><span class="p">.</span><span class="na">quadratOben</span><span class="p">,</span> <span class="n">Quadrat</span><span class="p">.</span><span class="na">this</span><span class="p">.</span><span class="na">quadratLaenge</span><span class="p">,</span> <span class="n">Quadrat</span><span class="p">.</span><span class="na">this</span><span class="p">.</span><span class="na">quadratLaenge</span><span class="p">);</span>
                        <span class="p">}</span>
                        <span class="n">g2</span><span class="p">.</span><span class="na">setColor</span><span class="p">(</span><span class="n">Color</span><span class="p">.</span><span class="na">BLACK</span><span class="p">);</span>
                        <span class="n">g2</span><span class="p">.</span><span class="na">drawRect</span><span class="p">(</span><span class="n">Quadrat</span><span class="p">.</span><span class="na">this</span><span class="p">.</span><span class="na">quadratLinks</span><span class="p">,</span> <span class="n">Quadrat</span><span class="p">.</span><span class="na">this</span><span class="p">.</span><span class="na">quadratOben</span><span class="p">,</span> <span class="n">Quadrat</span><span class="p">.</span><span class="na">this</span><span class="p">.</span><span class="na">quadratLaenge</span><span class="p">,</span> <span class="n">Quadrat</span><span class="p">.</span><span class="na">this</span><span class="p">.</span><span class="na">quadratLaenge</span><span class="p">);</span>
                    <span class="p">}</span>
                    <span class="k">else</span>
                    <span class="p">{</span>
                        <span class="n">Quadrat</span><span class="p">.</span><span class="na">this</span><span class="p">.</span><span class="na">quadratOben</span> <span class="o">=</span> <span class="p">(</span><span class="kt">int</span><span class="p">)(</span><span class="n">canvasHeight</span> <span class="o">*</span> <span class="mf">0.1</span><span class="p">);</span>
                        <span class="n">Quadrat</span><span class="p">.</span><span class="na">this</span><span class="p">.</span><span class="na">quadratLaenge</span> <span class="o">=</span> <span class="p">(</span><span class="kt">int</span><span class="p">)(</span><span class="n">canvasHeight</span> <span class="o">*</span> <span class="mf">0.8</span><span class="p">);</span>
                        <span class="n">Quadrat</span><span class="p">.</span><span class="na">this</span><span class="p">.</span><span class="na">quadratLinks</span> <span class="o">=</span> <span class="p">(</span><span class="n">canvasWidth</span> <span class="o">-</span> <span class="n">Quadrat</span><span class="p">.</span><span class="na">this</span><span class="p">.</span><span class="na">quadratLaenge</span><span class="p">)</span> <span class="o">/</span> <span class="mi">2</span><span class="p">;</span>
                        <span class="n">Quadrat</span><span class="p">.</span><span class="na">this</span><span class="p">.</span><span class="na">quadratRechts</span> <span class="o">=</span> <span class="n">Quadrat</span><span class="p">.</span><span class="na">this</span><span class="p">.</span><span class="na">quadratLinks</span> <span class="o">+</span> <span class="n">Quadrat</span><span class="p">.</span><span class="na">this</span><span class="p">.</span><span class="na">quadratLaenge</span><span class="p">;</span>
                        <span class="n">Quadrat</span><span class="p">.</span><span class="na">this</span><span class="p">.</span><span class="na">quadratUnten</span> <span class="o">=</span> <span class="n">Quadrat</span><span class="p">.</span><span class="na">this</span><span class="p">.</span><span class="na">quadratOben</span> <span class="o">+</span> <span class="n">Quadrat</span><span class="p">.</span><span class="na">this</span><span class="p">.</span><span class="na">quadratLaenge</span><span class="p">;</span>
                        <span class="k">if</span><span class="p">(</span><span class="n">fuelleQuadrat</span><span class="p">)</span>
                        <span class="p">{</span>
                            <span class="n">g2</span><span class="p">.</span><span class="na">fillRect</span><span class="p">(</span><span class="n">Quadrat</span><span class="p">.</span><span class="na">this</span><span class="p">.</span><span class="na">quadratLinks</span><span class="p">,</span> <span class="n">Quadrat</span><span class="p">.</span><span class="na">this</span><span class="p">.</span><span class="na">quadratOben</span><span class="p">,</span> <span class="n">Quadrat</span><span class="p">.</span><span class="na">this</span><span class="p">.</span><span class="na">quadratLaenge</span><span class="p">,</span> <span class="n">Quadrat</span><span class="p">.</span><span class="na">this</span><span class="p">.</span><span class="na">quadratLaenge</span><span class="p">);</span>
                        <span class="p">}</span>
                        <span class="n">g2</span><span class="p">.</span><span class="na">setColor</span><span class="p">(</span><span class="n">Color</span><span class="p">.</span><span class="na">BLACK</span><span class="p">);</span>
                        <span class="n">g2</span><span class="p">.</span><span class="na">drawRect</span><span class="p">(</span><span class="n">Quadrat</span><span class="p">.</span><span class="na">this</span><span class="p">.</span><span class="na">quadratLinks</span><span class="p">,</span> <span class="n">Quadrat</span><span class="p">.</span><span class="na">this</span><span class="p">.</span><span class="na">quadratOben</span><span class="p">,</span> <span class="n">Quadrat</span><span class="p">.</span><span class="na">this</span><span class="p">.</span><span class="na">quadratLaenge</span><span class="p">,</span> <span class="n">Quadrat</span><span class="p">.</span><span class="na">this</span><span class="p">.</span><span class="na">quadratLaenge</span><span class="p">);</span>
                    <span class="p">}</span>
<span class="hll">                <span class="p">}</span>
</span><span class="hll">                <span class="k">else</span> <span class="c1">// bewegt</span>
</span><span class="hll">                <span class="p">{</span>
</span><span class="hll">                    <span class="k">if</span><span class="p">(</span><span class="n">fuelleQuadrat</span><span class="p">)</span>
</span><span class="hll">                    <span class="p">{</span>
</span><span class="hll">                        <span class="n">g2</span><span class="p">.</span><span class="na">fillRect</span><span class="p">(</span><span class="n">Quadrat</span><span class="p">.</span><span class="na">this</span><span class="p">.</span><span class="na">quadratLinks</span><span class="p">,</span> <span class="n">Quadrat</span><span class="p">.</span><span class="na">this</span><span class="p">.</span><span class="na">quadratOben</span><span class="p">,</span> <span class="n">Quadrat</span><span class="p">.</span><span class="na">this</span><span class="p">.</span><span class="na">quadratLaenge</span><span class="p">,</span> <span class="n">Quadrat</span><span class="p">.</span><span class="na">this</span><span class="p">.</span><span class="na">quadratLaenge</span><span class="p">);</span>
</span><span class="hll">                    <span class="p">}</span>
</span><span class="hll">                    <span class="n">g2</span><span class="p">.</span><span class="na">setColor</span><span class="p">(</span><span class="n">Color</span><span class="p">.</span><span class="na">BLACK</span><span class="p">);</span>
</span><span class="hll">                    <span class="n">g2</span><span class="p">.</span><span class="na">drawRect</span><span class="p">(</span><span class="n">Quadrat</span><span class="p">.</span><span class="na">this</span><span class="p">.</span><span class="na">quadratLinks</span><span class="p">,</span> <span class="n">Quadrat</span><span class="p">.</span><span class="na">this</span><span class="p">.</span><span class="na">quadratOben</span><span class="p">,</span> <span class="n">Quadrat</span><span class="p">.</span><span class="na">this</span><span class="p">.</span><span class="na">quadratLaenge</span><span class="p">,</span> <span class="n">Quadrat</span><span class="p">.</span><span class="na">this</span><span class="p">.</span><span class="na">quadratLaenge</span><span class="p">);</span>
</span><span class="hll">                <span class="p">}</span>
</span>
            <span class="p">}</span>
        <span class="p">}</span>
    <span class="p">}</span>

    <span class="kd">private</span> <span class="n">JPanel</span> <span class="nf">initSouth</span><span class="p">()</span> 
    <span class="p">{</span>
        <span class="n">JPanel</span> <span class="n">south</span> <span class="o">=</span> <span class="k">new</span> <span class="n">JPanel</span><span class="p">();</span>

        <span class="n">JButton</span> <span class="n">newBtn</span> <span class="o">=</span> <span class="k">new</span> <span class="n">JButton</span><span class="p">(</span><span class="s">&quot;new&quot;</span><span class="p">);</span>

        <span class="n">newBtn</span><span class="p">.</span><span class="na">addActionListener</span><span class="p">(</span><span class="k">new</span> <span class="n">ActionListener</span><span class="p">()</span> <span class="p">{</span>

            <span class="nd">@Override</span>
            <span class="kd">public</span> <span class="kt">void</span> <span class="nf">actionPerformed</span><span class="p">(</span><span class="n">ActionEvent</span> <span class="n">e</span><span class="p">)</span> 
            <span class="p">{</span>
                <span class="n">JButton</span> <span class="n">thisBtn</span> <span class="o">=</span> <span class="p">(</span><span class="n">JButton</span><span class="p">)</span><span class="n">e</span><span class="p">.</span><span class="na">getSource</span><span class="p">();</span>  

                <span class="k">if</span><span class="p">(</span><span class="n">thisBtn</span><span class="p">.</span><span class="na">getText</span><span class="p">().</span><span class="na">equals</span><span class="p">(</span><span class="s">&quot;new&quot;</span><span class="p">))</span>
                <span class="p">{</span>
                    <span class="n">Quadrat</span><span class="p">.</span><span class="na">this</span><span class="p">.</span><span class="na">zeigeQuadrat</span> <span class="o">=</span> <span class="kc">true</span><span class="p">;</span>
                    <span class="n">thisBtn</span><span class="p">.</span><span class="na">setText</span><span class="p">(</span><span class="s">&quot;refresh&quot;</span><span class="p">);</span>
                <span class="p">}</span>

                <span class="n">Random</span> <span class="n">r</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Random</span><span class="p">();</span>
                <span class="kt">int</span> <span class="n">rot</span> <span class="o">=</span> <span class="n">r</span><span class="p">.</span><span class="na">nextInt</span><span class="p">(</span><span class="mi">256</span><span class="p">);</span>
                <span class="kt">int</span> <span class="n">gruen</span> <span class="o">=</span> <span class="n">r</span><span class="p">.</span><span class="na">nextInt</span><span class="p">(</span><span class="mi">256</span><span class="p">);</span>
                <span class="kt">int</span> <span class="n">blau</span> <span class="o">=</span> <span class="n">r</span><span class="p">.</span><span class="na">nextInt</span><span class="p">(</span><span class="mi">256</span><span class="p">);</span>
                <span class="n">Quadrat</span><span class="p">.</span><span class="na">this</span><span class="p">.</span><span class="na">aktuelleFuellfarbe</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Color</span><span class="p">(</span><span class="n">rot</span><span class="p">,</span> <span class="n">gruen</span><span class="p">,</span> <span class="n">blau</span><span class="p">);</span>

                <span class="n">Quadrat</span><span class="p">.</span><span class="na">this</span><span class="p">.</span><span class="na">canvas</span><span class="p">.</span><span class="na">repaint</span><span class="p">();</span>  
            <span class="p">}</span>

        <span class="p">});</span>

        <span class="n">JButton</span> <span class="n">fillBtn</span> <span class="o">=</span> <span class="k">new</span> <span class="n">JButton</span><span class="p">(</span><span class="s">&quot;fill&quot;</span><span class="p">);</span>

        <span class="n">fillBtn</span><span class="p">.</span><span class="na">addActionListener</span><span class="p">(</span><span class="k">new</span> <span class="n">ActionListener</span><span class="p">()</span> <span class="p">{</span>

            <span class="nd">@Override</span>
            <span class="kd">public</span> <span class="kt">void</span> <span class="nf">actionPerformed</span><span class="p">(</span><span class="n">ActionEvent</span> <span class="n">e</span><span class="p">)</span> <span class="p">{</span>
                <span class="n">JButton</span> <span class="n">thisBtn</span> <span class="o">=</span> <span class="p">(</span><span class="n">JButton</span><span class="p">)</span><span class="n">e</span><span class="p">.</span><span class="na">getSource</span><span class="p">();</span>  
                <span class="k">if</span><span class="p">(</span><span class="n">thisBtn</span><span class="p">.</span><span class="na">getText</span><span class="p">().</span><span class="na">equals</span><span class="p">(</span><span class="s">&quot;fill&quot;</span><span class="p">))</span>
                <span class="p">{</span>
                    <span class="n">Quadrat</span><span class="p">.</span><span class="na">this</span><span class="p">.</span><span class="na">fuelleQuadrat</span> <span class="o">=</span> <span class="kc">true</span><span class="p">;</span>
                    <span class="n">thisBtn</span><span class="p">.</span><span class="na">setText</span><span class="p">(</span><span class="s">&quot;unfill&quot;</span><span class="p">);</span>
                <span class="p">}</span>
                <span class="k">else</span> 
                <span class="p">{</span>
                    <span class="n">Quadrat</span><span class="p">.</span><span class="na">this</span><span class="p">.</span><span class="na">fuelleQuadrat</span> <span class="o">=</span> <span class="kc">false</span><span class="p">;</span>
                    <span class="n">thisBtn</span><span class="p">.</span><span class="na">setText</span><span class="p">(</span><span class="s">&quot;fill&quot;</span><span class="p">);</span>
                <span class="p">}</span>
                <span class="n">Quadrat</span><span class="p">.</span><span class="na">this</span><span class="p">.</span><span class="na">canvas</span><span class="p">.</span><span class="na">repaint</span><span class="p">();</span>  
            <span class="p">}</span>

        <span class="p">});</span>

        <span class="n">south</span><span class="p">.</span><span class="na">add</span><span class="p">(</span><span class="n">newBtn</span><span class="p">);</span>
        <span class="n">south</span><span class="p">.</span><span class="na">add</span><span class="p">(</span><span class="n">fillBtn</span><span class="p">);</span>

        <span class="k">return</span> <span class="n">south</span><span class="p">;</span>
    <span class="p">}</span>

    <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="p">(</span><span class="n">String</span><span class="o">[]</span> <span class="n">args</span><span class="p">)</span> 
    <span class="p">{</span>
        <span class="k">new</span> <span class="n">Quadrat</span><span class="p">();</span>
    <span class="p">}</span>

    <span class="nd">@Override</span>
    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">mousePressed</span><span class="p">(</span><span class="n">MouseEvent</span> <span class="n">e</span><span class="p">)</span> <span class="p">{</span>
        <span class="kt">int</span> <span class="n">x</span> <span class="o">=</span> <span class="n">e</span><span class="p">.</span><span class="na">getX</span><span class="p">();</span>
        <span class="kt">int</span> <span class="n">y</span> <span class="o">=</span> <span class="n">e</span><span class="p">.</span><span class="na">getY</span><span class="p">();</span>
        <span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="s">&quot;mousePressed x=&quot;</span> <span class="o">+</span> <span class="n">x</span> <span class="o">+</span> <span class="s">&quot;, y=&quot;</span> <span class="o">+</span> <span class="n">y</span><span class="p">);</span>

        <span class="kt">int</span> <span class="n">linksX</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="na">quadratLinks</span><span class="p">;</span>
        <span class="kt">int</span> <span class="n">rechtsX</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="na">quadratRechts</span><span class="p">;</span>
        <span class="kt">int</span> <span class="n">obenY</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="na">quadratOben</span><span class="p">;</span>
        <span class="kt">int</span> <span class="n">untenY</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="na">quadratUnten</span><span class="p">;</span>

        <span class="k">if</span><span class="p">(</span><span class="n">x</span> <span class="o">&gt;</span> <span class="n">linksX</span><span class="o">-</span><span class="mi">10</span> <span class="o">&amp;&amp;</span> <span class="n">x</span> <span class="o">&lt;</span> <span class="n">linksX</span><span class="o">+</span><span class="mi">10</span><span class="p">)</span>
        <span class="p">{</span>
            <span class="k">this</span><span class="p">.</span><span class="na">bewegt</span> <span class="o">=</span> <span class="kc">true</span><span class="p">;</span>
            <span class="k">this</span><span class="p">.</span><span class="na">linkeKante</span> <span class="o">=</span> <span class="kc">true</span><span class="p">;</span>
            <span class="k">this</span><span class="p">.</span><span class="na">warX</span> <span class="o">=</span> <span class="n">x</span><span class="p">;</span>
        <span class="p">}</span>
        <span class="k">else</span> <span class="k">if</span><span class="p">(</span><span class="n">x</span> <span class="o">&gt;</span> <span class="n">rechtsX</span><span class="o">-</span><span class="mi">10</span> <span class="o">&amp;&amp;</span> <span class="n">x</span> <span class="o">&lt;</span> <span class="n">rechtsX</span><span class="o">+</span><span class="mi">10</span><span class="p">)</span>
        <span class="p">{</span>
            <span class="k">this</span><span class="p">.</span><span class="na">bewegt</span> <span class="o">=</span> <span class="kc">true</span><span class="p">;</span>
            <span class="k">this</span><span class="p">.</span><span class="na">rechteKante</span> <span class="o">=</span> <span class="kc">true</span><span class="p">;</span>
            <span class="k">this</span><span class="p">.</span><span class="na">warX</span> <span class="o">=</span> <span class="n">x</span><span class="p">;</span>
        <span class="p">}</span>
        <span class="k">else</span> <span class="k">if</span><span class="p">(</span><span class="n">y</span> <span class="o">&gt;</span> <span class="n">obenY</span><span class="o">-</span><span class="mi">10</span> <span class="o">&amp;&amp;</span> <span class="n">y</span> <span class="o">&lt;</span> <span class="n">obenY</span><span class="o">+</span><span class="mi">10</span><span class="p">)</span>
        <span class="p">{</span>
            <span class="k">this</span><span class="p">.</span><span class="na">bewegt</span> <span class="o">=</span> <span class="kc">true</span><span class="p">;</span>
            <span class="k">this</span><span class="p">.</span><span class="na">obereKante</span> <span class="o">=</span> <span class="kc">true</span><span class="p">;</span>
            <span class="k">this</span><span class="p">.</span><span class="na">warY</span> <span class="o">=</span> <span class="n">y</span><span class="p">;</span>
        <span class="p">}</span>
        <span class="k">else</span> <span class="k">if</span><span class="p">(</span><span class="n">y</span> <span class="o">&gt;</span> <span class="n">untenY</span><span class="o">-</span><span class="mi">10</span> <span class="o">&amp;&amp;</span> <span class="n">y</span> <span class="o">&lt;</span> <span class="n">untenY</span><span class="o">+</span><span class="mi">10</span><span class="p">)</span>
        <span class="p">{</span>
            <span class="k">this</span><span class="p">.</span><span class="na">bewegt</span> <span class="o">=</span> <span class="kc">true</span><span class="p">;</span>
            <span class="k">this</span><span class="p">.</span><span class="na">untereKante</span> <span class="o">=</span> <span class="kc">true</span><span class="p">;</span>
            <span class="k">this</span><span class="p">.</span><span class="na">warY</span> <span class="o">=</span> <span class="n">y</span><span class="p">;</span>
        <span class="p">}</span>
    <span class="p">}</span>

    <span class="nd">@Override</span>
    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">mouseDragged</span><span class="p">(</span><span class="n">MouseEvent</span> <span class="n">e</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">if</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="na">bewegt</span><span class="p">)</span>
        <span class="p">{</span>
            <span class="kt">int</span> <span class="n">x</span> <span class="o">=</span> <span class="n">e</span><span class="p">.</span><span class="na">getX</span><span class="p">();</span>
            <span class="kt">int</span> <span class="n">y</span> <span class="o">=</span> <span class="n">e</span><span class="p">.</span><span class="na">getY</span><span class="p">();</span>
            <span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="s">&quot;mouseDragged x=&quot;</span> <span class="o">+</span> <span class="n">x</span> <span class="o">+</span> <span class="s">&quot;, y=&quot;</span> <span class="o">+</span> <span class="n">y</span><span class="p">);</span>

            <span class="k">if</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="na">linkeKante</span><span class="p">)</span>
            <span class="p">{</span>
                <span class="kt">int</span> <span class="n">diffX</span> <span class="o">=</span> <span class="n">x</span> <span class="o">-</span> <span class="k">this</span><span class="p">.</span><span class="na">warX</span><span class="p">;</span>
                <span class="k">this</span><span class="p">.</span><span class="na">quadratLinks</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="na">quadratLinks</span> <span class="o">+</span> <span class="n">diffX</span><span class="p">;</span>
                <span class="k">this</span><span class="p">.</span><span class="na">quadratOben</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="na">quadratOben</span> <span class="o">+</span> <span class="n">diffX</span><span class="p">;</span>
                <span class="k">this</span><span class="p">.</span><span class="na">quadratLaenge</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="na">quadratLaenge</span> <span class="o">-</span> <span class="mi">2</span> <span class="o">*</span> <span class="n">diffX</span><span class="p">;</span>
                <span class="k">this</span><span class="p">.</span><span class="na">warX</span> <span class="o">=</span> <span class="n">x</span><span class="p">;</span>
            <span class="p">}</span>
            <span class="k">else</span> <span class="k">if</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="na">rechteKante</span><span class="p">)</span>
            <span class="p">{</span>
                <span class="kt">int</span> <span class="n">diffX</span> <span class="o">=</span> <span class="n">x</span> <span class="o">-</span> <span class="k">this</span><span class="p">.</span><span class="na">warX</span><span class="p">;</span>
                <span class="k">this</span><span class="p">.</span><span class="na">quadratLinks</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="na">quadratLinks</span> <span class="o">-</span> <span class="n">diffX</span><span class="p">;</span>
                <span class="k">this</span><span class="p">.</span><span class="na">quadratOben</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="na">quadratOben</span> <span class="o">-</span> <span class="n">diffX</span><span class="p">;</span>
                <span class="k">this</span><span class="p">.</span><span class="na">quadratLaenge</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="na">quadratLaenge</span> <span class="o">+</span> <span class="mi">2</span> <span class="o">*</span> <span class="n">diffX</span><span class="p">;</span>
                <span class="k">this</span><span class="p">.</span><span class="na">warX</span> <span class="o">=</span> <span class="n">x</span><span class="p">;</span>
            <span class="p">}</span>
            <span class="k">else</span> <span class="k">if</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="na">obereKante</span><span class="p">)</span>
            <span class="p">{</span>
                <span class="kt">int</span> <span class="n">diffY</span> <span class="o">=</span> <span class="n">y</span> <span class="o">-</span> <span class="k">this</span><span class="p">.</span><span class="na">warY</span><span class="p">;</span>
                <span class="k">this</span><span class="p">.</span><span class="na">quadratLinks</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="na">quadratLinks</span> <span class="o">+</span> <span class="n">diffY</span><span class="p">;</span>
                <span class="k">this</span><span class="p">.</span><span class="na">quadratOben</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="na">quadratOben</span> <span class="o">+</span> <span class="n">diffY</span><span class="p">;</span>
                <span class="k">this</span><span class="p">.</span><span class="na">quadratLaenge</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="na">quadratLaenge</span> <span class="o">-</span> <span class="mi">2</span> <span class="o">*</span> <span class="n">diffY</span><span class="p">;</span>
                <span class="k">this</span><span class="p">.</span><span class="na">warY</span> <span class="o">=</span> <span class="n">y</span><span class="p">;</span>
            <span class="p">}</span>
            <span class="k">else</span> <span class="k">if</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="na">untereKante</span><span class="p">)</span>
            <span class="p">{</span>
                <span class="kt">int</span> <span class="n">diffY</span> <span class="o">=</span> <span class="n">y</span> <span class="o">-</span> <span class="k">this</span><span class="p">.</span><span class="na">warY</span><span class="p">;</span>
                <span class="k">this</span><span class="p">.</span><span class="na">quadratLinks</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="na">quadratLinks</span> <span class="o">-</span> <span class="n">diffY</span><span class="p">;</span>
                <span class="k">this</span><span class="p">.</span><span class="na">quadratOben</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="na">quadratOben</span> <span class="o">-</span> <span class="n">diffY</span><span class="p">;</span>
                <span class="k">this</span><span class="p">.</span><span class="na">quadratLaenge</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="na">quadratLaenge</span> <span class="o">+</span> <span class="mi">2</span> <span class="o">*</span> <span class="n">diffY</span><span class="p">;</span>
                <span class="k">this</span><span class="p">.</span><span class="na">warY</span> <span class="o">=</span> <span class="n">y</span><span class="p">;</span>
            <span class="p">}</span>
            <span class="n">Quadrat</span><span class="p">.</span><span class="na">this</span><span class="p">.</span><span class="na">canvas</span><span class="p">.</span><span class="na">repaint</span><span class="p">();</span>
        <span class="p">}</span>

    <span class="p">}</span>

    <span class="nd">@Override</span> 
    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">mouseReleased</span><span class="p">(</span><span class="n">MouseEvent</span> <span class="n">e</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">this</span><span class="p">.</span><span class="na">bewegt</span> <span class="o">=</span> <span class="kc">false</span><span class="p">;</span>
        <span class="n">Quadrat</span><span class="p">.</span><span class="na">this</span><span class="p">.</span><span class="na">canvas</span><span class="p">.</span><span class="na">repaint</span><span class="p">();</span>
    <span class="p">}</span>

    <span class="nd">@Override</span> <span class="kd">public</span> <span class="kt">void</span> <span class="nf">mouseMoved</span><span class="p">(</span><span class="n">MouseEvent</span> <span class="n">e</span><span class="p">)</span> <span class="p">{}</span>
    <span class="nd">@Override</span> <span class="kd">public</span> <span class="kt">void</span> <span class="nf">mouseClicked</span><span class="p">(</span><span class="n">MouseEvent</span> <span class="n">e</span><span class="p">)</span> <span class="p">{}</span>
    <span class="nd">@Override</span> <span class="kd">public</span> <span class="kt">void</span> <span class="nf">mouseEntered</span><span class="p">(</span><span class="n">MouseEvent</span> <span class="n">e</span><span class="p">)</span> <span class="p">{}</span>
    <span class="nd">@Override</span> <span class="kd">public</span> <span class="kt">void</span> <span class="nf">mouseExited</span><span class="p">(</span><span class="n">MouseEvent</span> <span class="n">e</span><span class="p">)</span> <span class="p">{}</span>
<span class="p">}</span>
</code></pre></div>
</td></tr></table>
<ul>
<li>
<p>In <code>mousePressed()</code> bestimmen wir zunächst, ob wir in der Nähe der linken oder der rechten oder der oberen oder unteren Kante geklickt haben. Wenn ja, dann setzen wir die entsprechenden Variablen und merken uns, wo (<code>warX</code> oder <code>warY</code>) wir hingeklickt hatten. </p>
</li>
<li>
<p>In <code>mouseDragged()</code> wird zunächst ermittelt, ob wir überhaupt im <code>bewegt</code>-Modus sind. Wenn ja, ermitteln wir, wie weit und wohin wir uns seit dem letzten Aufruf von <code>mouseDragged()</code> bewegt haben. Dementsprechend werden die Variablen für das Quadrat neu gesetzt. </p>
</li>
<li>
<p>Wenn wir die Maus wieder loslassen (<code>mouseReleased()</code>) wird <code>bewegt</code> wieder auf <code>false</code> gesetzt und das Quadrat wird somit wieder "normal" durch die <code>paintComponent()</code>-Methode dargestellt. </p>
</li>
</ul>
</li>
</ol>
</details>
<h3 id="schachbrett">Schachbrett<a class="headerlink" href="#schachbrett" title="Permanent link">&para;</a></h3>
<details><summary>Aufgabe Schachbrett</summary><ol>
<li>
<p>Schreiben Sie eine Klasse <code>Schachbrett</code>, die folgendes Fenster darstellt: </p>
<p><img alt="schachbrett" src="../files/93_schachbrett.png" /></p>
<ul>
<li>Es werden 8x8 Rechtecke dargestellt – abwechselnd mit grauem und weißem Hintergrund <ul>
<li><strong>bitte beachten:</strong> <ul>
<li>die dargestellten Rechtecke sind gezeichnet, es handelt sich nicht um einzelne JPanels!!! (ist für später wichtig) </li>
<li>das 8x8-Feld der Rechtecke füllt die Zeichenfläche <em>vollständig</em>, d.h. wenn Sie die Größe des Fensters verändern, passt sich auch das 8x8-Feld entsprechend an</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li>
<p>Implementieren Sie den <code>MausListener</code> so, dass Sie durch Mausklick auf die Zeichenfläche einen ausgefüllten Kreis in das Rechteck malen, in das Sie geklickt haben. </p>
<p><img alt="schachbrett" src="../files/94_schachbrett.png" /></p>
<ul>
<li>Die Abbildung zeigt das Schachbrett nach einem Mausklick auf das Rechteck in der 2. Zeile und 4. Spalte.<ul>
<li>Versuchen Sie, die Kreise möglichst <em>zentriert</em> in die Rechtecke zu malen. Eine gute Größe für den Durchmesser der Kreise ist &#8531; der Breite oder Höhe der Rechtecke.</li>
</ul>
</li>
</ul>
</li>
<li>
<p>Klicken Sie mehrmals mit der Maus, werden entsprechend mehrere Kreise dargestellt. </p>
<p><img alt="schachbrett" src="../files/95_schachbrett.png" /></p>
</li>
<li>
<p>Fügen Sie dem Süden des Fensters ein <code>JPanel</code> hinzu. Dieses <code>JPanel</code> enthält einen <code>JButton</code> <code>'clear field'</code>. Nach Drücken dieses Buttons werden alle roten Kreise wieder gelöscht. </p>
<p><img alt="schachbrett" src="../files/96_schachbrett.png" /></p>
</li>
<li>
<p>Erweitern Sie Ihre Implementierung nun so, dass durch einen Mausklick nicht nur ein roter Kreis gezeichnet wird, sondern auch noch eine horizontale und eine vertikale Linie in der Zeile und der Spalte, in der der Kreis gezeichnet wird. </p>
<p><img alt="schachbrett" src="../files/97_schachbrett.png" /></p>
<ul>
<li>in der Zeile und Spalte des Kreises erscheint jeweils mittig eine rote Linie</li>
</ul>
<p><img alt="schachbrett" src="../files/98_schachbrett.png" /></p>
<ul>
<li>Abbildung zeigt Schachbrett nach mehreren Mausklicks<ul>
<li>Die Linien müssen nicht, wie im Bild dargestellt, in der Mitte der Rechtecke anfangen. Sie können auch komplett durchgezeichnet werden, d.h. vom Beginn bis zum Ende einer Zeile bzw. Spalte.</li>
</ul>
</li>
</ul>
</li>
<li>
<p>Erweitern Sie Ihre Implementierung nun so, dass es nicht mehr möglich ist, dass 2 Kreise in der gleichen Spalte oder in der gleichen Zeile erscheinen. Wenn Sie ein Rechteck anklicken, in dessen Zeile oder Spalte bereits ein anderer Kreis ist, so soll kein neuer Kreis gezeichnet werden, sondern das Rechteck als grünes Rechteck erscheinen. </p>
<p><img alt="schachbrett" src="../files/99_schachbrett.png" /></p>
<ul>
<li>In das grüne Rechteck wurde geklickt - es erscheint kein Kreis, da in der Zeile bereits ein Kreis ist – stattdessen ein grünes Rechteck.</li>
</ul>
<p><img alt="schachbrett" src="../files/100_schachbrett.png" /></p>
<ul>
<li>In das grüne Rechteck wurde geklickt - es erscheint kein Kreis, da in der Zeile bereits ein Kreis ist - stattdessen ein grünes Rechteck.<ul>
<li>Das Rechteck bleibt nur bis zum nächsten Klick markiert (grün).</li>
</ul>
</li>
</ul>
</li>
<li>
<p><strong>Zusatzaufgabe:</strong> Erweitern Sie die Schritte 5 und 6 auch auf die Diagonalen, d.h. es sollen auch die jeweiligen Diagonalen der Punkte eingezeichnet werden und keine zwei Punkte dürfen in der gleichen Diagonalen liegen.</p>
</li>
</ol>
</details>
<details class="question"><summary>Lösung Schachbrett</summary><ol>
<li>
<p>Zuerst überlegen wir uns, welches Grundgerüst wir verwenden und wie wir es anpassen. Wir müssen <strong>zeichnen</strong>, also das Grundgerüst <strong>mit</strong> <code>Canvas</code>. Von den Nord-, Süd-, Ost-, West-Bereichen benötigen wir nur den Süden (dort kommt der 'clear field'-Button rein). Also ist das unser Ausgangspunkt: </p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 1</span>
<span class="normal"> 2</span>
<span class="normal"> 3</span>
<span class="normal"> 4</span>
<span class="normal"> 5</span>
<span class="normal"> 6</span>
<span class="normal"> 7</span>
<span class="normal"> 8</span>
<span class="normal"> 9</span>
<span class="normal">10</span>
<span class="normal">11</span>
<span class="normal">12</span>
<span class="normal">13</span>
<span class="normal">14</span>
<span class="normal">15</span>
<span class="normal">16</span>
<span class="normal">17</span>
<span class="normal">18</span>
<span class="normal">19</span>
<span class="normal">20</span>
<span class="normal">21</span>
<span class="normal">22</span>
<span class="normal">23</span>
<span class="normal">24</span>
<span class="normal">25</span>
<span class="normal">26</span>
<span class="normal">27</span>
<span class="normal">28</span>
<span class="normal">29</span>
<span class="normal">30</span>
<span class="normal">31</span>
<span class="normal">32</span>
<span class="normal">33</span>
<span class="normal">34</span>
<span class="normal">35</span>
<span class="normal">36</span>
<span class="normal">37</span>
<span class="normal">38</span>
<span class="normal">39</span>
<span class="normal">40</span>
<span class="normal">41</span>
<span class="normal">42</span>
<span class="normal">43</span>
<span class="normal">44</span>
<span class="normal">45</span>
<span class="normal">46</span>
<span class="normal">47</span>
<span class="normal">48</span>
<span class="normal">49</span>
<span class="normal">50</span></pre></div></td><td class="code"><div class="highlight"><pre><span></span><code><span class="kn">import</span> <span class="nn">java.awt.BorderLayout</span><span class="p">;</span>
<span class="kn">import</span> <span class="nn">java.awt.Graphics</span><span class="p">;</span>
<span class="kn">import</span> <span class="nn">java.awt.Graphics2D</span><span class="p">;</span>

<span class="kn">import</span> <span class="nn">javax.swing.JFrame</span><span class="p">;</span>
<span class="kn">import</span> <span class="nn">javax.swing.JPanel</span><span class="p">;</span>

<span class="kd">public</span> <span class="kd">class</span> <span class="nc">Schachbrett</span> <span class="kd">extends</span> <span class="n">JFrame</span><span class="p">{</span>
    <span class="n">Canvas</span> <span class="n">canvas</span><span class="p">;</span>

    <span class="kd">public</span> <span class="nf">Schachbrett</span><span class="p">()</span>
    <span class="p">{</span>
        <span class="kd">super</span><span class="p">();</span>
        <span class="k">this</span><span class="p">.</span><span class="na">setTitle</span><span class="p">(</span><span class="s">&quot;Schachbrett&quot;</span><span class="p">);</span>
        <span class="k">this</span><span class="p">.</span><span class="na">setDefaultCloseOperation</span><span class="p">(</span><span class="n">JFrame</span><span class="p">.</span><span class="na">EXIT_ON_CLOSE</span><span class="p">);</span>    

        <span class="k">this</span><span class="p">.</span><span class="na">canvas</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Canvas</span><span class="p">();</span>
        <span class="k">this</span><span class="p">.</span><span class="na">getContentPane</span><span class="p">().</span><span class="na">add</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="na">canvas</span><span class="p">,</span> <span class="n">BorderLayout</span><span class="p">.</span><span class="na">CENTER</span><span class="p">);</span>

        <span class="c1">// NORTH, EAST, WEST geloescht</span>
        <span class="k">this</span><span class="p">.</span><span class="na">getContentPane</span><span class="p">().</span><span class="na">add</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="na">initSouth</span><span class="p">(),</span> <span class="n">BorderLayout</span><span class="p">.</span><span class="na">SOUTH</span><span class="p">);</span>

        <span class="k">this</span><span class="p">.</span><span class="na">setSize</span><span class="p">(</span><span class="mi">400</span><span class="p">,</span> <span class="mi">300</span><span class="p">);</span>
        <span class="k">this</span><span class="p">.</span><span class="na">setLocation</span><span class="p">(</span><span class="mi">300</span><span class="p">,</span><span class="mi">200</span><span class="p">);</span>
        <span class="k">this</span><span class="p">.</span><span class="na">setVisible</span><span class="p">(</span><span class="kc">true</span><span class="p">);</span>
    <span class="p">}</span>

    <span class="kd">private</span> <span class="kd">class</span> <span class="nc">Canvas</span> <span class="kd">extends</span> <span class="n">JPanel</span>
    <span class="p">{</span>
        <span class="nd">@Override</span>
        <span class="kd">protected</span> <span class="kt">void</span> <span class="nf">paintComponent</span><span class="p">(</span><span class="n">Graphics</span> <span class="n">g</span><span class="p">)</span>
        <span class="p">{</span>
            <span class="kd">super</span><span class="p">.</span><span class="na">paintComponent</span><span class="p">(</span><span class="n">g</span><span class="p">);</span>        <span class="c1">// Implementierung von JPanel aufrufen</span>
            <span class="n">Graphics2D</span> <span class="n">g2</span> <span class="o">=</span> <span class="p">(</span><span class="n">Graphics2D</span><span class="p">)</span><span class="n">g</span><span class="p">;</span>  <span class="c1">// Methoden von Graphics2D nutzbar</span>
            <span class="c1">// hier koennen wir zeichnen</span>
        <span class="p">}</span>
    <span class="p">}</span>

    <span class="kd">private</span> <span class="n">JPanel</span> <span class="nf">initSouth</span><span class="p">()</span> 
    <span class="p">{</span>
        <span class="n">JPanel</span> <span class="n">south</span> <span class="o">=</span> <span class="k">new</span> <span class="n">JPanel</span><span class="p">();</span>
        <span class="c1">// hier das JPanel fuer SOUTH befuellen</span>
        <span class="k">return</span> <span class="n">south</span><span class="p">;</span>
    <span class="p">}</span>

    <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="p">(</span><span class="n">String</span><span class="o">[]</span> <span class="n">args</span><span class="p">)</span> 
    <span class="p">{</span>
        <span class="k">new</span> <span class="n">Schachbrett</span><span class="p">();</span>
    <span class="p">}</span>
<span class="p">}</span>
</code></pre></div>
</td></tr></table>
<p>Von den <code>initXXX()</code>-Methoden benötigen wir auch nur noch <code>initSouth()</code>. Die anderen drei sind deshalb gelöscht. </p>
</li>
<li>
<p>Jetzt können wir mit dem Zeichnen des Schachbretts beginnen. Dazu könnten wir "einfach" 64 gleich große Rechtecke in die <code>Canvas</code> zeichnen. Wir sollten hier aber unbedingt dafür ein <em>Model</em>, d.h. eine Datenstruktur erstellen und diese dann in der <em>View</em> darstellen. Für eine solche Datenstruktur (für ein <em>Model</em>) gibt es drei Gründe:</p>
<ul>
<li>wir wollen später erkennen, in welches Feld geklickt wurde und </li>
<li>wir wollen erkennen können, in welches Feld bereits geklickt wurde und</li>
<li>wir wollen erkennen können, welche Felder Nachbarfelder sind.</li>
</ul>
<p>Da die Dimensionen hier fest sind (8x8), kann man das in einem (zweidimensionalen) Array erledigen. Als Typ jedes einzelnen Elementes sollte <code>boolean</code> genügen - markiert oder nicht markiert. Wenn Sie sich nicht sicher sind, ob zwei Zustände genügen, können Sie auch eine <code>enum</code> als Typ verwenden. Wir machen das mal, dann bleibt die Lösung flexibler und wir üben <code>enum</code> nochmal. </p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 1</span>
<span class="normal"> 2</span>
<span class="normal"> 3</span>
<span class="normal"> 4</span>
<span class="normal"> 5</span>
<span class="normal"> 6</span>
<span class="normal"> 7</span>
<span class="normal"> 8</span>
<span class="normal"> 9</span>
<span class="normal">10</span>
<span class="normal">11</span>
<span class="normal">12</span>
<span class="normal">13</span>
<span class="normal">14</span>
<span class="normal">15</span>
<span class="normal">16</span>
<span class="normal">17</span>
<span class="normal">18</span>
<span class="normal">19</span>
<span class="normal">20</span>
<span class="normal">21</span>
<span class="normal">22</span>
<span class="normal">23</span>
<span class="normal">24</span>
<span class="normal">25</span>
<span class="normal">26</span>
<span class="normal">27</span>
<span class="normal">28</span>
<span class="normal">29</span>
<span class="normal">30</span>
<span class="normal">31</span>
<span class="normal">32</span>
<span class="normal">33</span>
<span class="normal">34</span>
<span class="normal">35</span>
<span class="normal">36</span>
<span class="normal">37</span>
<span class="normal">38</span>
<span class="normal">39</span>
<span class="normal">40</span>
<span class="normal">41</span>
<span class="normal">42</span>
<span class="normal">43</span>
<span class="normal">44</span>
<span class="normal">45</span>
<span class="normal">46</span>
<span class="normal">47</span>
<span class="normal">48</span>
<span class="normal">49</span>
<span class="normal">50</span>
<span class="normal">51</span>
<span class="normal">52</span>
<span class="normal">53</span>
<span class="normal">54</span>
<span class="normal">55</span>
<span class="normal">56</span>
<span class="normal">57</span>
<span class="normal">58</span>
<span class="normal">59</span>
<span class="normal">60</span>
<span class="normal">61</span>
<span class="normal">62</span>
<span class="normal">63</span>
<span class="normal">64</span>
<span class="normal">65</span>
<span class="normal">66</span></pre></div></td><td class="code"><div class="highlight"><pre><span></span><code><span class="kn">import</span> <span class="nn">java.awt.BorderLayout</span><span class="p">;</span>
<span class="kn">import</span> <span class="nn">java.awt.Graphics</span><span class="p">;</span>
<span class="kn">import</span> <span class="nn">java.awt.Graphics2D</span><span class="p">;</span>

<span class="kn">import</span> <span class="nn">javax.swing.JFrame</span><span class="p">;</span>
<span class="kn">import</span> <span class="nn">javax.swing.JPanel</span><span class="p">;</span>

<span class="kd">public</span> <span class="kd">class</span> <span class="nc">Schachbrett</span> <span class="kd">extends</span> <span class="n">JFrame</span><span class="p">{</span>
    <span class="n">Canvas</span> <span class="n">canvas</span><span class="p">;</span>
<span class="hll">    <span class="kd">enum</span> <span class="n">State</span> <span class="p">{</span> <span class="n">MARKIERT</span><span class="p">,</span> <span class="n">UNMARKIERT</span> <span class="p">};</span>
</span><span class="hll">    <span class="n">State</span><span class="o">[][]</span> <span class="n">field</span><span class="p">;</span>
</span>
    <span class="kd">public</span> <span class="nf">Schachbrett</span><span class="p">()</span>
    <span class="p">{</span>
        <span class="kd">super</span><span class="p">();</span>
        <span class="k">this</span><span class="p">.</span><span class="na">setTitle</span><span class="p">(</span><span class="s">&quot;Schachbrett&quot;</span><span class="p">);</span>
        <span class="k">this</span><span class="p">.</span><span class="na">setDefaultCloseOperation</span><span class="p">(</span><span class="n">JFrame</span><span class="p">.</span><span class="na">EXIT_ON_CLOSE</span><span class="p">);</span>    

<span class="hll">        <span class="k">this</span><span class="p">.</span><span class="na">initField</span><span class="p">();</span>
</span>
        <span class="k">this</span><span class="p">.</span><span class="na">canvas</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Canvas</span><span class="p">();</span>
        <span class="k">this</span><span class="p">.</span><span class="na">getContentPane</span><span class="p">().</span><span class="na">add</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="na">canvas</span><span class="p">,</span> <span class="n">BorderLayout</span><span class="p">.</span><span class="na">CENTER</span><span class="p">);</span>

        <span class="c1">// NORTH, EAST, WEST geloescht</span>
        <span class="k">this</span><span class="p">.</span><span class="na">getContentPane</span><span class="p">().</span><span class="na">add</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="na">initSouth</span><span class="p">(),</span> <span class="n">BorderLayout</span><span class="p">.</span><span class="na">SOUTH</span><span class="p">);</span>

        <span class="k">this</span><span class="p">.</span><span class="na">setSize</span><span class="p">(</span><span class="mi">400</span><span class="p">,</span> <span class="mi">300</span><span class="p">);</span>
        <span class="k">this</span><span class="p">.</span><span class="na">setLocation</span><span class="p">(</span><span class="mi">300</span><span class="p">,</span><span class="mi">200</span><span class="p">);</span>
        <span class="k">this</span><span class="p">.</span><span class="na">setVisible</span><span class="p">(</span><span class="kc">true</span><span class="p">);</span>
    <span class="p">}</span>

<span class="hll">    <span class="kd">private</span> <span class="kt">void</span> <span class="nf">initField</span><span class="p">()</span> 
</span><span class="hll">    <span class="p">{</span>
</span><span class="hll">        <span class="k">this</span><span class="p">.</span><span class="na">field</span> <span class="o">=</span> <span class="k">new</span> <span class="n">State</span><span class="o">[</span><span class="mi">8</span><span class="o">][</span><span class="mi">8</span><span class="o">]</span><span class="p">;</span>
</span><span class="hll">        <span class="k">for</span><span class="p">(</span><span class="kt">int</span> <span class="n">row</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span> <span class="n">row</span><span class="o">&lt;</span><span class="k">this</span><span class="p">.</span><span class="na">field</span><span class="p">.</span><span class="na">length</span><span class="p">;</span> <span class="n">row</span><span class="o">++</span><span class="p">)</span>
</span><span class="hll">        <span class="p">{</span>
</span><span class="hll">            <span class="k">for</span><span class="p">(</span><span class="kt">int</span> <span class="n">col</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span> <span class="n">col</span><span class="o">&lt;</span><span class="k">this</span><span class="p">.</span><span class="na">field</span><span class="o">[</span><span class="n">row</span><span class="o">]</span><span class="p">.</span><span class="na">length</span><span class="p">;</span> <span class="n">col</span><span class="o">++</span><span class="p">)</span>
</span><span class="hll">            <span class="p">{</span>
</span><span class="hll">                <span class="k">this</span><span class="p">.</span><span class="na">field</span><span class="o">[</span><span class="n">row</span><span class="o">][</span><span class="n">col</span><span class="o">]</span> <span class="o">=</span> <span class="n">State</span><span class="p">.</span><span class="na">UNMARKIERT</span><span class="p">;</span>
</span><span class="hll">            <span class="p">}</span>
</span><span class="hll">        <span class="p">}</span>
</span><span class="hll">    <span class="p">}</span>
</span>
    <span class="kd">private</span> <span class="kd">class</span> <span class="nc">Canvas</span> <span class="kd">extends</span> <span class="n">JPanel</span>
    <span class="p">{</span>
        <span class="nd">@Override</span>
        <span class="kd">protected</span> <span class="kt">void</span> <span class="nf">paintComponent</span><span class="p">(</span><span class="n">Graphics</span> <span class="n">g</span><span class="p">)</span>
        <span class="p">{</span>
            <span class="kd">super</span><span class="p">.</span><span class="na">paintComponent</span><span class="p">(</span><span class="n">g</span><span class="p">);</span>        <span class="c1">// Implementierung von JPanel aufrufen</span>
            <span class="n">Graphics2D</span> <span class="n">g2</span> <span class="o">=</span> <span class="p">(</span><span class="n">Graphics2D</span><span class="p">)</span><span class="n">g</span><span class="p">;</span>  <span class="c1">// Methoden von Graphics2D nutzbar</span>
            <span class="c1">// hier koennen wir zeichnen</span>
        <span class="p">}</span>
    <span class="p">}</span>

    <span class="kd">private</span> <span class="n">JPanel</span> <span class="nf">initSouth</span><span class="p">()</span> 
    <span class="p">{</span>
        <span class="n">JPanel</span> <span class="n">south</span> <span class="o">=</span> <span class="k">new</span> <span class="n">JPanel</span><span class="p">();</span>
        <span class="c1">// hier das JPanel fuer SOUTH befuellen</span>
        <span class="k">return</span> <span class="n">south</span><span class="p">;</span>
    <span class="p">}</span>

    <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="p">(</span><span class="n">String</span><span class="o">[]</span> <span class="n">args</span><span class="p">)</span> 
    <span class="p">{</span>
        <span class="k">new</span> <span class="n">Schachbrett</span><span class="p">();</span>
    <span class="p">}</span>
<span class="p">}</span>
</code></pre></div>
</td></tr></table>
<ul>
<li>Wir hätten das <code>field</code> auch im Konstruktor erzeugen und befüllen können, lagern es aber in eine eigene Methode aus und rufen diese im Konstruktor auf. Alles, was wir funktional in eine eigene Methode auslagern können, sollten wir auch auslagern - liest sich viel besser!</li>
</ul>
</li>
<li>
<p>Jetzt überlegen wir, wie wir das Schachbrett darstellen (die <em>View</em>). Die Darstellung erfolgt am besten mit der <code>fillRect()</code>-Methode. Diese erwartet die Koordinaten des linken oberen Punktes und die Breite und die Höhe des Rechtecks. Breite und Höhe ergeben sich aus der Breite und Höhe der <code>Canvas</code>, jeweils geteilt durch <code>8</code>. Aus der Position des zu zeichnenden Rechtecks in einer Zeile ergibt sich dann der <code>x</code>-Wert für den linken oberen Punkt und aus der Position des zu zeichnenden Feldes in der Spalte ergibt sich der <code>y</code>-Wert des linken oberen Punktes. Wir ändern nun nur die <code>paintComponent()</code>-Methode (die <em>View</em>), da es nur um die Darstellung geht:</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">44</span>
<span class="normal">45</span>
<span class="normal">46</span>
<span class="normal">47</span>
<span class="normal">48</span>
<span class="normal">49</span>
<span class="normal">50</span>
<span class="normal">51</span>
<span class="normal">52</span>
<span class="normal">53</span>
<span class="normal">54</span>
<span class="normal">55</span>
<span class="normal">56</span>
<span class="normal">57</span>
<span class="normal">58</span>
<span class="normal">59</span>
<span class="normal">60</span>
<span class="normal">61</span>
<span class="normal">62</span>
<span class="normal">63</span>
<span class="normal">64</span>
<span class="normal">65</span>
<span class="normal">66</span>
<span class="normal">67</span>
<span class="normal">68</span>
<span class="normal">69</span>
<span class="normal">70</span>
<span class="normal">71</span>
<span class="normal">72</span>
<span class="normal">73</span>
<span class="normal">74</span>
<span class="normal">75</span>
<span class="normal">76</span>
<span class="normal">77</span></pre></div></td><td class="code"><div class="highlight"><pre><span></span><code><span class="kd">private</span> <span class="kd">class</span> <span class="nc">Canvas</span> <span class="kd">extends</span> <span class="n">JPanel</span>
<span class="p">{</span>
    <span class="nd">@Override</span>
    <span class="kd">protected</span> <span class="kt">void</span> <span class="nf">paintComponent</span><span class="p">(</span><span class="n">Graphics</span> <span class="n">g</span><span class="p">)</span>
    <span class="p">{</span>
        <span class="kd">super</span><span class="p">.</span><span class="na">paintComponent</span><span class="p">(</span><span class="n">g</span><span class="p">);</span>        <span class="c1">// Implementierung von JPanel aufrufen</span>
        <span class="n">Graphics2D</span> <span class="n">g2</span> <span class="o">=</span> <span class="p">(</span><span class="n">Graphics2D</span><span class="p">)</span><span class="n">g</span><span class="p">;</span>  <span class="c1">// Methoden von Graphics2D nutzbar</span>

        <span class="kt">int</span> <span class="n">canvasHeight</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="na">getHeight</span><span class="p">();</span>
        <span class="kt">int</span> <span class="n">canvasWidth</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="na">getWidth</span><span class="p">();</span>
        <span class="kt">int</span> <span class="n">heightRect</span> <span class="o">=</span> <span class="n">canvasHeight</span> <span class="o">/</span> <span class="mi">8</span><span class="p">;</span>
        <span class="kt">int</span> <span class="n">widthRect</span> <span class="o">=</span> <span class="n">canvasWidth</span> <span class="o">/</span> <span class="mi">8</span><span class="p">;</span>

        <span class="kt">boolean</span> <span class="n">grey</span> <span class="o">=</span> <span class="kc">true</span><span class="p">;</span>
        <span class="k">for</span><span class="p">(</span><span class="kt">int</span> <span class="n">row</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span> <span class="n">row</span><span class="o">&lt;</span><span class="n">Schachbrett</span><span class="p">.</span><span class="na">this</span><span class="p">.</span><span class="na">field</span><span class="p">.</span><span class="na">length</span><span class="p">;</span> <span class="n">row</span><span class="o">++</span><span class="p">)</span>
        <span class="p">{</span>
            <span class="kt">int</span> <span class="n">y</span> <span class="o">=</span> <span class="n">row</span> <span class="o">*</span> <span class="n">heightRect</span><span class="p">;</span>       <span class="c1">// y-Wert des linken oberen Punktes</span>
            <span class="n">grey</span> <span class="o">=</span> <span class="o">!</span><span class="n">grey</span><span class="p">;</span>                   <span class="c1">// mit gleichen Farbe anfangen, wie aufgehoert</span>
            <span class="k">for</span><span class="p">(</span><span class="kt">int</span> <span class="n">col</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span> <span class="n">col</span><span class="o">&lt;</span><span class="n">Schachbrett</span><span class="p">.</span><span class="na">this</span><span class="p">.</span><span class="na">field</span><span class="o">[</span><span class="n">row</span><span class="o">]</span><span class="p">.</span><span class="na">length</span><span class="p">;</span> <span class="n">col</span><span class="o">++</span><span class="p">)</span>
            <span class="p">{</span>
                <span class="kt">int</span> <span class="n">x</span> <span class="o">=</span> <span class="n">col</span> <span class="o">*</span> <span class="n">widthRect</span><span class="p">;</span>    <span class="c1">// x-Wert des linken oberen Punktes</span>

                <span class="k">if</span><span class="p">(</span><span class="n">grey</span><span class="p">)</span> <span class="p">{</span>
                    <span class="n">g2</span><span class="p">.</span><span class="na">setColor</span><span class="p">(</span><span class="n">Color</span><span class="p">.</span><span class="na">LIGHT_GRAY</span><span class="p">);</span>
                    <span class="n">grey</span> <span class="o">=</span> <span class="kc">false</span><span class="p">;</span>
                <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
                    <span class="n">g2</span><span class="p">.</span><span class="na">setColor</span><span class="p">(</span><span class="n">Color</span><span class="p">.</span><span class="na">WHITE</span><span class="p">);</span>
                    <span class="n">grey</span> <span class="o">=</span> <span class="kc">true</span><span class="p">;</span>
                <span class="p">}</span>
                <span class="n">g2</span><span class="p">.</span><span class="na">fillRect</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">widthRect</span><span class="p">,</span> <span class="n">heightRect</span><span class="p">);</span>
            <span class="p">}</span>
        <span class="p">}</span>
    <span class="p">}</span>
<span class="p">}</span>
</code></pre></div>
</td></tr></table>
<ul>
<li>Wir laufen also durch das <code>field</code>-Array und ermitteln für die aktuelle Zeile den <code>y</code>-Wert und für die jeweils aktuelle Spalte den <code>x</code>-Wert.<ul>
<li>Damit wir immer zwischen Grau und Weiß umschalten, erstellen wir uns eine boole'sche Variable <code>grey</code>, die abwechselnd <code>true</code> und <code>false</code> wird, je nachdem, ob wir als nächstes ein graues oder ein weißes Feld zeichnen wollen. </li>
<li>Nach jeder Zeile ändert sich die Farbe jedoch nicht (wir fangen in der neuen Zeile mit der gleichen Farbe an, wie wir in der alten Zeile aufgehört haben). Deshalb mussten wir noch die Anweisung in Zeile <code>61</code> hinzufügen. </li>
<li>Das Schachbrett wird nun so gezeichnet, wie wir das wollten. Wenn das Fenster vergrößert oder verkleinert wird, dann passen sich die Felder entsprechend an, da wir alles abhängig von der Breite und Höhe der Canvas berechnen. </li>
<li>Wir können aber die Fenstergröße aber gleich etwas quadratischer gestalten (z.B. <code>this.setSize(400, 400);</code>).</li>
</ul>
</li>
</ul>
</li>
<li>
<p>Jetzt kümmern wir uns um die roten Punkte inmitten des Rechtecks, falls wir mit der Maus darauf geklickt haben. Dazu benötigen wir den <code>MouseListener</code>, denn es geht um einen Mausklick (also entweder <code>mouseClicked()</code> oder <code>mousePressed()</code>) und nicht um eine Bewegung der Maus. Wir entscheiden uns für <code>mouseClicked()</code> - das ist nun also unser <em>Controller</em>. Wir implementieren zunächst den <code>MouseListener</code> und prüfen, ob damit alles funktioniert (ob wir z.B. nicht vergessen haben, an den <code>MouseListener</code> anzumelden.)</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">  1</span>
<span class="normal">  2</span>
<span class="normal">  3</span>
<span class="normal">  4</span>
<span class="normal">  5</span>
<span class="normal">  6</span>
<span class="normal">  7</span>
<span class="normal">  8</span>
<span class="normal">  9</span>
<span class="normal"> 10</span>
<span class="normal"> 11</span>
<span class="normal"> 12</span>
<span class="normal"> 13</span>
<span class="normal"> 14</span>
<span class="normal"> 15</span>
<span class="normal"> 16</span>
<span class="normal"> 17</span>
<span class="normal"> 18</span>
<span class="normal"> 19</span>
<span class="normal"> 20</span>
<span class="normal"> 21</span>
<span class="normal"> 22</span>
<span class="normal"> 23</span>
<span class="normal"> 24</span>
<span class="normal"> 25</span>
<span class="normal"> 26</span>
<span class="normal"> 27</span>
<span class="normal"> 28</span>
<span class="normal"> 29</span>
<span class="normal"> 30</span>
<span class="normal"> 31</span>
<span class="normal"> 32</span>
<span class="normal"> 33</span>
<span class="normal"> 34</span>
<span class="normal"> 35</span>
<span class="normal"> 36</span>
<span class="normal"> 37</span>
<span class="normal"> 38</span>
<span class="normal"> 39</span>
<span class="normal"> 40</span>
<span class="normal"> 41</span>
<span class="normal"> 42</span>
<span class="normal"> 43</span>
<span class="normal"> 44</span>
<span class="normal"> 45</span>
<span class="normal"> 46</span>
<span class="normal"> 47</span>
<span class="normal"> 48</span>
<span class="normal"> 49</span>
<span class="normal"> 50</span>
<span class="normal"> 51</span>
<span class="normal"> 52</span>
<span class="normal"> 53</span>
<span class="normal"> 54</span>
<span class="normal"> 55</span>
<span class="normal"> 56</span>
<span class="normal"> 57</span>
<span class="normal"> 58</span>
<span class="normal"> 59</span>
<span class="normal"> 60</span>
<span class="normal"> 61</span>
<span class="normal"> 62</span>
<span class="normal"> 63</span>
<span class="normal"> 64</span>
<span class="normal"> 65</span>
<span class="normal"> 66</span>
<span class="normal"> 67</span>
<span class="normal"> 68</span>
<span class="normal"> 69</span>
<span class="normal"> 70</span>
<span class="normal"> 71</span>
<span class="normal"> 72</span>
<span class="normal"> 73</span>
<span class="normal"> 74</span>
<span class="normal"> 75</span>
<span class="normal"> 76</span>
<span class="normal"> 77</span>
<span class="normal"> 78</span>
<span class="normal"> 79</span>
<span class="normal"> 80</span>
<span class="normal"> 81</span>
<span class="normal"> 82</span>
<span class="normal"> 83</span>
<span class="normal"> 84</span>
<span class="normal"> 85</span>
<span class="normal"> 86</span>
<span class="normal"> 87</span>
<span class="normal"> 88</span>
<span class="normal"> 89</span>
<span class="normal"> 90</span>
<span class="normal"> 91</span>
<span class="normal"> 92</span>
<span class="normal"> 93</span>
<span class="normal"> 94</span>
<span class="normal"> 95</span>
<span class="normal"> 96</span>
<span class="normal"> 97</span>
<span class="normal"> 98</span>
<span class="normal"> 99</span>
<span class="normal">100</span>
<span class="normal">101</span>
<span class="normal">102</span>
<span class="normal">103</span>
<span class="normal">104</span>
<span class="normal">105</span>
<span class="normal">106</span></pre></div></td><td class="code"><div class="highlight"><pre><span></span><code><span class="kn">import</span> <span class="nn">java.awt.BorderLayout</span><span class="p">;</span>
<span class="kn">import</span> <span class="nn">java.awt.Color</span><span class="p">;</span>
<span class="kn">import</span> <span class="nn">java.awt.Graphics</span><span class="p">;</span>
<span class="kn">import</span> <span class="nn">java.awt.Graphics2D</span><span class="p">;</span>
<span class="hll"><span class="kn">import</span> <span class="nn">java.awt.event.MouseEvent</span><span class="p">;</span>
</span><span class="hll"><span class="kn">import</span> <span class="nn">java.awt.event.MouseListener</span><span class="p">;</span>
</span>
<span class="kn">import</span> <span class="nn">javax.swing.JFrame</span><span class="p">;</span>
<span class="kn">import</span> <span class="nn">javax.swing.JPanel</span><span class="p">;</span>

<span class="hll"><span class="kd">public</span> <span class="kd">class</span> <span class="nc">Schachbrett</span> <span class="kd">extends</span> <span class="n">JFrame</span> <span class="kd">implements</span> <span class="n">MouseListener</span><span class="p">{</span>
</span>    <span class="n">Canvas</span> <span class="n">canvas</span><span class="p">;</span>
    <span class="kd">enum</span> <span class="n">State</span> <span class="p">{</span> <span class="n">MARKIERT</span><span class="p">,</span> <span class="n">UNMARKIERT</span> <span class="p">};</span>
    <span class="n">State</span><span class="o">[][]</span> <span class="n">field</span><span class="p">;</span>

    <span class="kd">public</span> <span class="nf">Schachbrett</span><span class="p">()</span>
    <span class="p">{</span>
        <span class="kd">super</span><span class="p">();</span>
        <span class="k">this</span><span class="p">.</span><span class="na">setTitle</span><span class="p">(</span><span class="s">&quot;Schachbrett&quot;</span><span class="p">);</span>
        <span class="k">this</span><span class="p">.</span><span class="na">setDefaultCloseOperation</span><span class="p">(</span><span class="n">JFrame</span><span class="p">.</span><span class="na">EXIT_ON_CLOSE</span><span class="p">);</span>    

        <span class="k">this</span><span class="p">.</span><span class="na">initField</span><span class="p">();</span>

        <span class="k">this</span><span class="p">.</span><span class="na">canvas</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Canvas</span><span class="p">();</span>
<span class="hll">        <span class="k">this</span><span class="p">.</span><span class="na">canvas</span><span class="p">.</span><span class="na">addMouseListener</span><span class="p">(</span><span class="k">this</span><span class="p">);</span>
</span>        <span class="k">this</span><span class="p">.</span><span class="na">getContentPane</span><span class="p">().</span><span class="na">add</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="na">canvas</span><span class="p">,</span> <span class="n">BorderLayout</span><span class="p">.</span><span class="na">CENTER</span><span class="p">);</span>

        <span class="c1">// NORTH, EAST, WEST geloescht</span>
        <span class="k">this</span><span class="p">.</span><span class="na">getContentPane</span><span class="p">().</span><span class="na">add</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="na">initSouth</span><span class="p">(),</span> <span class="n">BorderLayout</span><span class="p">.</span><span class="na">SOUTH</span><span class="p">);</span>

        <span class="k">this</span><span class="p">.</span><span class="na">setSize</span><span class="p">(</span><span class="mi">400</span><span class="p">,</span> <span class="mi">400</span><span class="p">);</span>
        <span class="k">this</span><span class="p">.</span><span class="na">setLocation</span><span class="p">(</span><span class="mi">300</span><span class="p">,</span><span class="mi">200</span><span class="p">);</span>
        <span class="k">this</span><span class="p">.</span><span class="na">setVisible</span><span class="p">(</span><span class="kc">true</span><span class="p">);</span>
    <span class="p">}</span>

    <span class="kd">private</span> <span class="kt">void</span> <span class="nf">initField</span><span class="p">()</span> 
    <span class="p">{</span>
        <span class="k">this</span><span class="p">.</span><span class="na">field</span> <span class="o">=</span> <span class="k">new</span> <span class="n">State</span><span class="o">[</span><span class="mi">8</span><span class="o">][</span><span class="mi">8</span><span class="o">]</span><span class="p">;</span>
        <span class="k">for</span><span class="p">(</span><span class="kt">int</span> <span class="n">row</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span> <span class="n">row</span><span class="o">&lt;</span><span class="k">this</span><span class="p">.</span><span class="na">field</span><span class="p">.</span><span class="na">length</span><span class="p">;</span> <span class="n">row</span><span class="o">++</span><span class="p">)</span>
        <span class="p">{</span>
            <span class="k">for</span><span class="p">(</span><span class="kt">int</span> <span class="n">col</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span> <span class="n">col</span><span class="o">&lt;</span><span class="k">this</span><span class="p">.</span><span class="na">field</span><span class="o">[</span><span class="n">row</span><span class="o">]</span><span class="p">.</span><span class="na">length</span><span class="p">;</span> <span class="n">col</span><span class="o">++</span><span class="p">)</span>
            <span class="p">{</span>
                <span class="k">this</span><span class="p">.</span><span class="na">field</span><span class="o">[</span><span class="n">row</span><span class="o">][</span><span class="n">col</span><span class="o">]</span> <span class="o">=</span> <span class="n">State</span><span class="p">.</span><span class="na">UNMARKIERT</span><span class="p">;</span>
            <span class="p">}</span>
        <span class="p">}</span>
    <span class="p">}</span>

    <span class="kd">private</span> <span class="kd">class</span> <span class="nc">Canvas</span> <span class="kd">extends</span> <span class="n">JPanel</span>
    <span class="p">{</span>
        <span class="nd">@Override</span>
        <span class="kd">protected</span> <span class="kt">void</span> <span class="nf">paintComponent</span><span class="p">(</span><span class="n">Graphics</span> <span class="n">g</span><span class="p">)</span>
        <span class="p">{</span>
            <span class="kd">super</span><span class="p">.</span><span class="na">paintComponent</span><span class="p">(</span><span class="n">g</span><span class="p">);</span>        <span class="c1">// Implementierung von JPanel aufrufen</span>
            <span class="n">Graphics2D</span> <span class="n">g2</span> <span class="o">=</span> <span class="p">(</span><span class="n">Graphics2D</span><span class="p">)</span><span class="n">g</span><span class="p">;</span>  <span class="c1">// Methoden von Graphics2D nutzbar</span>

            <span class="kt">int</span> <span class="n">canvasHeight</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="na">getHeight</span><span class="p">();</span>
            <span class="kt">int</span> <span class="n">canvasWidth</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="na">getWidth</span><span class="p">();</span>
            <span class="kt">int</span> <span class="n">heightRect</span> <span class="o">=</span> <span class="n">canvasHeight</span> <span class="o">/</span> <span class="mi">8</span><span class="p">;</span>
            <span class="kt">int</span> <span class="n">widthRect</span> <span class="o">=</span> <span class="n">canvasWidth</span> <span class="o">/</span> <span class="mi">8</span><span class="p">;</span>

            <span class="kt">boolean</span> <span class="n">grey</span> <span class="o">=</span> <span class="kc">true</span><span class="p">;</span>
            <span class="k">for</span><span class="p">(</span><span class="kt">int</span> <span class="n">row</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span> <span class="n">row</span><span class="o">&lt;</span><span class="n">Schachbrett</span><span class="p">.</span><span class="na">this</span><span class="p">.</span><span class="na">field</span><span class="p">.</span><span class="na">length</span><span class="p">;</span> <span class="n">row</span><span class="o">++</span><span class="p">)</span>
            <span class="p">{</span>
                <span class="kt">int</span> <span class="n">y</span> <span class="o">=</span> <span class="n">row</span> <span class="o">*</span> <span class="n">heightRect</span><span class="p">;</span>       <span class="c1">// y-Wert des linken oberen Punktes</span>
                <span class="n">grey</span> <span class="o">=</span> <span class="o">!</span><span class="n">grey</span><span class="p">;</span>                   <span class="c1">// mit einer anderen Farbe anfangen, als aufgehoert</span>
                <span class="k">for</span><span class="p">(</span><span class="kt">int</span> <span class="n">col</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span> <span class="n">col</span><span class="o">&lt;</span><span class="n">Schachbrett</span><span class="p">.</span><span class="na">this</span><span class="p">.</span><span class="na">field</span><span class="o">[</span><span class="n">row</span><span class="o">]</span><span class="p">.</span><span class="na">length</span><span class="p">;</span> <span class="n">col</span><span class="o">++</span><span class="p">)</span>
                <span class="p">{</span>
                    <span class="kt">int</span> <span class="n">x</span> <span class="o">=</span> <span class="n">col</span> <span class="o">*</span> <span class="n">widthRect</span><span class="p">;</span>    <span class="c1">// x-Wert des linken oberen Punktes</span>

                    <span class="k">if</span><span class="p">(</span><span class="n">grey</span><span class="p">)</span> <span class="p">{</span>
                        <span class="n">g2</span><span class="p">.</span><span class="na">setColor</span><span class="p">(</span><span class="n">Color</span><span class="p">.</span><span class="na">LIGHT_GRAY</span><span class="p">);</span>
                        <span class="n">grey</span> <span class="o">=</span> <span class="kc">false</span><span class="p">;</span>
                    <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
                        <span class="n">g2</span><span class="p">.</span><span class="na">setColor</span><span class="p">(</span><span class="n">Color</span><span class="p">.</span><span class="na">WHITE</span><span class="p">);</span>
                        <span class="n">grey</span> <span class="o">=</span> <span class="kc">true</span><span class="p">;</span>
                    <span class="p">}</span>
                    <span class="n">g2</span><span class="p">.</span><span class="na">fillRect</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">widthRect</span><span class="p">,</span> <span class="n">heightRect</span><span class="p">);</span>
                <span class="p">}</span>
            <span class="p">}</span>
        <span class="p">}</span>
    <span class="p">}</span>

    <span class="kd">private</span> <span class="n">JPanel</span> <span class="nf">initSouth</span><span class="p">()</span> 
    <span class="p">{</span>
        <span class="n">JPanel</span> <span class="n">south</span> <span class="o">=</span> <span class="k">new</span> <span class="n">JPanel</span><span class="p">();</span>
        <span class="c1">// hier das JPanel fuer SOUTH befuellen</span>
        <span class="k">return</span> <span class="n">south</span><span class="p">;</span>
    <span class="p">}</span>

    <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="p">(</span><span class="n">String</span><span class="o">[]</span> <span class="n">args</span><span class="p">)</span> 
    <span class="p">{</span>
        <span class="k">new</span> <span class="n">Schachbrett</span><span class="p">();</span>
    <span class="p">}</span>

<span class="hll">    <span class="nd">@Override</span>
</span><span class="hll">    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">mouseClicked</span><span class="p">(</span><span class="n">MouseEvent</span> <span class="n">e</span><span class="p">)</span> <span class="p">{</span>
</span><span class="hll">        <span class="kt">int</span> <span class="n">x</span> <span class="o">=</span> <span class="n">e</span><span class="p">.</span><span class="na">getX</span><span class="p">();</span>
</span><span class="hll">        <span class="kt">int</span> <span class="n">y</span> <span class="o">=</span> <span class="n">e</span><span class="p">.</span><span class="na">getY</span><span class="p">();</span>
</span><span class="hll">        <span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="s">&quot;mouseClicked: [x=&quot;</span> <span class="o">+</span> <span class="n">x</span> <span class="o">+</span> <span class="s">&quot;, &quot;</span> <span class="o">+</span> <span class="n">y</span> <span class="o">+</span> <span class="s">&quot;]&quot;</span><span class="p">);</span>   
</span><span class="hll">    <span class="p">}</span>
</span>
    <span class="nd">@Override</span> <span class="kd">public</span> <span class="kt">void</span> <span class="nf">mousePressed</span><span class="p">(</span><span class="n">MouseEvent</span> <span class="n">e</span><span class="p">)</span> <span class="p">{}</span>
    <span class="nd">@Override</span> <span class="kd">public</span> <span class="kt">void</span> <span class="nf">mouseReleased</span><span class="p">(</span><span class="n">MouseEvent</span> <span class="n">e</span><span class="p">)</span> <span class="p">{}</span>
    <span class="nd">@Override</span> <span class="kd">public</span> <span class="kt">void</span> <span class="nf">mouseEntered</span><span class="p">(</span><span class="n">MouseEvent</span> <span class="n">e</span><span class="p">)</span> <span class="p">{}</span>
    <span class="nd">@Override</span> <span class="kd">public</span> <span class="kt">void</span> <span class="nf">mouseExited</span><span class="p">(</span><span class="n">MouseEvent</span> <span class="n">e</span><span class="p">)</span> <span class="p">{}</span>
<span class="p">}</span>
</code></pre></div>
</td></tr></table>
<ul>
<li>
<p>Wir fügen das <code>implements MouseListener</code> im Klassenkopf ein und importieren den <code>MouseListener</code> aus dem <code>java.awt.event</code>-Paket (lassen wir natürlich Eclipse erledigen). </p>
</li>
<li>
<p>Wir lassen Eclipse durch <code>Add unimplemented methods</code> die Methoden aus dem <code>MouseListener</code> hinzufügen. Dabei wird auch <code>MouseEvent</code> importiert. </p>
</li>
<li>
<p>Da wir uns für die Implementierung von <code>mouseClicked()</code> entschieden haben, können wir die anderen Methoden ein wenig verkleinern, um Übersicht zu bewahren.</p>
</li>
<li>
<p>In <code>mouseClicked()</code> können wir schonmal die Koordinaten des <code>MouseEvent</code> abfragen und eine Ausgabe auf die Konsole durchführen, um zu kontrollieren, ob alles funktioniert.</p>
</li>
<li>
<p><strong>Unbedingt</strong> müssen wir natürlich <code>canvas</code> an den <code>MouseListener</code> anmelden (Zeile <code>25</code>). </p>
</li>
<li>
<p><code>mouseClicked()</code> wird aufgerufen, wenn wir in das Feld klicken - die Koordinaten des Klicks in die <code>Canvas</code> werden auf der Konsole ausgegeben. </p>
</li>
</ul>
</li>
<li>
<p>Nun müssten wir uns überlegen, auf welches Rechteck aus dem <code>field</code>-Array wir geklickt haben. Dieses Rechteck wollen wir als <code>MARKIERT</code> speichern. Angenommen, wir kennen die Koordinaten <code>x</code> und <code>y</code> des Mausklicks in die <code>Canvas</code>. Um nun zu wissen, in welche "Spalte" oder "Zeile" wir geklickt haben, müssen wir die Breite und Höhe der Rechtecke kennen. Diese kennen wir aber in <code>mouseClicked()</code> nicht, da die Breite und Höhe der Rechtecke jeweils von der Breite und Höhe der <code>Canvas</code> abhängig ist (welche sich ändern können). Die Höhe und Breite der Rechtecke ist somit eine Eigenschaft der <code>Canvas</code> und um auf diese Eigenschaft zuzugreifen, müssen wir sie <strong>global</strong> verfügbar machen:</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">  1</span>
<span class="normal">  2</span>
<span class="normal">  3</span>
<span class="normal">  4</span>
<span class="normal">  5</span>
<span class="normal">  6</span>
<span class="normal">  7</span>
<span class="normal">  8</span>
<span class="normal">  9</span>
<span class="normal"> 10</span>
<span class="normal"> 11</span>
<span class="normal"> 12</span>
<span class="normal"> 13</span>
<span class="normal"> 14</span>
<span class="normal"> 15</span>
<span class="normal"> 16</span>
<span class="normal"> 17</span>
<span class="normal"> 18</span>
<span class="normal"> 19</span>
<span class="normal"> 20</span>
<span class="normal"> 21</span>
<span class="normal"> 22</span>
<span class="normal"> 23</span>
<span class="normal"> 24</span>
<span class="normal"> 25</span>
<span class="normal"> 26</span>
<span class="normal"> 27</span>
<span class="normal"> 28</span>
<span class="normal"> 29</span>
<span class="normal"> 30</span>
<span class="normal"> 31</span>
<span class="normal"> 32</span>
<span class="normal"> 33</span>
<span class="normal"> 34</span>
<span class="normal"> 35</span>
<span class="normal"> 36</span>
<span class="normal"> 37</span>
<span class="normal"> 38</span>
<span class="normal"> 39</span>
<span class="normal"> 40</span>
<span class="normal"> 41</span>
<span class="normal"> 42</span>
<span class="normal"> 43</span>
<span class="normal"> 44</span>
<span class="normal"> 45</span>
<span class="normal"> 46</span>
<span class="normal"> 47</span>
<span class="normal"> 48</span>
<span class="normal"> 49</span>
<span class="normal"> 50</span>
<span class="normal"> 51</span>
<span class="normal"> 52</span>
<span class="normal"> 53</span>
<span class="normal"> 54</span>
<span class="normal"> 55</span>
<span class="normal"> 56</span>
<span class="normal"> 57</span>
<span class="normal"> 58</span>
<span class="normal"> 59</span>
<span class="normal"> 60</span>
<span class="normal"> 61</span>
<span class="normal"> 62</span>
<span class="normal"> 63</span>
<span class="normal"> 64</span>
<span class="normal"> 65</span>
<span class="normal"> 66</span>
<span class="normal"> 67</span>
<span class="normal"> 68</span>
<span class="normal"> 69</span>
<span class="normal"> 70</span>
<span class="normal"> 71</span>
<span class="normal"> 72</span>
<span class="normal"> 73</span>
<span class="normal"> 74</span>
<span class="normal"> 75</span>
<span class="normal"> 76</span>
<span class="normal"> 77</span>
<span class="normal"> 78</span>
<span class="normal"> 79</span>
<span class="normal"> 80</span>
<span class="normal"> 81</span>
<span class="normal"> 82</span>
<span class="normal"> 83</span>
<span class="normal"> 84</span>
<span class="normal"> 85</span>
<span class="normal"> 86</span>
<span class="normal"> 87</span>
<span class="normal"> 88</span>
<span class="normal"> 89</span>
<span class="normal"> 90</span>
<span class="normal"> 91</span>
<span class="normal"> 92</span>
<span class="normal"> 93</span>
<span class="normal"> 94</span>
<span class="normal"> 95</span>
<span class="normal"> 96</span>
<span class="normal"> 97</span>
<span class="normal"> 98</span>
<span class="normal"> 99</span>
<span class="normal">100</span>
<span class="normal">101</span>
<span class="normal">102</span>
<span class="normal">103</span>
<span class="normal">104</span>
<span class="normal">105</span>
<span class="normal">106</span>
<span class="normal">107</span>
<span class="normal">108</span>
<span class="normal">109</span>
<span class="normal">110</span>
<span class="normal">111</span>
<span class="normal">112</span>
<span class="normal">113</span>
<span class="normal">114</span>
<span class="normal">115</span>
<span class="normal">116</span>
<span class="normal">117</span></pre></div></td><td class="code"><div class="highlight"><pre><span></span><code><span class="kn">import</span> <span class="nn">java.awt.BorderLayout</span><span class="p">;</span>
<span class="kn">import</span> <span class="nn">java.awt.Color</span><span class="p">;</span>
<span class="kn">import</span> <span class="nn">java.awt.Graphics</span><span class="p">;</span>
<span class="kn">import</span> <span class="nn">java.awt.Graphics2D</span><span class="p">;</span>
<span class="kn">import</span> <span class="nn">java.awt.event.MouseEvent</span><span class="p">;</span>
<span class="kn">import</span> <span class="nn">java.awt.event.MouseListener</span><span class="p">;</span>

<span class="kn">import</span> <span class="nn">javax.swing.JFrame</span><span class="p">;</span>
<span class="kn">import</span> <span class="nn">javax.swing.JPanel</span><span class="p">;</span>

<span class="kd">public</span> <span class="kd">class</span> <span class="nc">Schachbrett</span> <span class="kd">extends</span> <span class="n">JFrame</span> <span class="kd">implements</span> <span class="n">MouseListener</span><span class="p">{</span>
    <span class="n">Canvas</span> <span class="n">canvas</span><span class="p">;</span>
    <span class="kd">enum</span> <span class="n">State</span> <span class="p">{</span> <span class="n">MARKIERT</span><span class="p">,</span> <span class="n">UNMARKIERT</span> <span class="p">};</span>
    <span class="n">State</span><span class="o">[][]</span> <span class="n">field</span><span class="p">;</span>

    <span class="kd">public</span> <span class="nf">Schachbrett</span><span class="p">()</span>
    <span class="p">{</span>
        <span class="kd">super</span><span class="p">();</span>
        <span class="k">this</span><span class="p">.</span><span class="na">setTitle</span><span class="p">(</span><span class="s">&quot;Schachbrett&quot;</span><span class="p">);</span>
        <span class="k">this</span><span class="p">.</span><span class="na">setDefaultCloseOperation</span><span class="p">(</span><span class="n">JFrame</span><span class="p">.</span><span class="na">EXIT_ON_CLOSE</span><span class="p">);</span>    

        <span class="k">this</span><span class="p">.</span><span class="na">initField</span><span class="p">();</span>

        <span class="k">this</span><span class="p">.</span><span class="na">canvas</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Canvas</span><span class="p">();</span>
        <span class="k">this</span><span class="p">.</span><span class="na">canvas</span><span class="p">.</span><span class="na">addMouseListener</span><span class="p">(</span><span class="k">this</span><span class="p">);</span>
        <span class="k">this</span><span class="p">.</span><span class="na">getContentPane</span><span class="p">().</span><span class="na">add</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="na">canvas</span><span class="p">,</span> <span class="n">BorderLayout</span><span class="p">.</span><span class="na">CENTER</span><span class="p">);</span>

        <span class="c1">// NORTH, EAST, WEST geloescht</span>
        <span class="k">this</span><span class="p">.</span><span class="na">getContentPane</span><span class="p">().</span><span class="na">add</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="na">initSouth</span><span class="p">(),</span> <span class="n">BorderLayout</span><span class="p">.</span><span class="na">SOUTH</span><span class="p">);</span>

        <span class="k">this</span><span class="p">.</span><span class="na">setSize</span><span class="p">(</span><span class="mi">400</span><span class="p">,</span> <span class="mi">400</span><span class="p">);</span>
        <span class="k">this</span><span class="p">.</span><span class="na">setLocation</span><span class="p">(</span><span class="mi">300</span><span class="p">,</span><span class="mi">200</span><span class="p">);</span>
        <span class="k">this</span><span class="p">.</span><span class="na">setVisible</span><span class="p">(</span><span class="kc">true</span><span class="p">);</span>
    <span class="p">}</span>

    <span class="kd">private</span> <span class="kt">void</span> <span class="nf">initField</span><span class="p">()</span> 
    <span class="p">{</span>
        <span class="k">this</span><span class="p">.</span><span class="na">field</span> <span class="o">=</span> <span class="k">new</span> <span class="n">State</span><span class="o">[</span><span class="mi">8</span><span class="o">][</span><span class="mi">8</span><span class="o">]</span><span class="p">;</span>
        <span class="k">for</span><span class="p">(</span><span class="kt">int</span> <span class="n">row</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span> <span class="n">row</span><span class="o">&lt;</span><span class="k">this</span><span class="p">.</span><span class="na">field</span><span class="p">.</span><span class="na">length</span><span class="p">;</span> <span class="n">row</span><span class="o">++</span><span class="p">)</span>
        <span class="p">{</span>
            <span class="k">for</span><span class="p">(</span><span class="kt">int</span> <span class="n">col</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span> <span class="n">col</span><span class="o">&lt;</span><span class="k">this</span><span class="p">.</span><span class="na">field</span><span class="o">[</span><span class="n">row</span><span class="o">]</span><span class="p">.</span><span class="na">length</span><span class="p">;</span> <span class="n">col</span><span class="o">++</span><span class="p">)</span>
            <span class="p">{</span>
                <span class="k">this</span><span class="p">.</span><span class="na">field</span><span class="o">[</span><span class="n">row</span><span class="o">][</span><span class="n">col</span><span class="o">]</span> <span class="o">=</span> <span class="n">State</span><span class="p">.</span><span class="na">UNMARKIERT</span><span class="p">;</span>
            <span class="p">}</span>
        <span class="p">}</span>
    <span class="p">}</span>

    <span class="kd">private</span> <span class="kd">class</span> <span class="nc">Canvas</span> <span class="kd">extends</span> <span class="n">JPanel</span>
    <span class="p">{</span>
<span class="hll">        <span class="kt">int</span> <span class="n">heightRect</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
</span><span class="hll">        <span class="kt">int</span> <span class="n">widthRect</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
</span>
        <span class="nd">@Override</span>
        <span class="kd">protected</span> <span class="kt">void</span> <span class="nf">paintComponent</span><span class="p">(</span><span class="n">Graphics</span> <span class="n">g</span><span class="p">)</span>
        <span class="p">{</span>
            <span class="kd">super</span><span class="p">.</span><span class="na">paintComponent</span><span class="p">(</span><span class="n">g</span><span class="p">);</span>        <span class="c1">// Implementierung von JPanel aufrufen</span>
            <span class="n">Graphics2D</span> <span class="n">g2</span> <span class="o">=</span> <span class="p">(</span><span class="n">Graphics2D</span><span class="p">)</span><span class="n">g</span><span class="p">;</span>  <span class="c1">// Methoden von Graphics2D nutzbar</span>

            <span class="kt">int</span> <span class="n">canvasHeight</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="na">getHeight</span><span class="p">();</span>
            <span class="kt">int</span> <span class="n">canvasWidth</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="na">getWidth</span><span class="p">();</span>
<span class="hll">            <span class="k">this</span><span class="p">.</span><span class="na">heightRect</span> <span class="o">=</span> <span class="n">canvasHeight</span> <span class="o">/</span> <span class="mi">8</span><span class="p">;</span>
</span><span class="hll">            <span class="k">this</span><span class="p">.</span><span class="na">widthRect</span> <span class="o">=</span> <span class="n">canvasWidth</span> <span class="o">/</span> <span class="mi">8</span><span class="p">;</span>
</span>
            <span class="kt">boolean</span> <span class="n">grey</span> <span class="o">=</span> <span class="kc">true</span><span class="p">;</span>
            <span class="k">for</span><span class="p">(</span><span class="kt">int</span> <span class="n">row</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span> <span class="n">row</span><span class="o">&lt;</span><span class="n">Schachbrett</span><span class="p">.</span><span class="na">this</span><span class="p">.</span><span class="na">field</span><span class="p">.</span><span class="na">length</span><span class="p">;</span> <span class="n">row</span><span class="o">++</span><span class="p">)</span>
            <span class="p">{</span>
                <span class="kt">int</span> <span class="n">y</span> <span class="o">=</span> <span class="n">row</span> <span class="o">*</span> <span class="k">this</span><span class="p">.</span><span class="na">heightRect</span><span class="p">;</span>      <span class="c1">// y-Wert des linken oberen Punktes</span>
                <span class="n">grey</span> <span class="o">=</span> <span class="o">!</span><span class="n">grey</span><span class="p">;</span>                   <span class="c1">// mit einer anderen Farbe anfangen, als aufgehoert</span>
                <span class="k">for</span><span class="p">(</span><span class="kt">int</span> <span class="n">col</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span> <span class="n">col</span><span class="o">&lt;</span><span class="n">Schachbrett</span><span class="p">.</span><span class="na">this</span><span class="p">.</span><span class="na">field</span><span class="o">[</span><span class="n">row</span><span class="o">]</span><span class="p">.</span><span class="na">length</span><span class="p">;</span> <span class="n">col</span><span class="o">++</span><span class="p">)</span>
                <span class="p">{</span>
                    <span class="kt">int</span> <span class="n">x</span> <span class="o">=</span> <span class="n">col</span> <span class="o">*</span> <span class="k">this</span><span class="p">.</span><span class="na">widthRect</span><span class="p">;</span>   <span class="c1">// x-Wert des linken oberen Punktes</span>

                    <span class="k">if</span><span class="p">(</span><span class="n">grey</span><span class="p">)</span> <span class="p">{</span>
                        <span class="n">g2</span><span class="p">.</span><span class="na">setColor</span><span class="p">(</span><span class="n">Color</span><span class="p">.</span><span class="na">LIGHT_GRAY</span><span class="p">);</span>
                        <span class="n">grey</span> <span class="o">=</span> <span class="kc">false</span><span class="p">;</span>
                    <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
                        <span class="n">g2</span><span class="p">.</span><span class="na">setColor</span><span class="p">(</span><span class="n">Color</span><span class="p">.</span><span class="na">WHITE</span><span class="p">);</span>
                        <span class="n">grey</span> <span class="o">=</span> <span class="kc">true</span><span class="p">;</span>
                    <span class="p">}</span>
                    <span class="n">g2</span><span class="p">.</span><span class="na">fillRect</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="k">this</span><span class="p">.</span><span class="na">widthRect</span><span class="p">,</span> <span class="k">this</span><span class="p">.</span><span class="na">heightRect</span><span class="p">);</span>
                <span class="p">}</span>
            <span class="p">}</span>
        <span class="p">}</span>
    <span class="p">}</span>

    <span class="kd">private</span> <span class="n">JPanel</span> <span class="nf">initSouth</span><span class="p">()</span> 
    <span class="p">{</span>
        <span class="n">JPanel</span> <span class="n">south</span> <span class="o">=</span> <span class="k">new</span> <span class="n">JPanel</span><span class="p">();</span>
        <span class="c1">// hier das JPanel fuer SOUTH befuellen</span>
        <span class="k">return</span> <span class="n">south</span><span class="p">;</span>
    <span class="p">}</span>

    <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="p">(</span><span class="n">String</span><span class="o">[]</span> <span class="n">args</span><span class="p">)</span> 
    <span class="p">{</span>
        <span class="k">new</span> <span class="n">Schachbrett</span><span class="p">();</span>
    <span class="p">}</span>

    <span class="nd">@Override</span>
    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">mouseClicked</span><span class="p">(</span><span class="n">MouseEvent</span> <span class="n">e</span><span class="p">)</span> 
    <span class="p">{</span>
        <span class="kt">int</span> <span class="n">x</span> <span class="o">=</span> <span class="n">e</span><span class="p">.</span><span class="na">getX</span><span class="p">();</span>
        <span class="kt">int</span> <span class="n">y</span> <span class="o">=</span> <span class="n">e</span><span class="p">.</span><span class="na">getY</span><span class="p">();</span>
        <span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="s">&quot;mouseClicked: [x=&quot;</span> <span class="o">+</span> <span class="n">x</span> <span class="o">+</span> <span class="s">&quot;, &quot;</span> <span class="o">+</span> <span class="n">y</span> <span class="o">+</span> <span class="s">&quot;]&quot;</span><span class="p">);</span>

<span class="hll">        <span class="kt">int</span> <span class="n">spalte</span> <span class="o">=</span> <span class="n">x</span> <span class="o">/</span> <span class="k">this</span><span class="p">.</span><span class="na">canvas</span><span class="p">.</span><span class="na">widthRect</span><span class="p">;</span>
</span><span class="hll">        <span class="kt">int</span> <span class="n">zeile</span> <span class="o">=</span> <span class="n">y</span> <span class="o">/</span> <span class="k">this</span><span class="p">.</span><span class="na">canvas</span><span class="p">.</span><span class="na">heightRect</span><span class="p">;</span>
</span><span class="hll">
</span><span class="hll">        <span class="k">this</span><span class="p">.</span><span class="na">field</span><span class="o">[</span><span class="n">zeile</span><span class="o">][</span><span class="n">spalte</span><span class="o">]</span> <span class="o">=</span> <span class="n">State</span><span class="p">.</span><span class="na">MARKIERT</span><span class="p">;</span>
</span><span class="hll">        <span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="s">&quot;mouseClicked: [zeile = &quot;</span> <span class="o">+</span> <span class="n">zeile</span> <span class="o">+</span> <span class="s">&quot;, spalte = &quot;</span> <span class="o">+</span> <span class="n">spalte</span> <span class="o">+</span> <span class="s">&quot;]&quot;</span><span class="p">);</span>
</span><span class="hll">        <span class="k">this</span><span class="p">.</span><span class="na">canvas</span><span class="p">.</span><span class="na">repaint</span><span class="p">();</span>
</span>    <span class="p">}</span>

    <span class="nd">@Override</span> <span class="kd">public</span> <span class="kt">void</span> <span class="nf">mousePressed</span><span class="p">(</span><span class="n">MouseEvent</span> <span class="n">e</span><span class="p">)</span> <span class="p">{}</span>
    <span class="nd">@Override</span> <span class="kd">public</span> <span class="kt">void</span> <span class="nf">mouseReleased</span><span class="p">(</span><span class="n">MouseEvent</span> <span class="n">e</span><span class="p">)</span> <span class="p">{}</span>
    <span class="nd">@Override</span> <span class="kd">public</span> <span class="kt">void</span> <span class="nf">mouseEntered</span><span class="p">(</span><span class="n">MouseEvent</span> <span class="n">e</span><span class="p">)</span> <span class="p">{}</span>
    <span class="nd">@Override</span> <span class="kd">public</span> <span class="kt">void</span> <span class="nf">mouseExited</span><span class="p">(</span><span class="n">MouseEvent</span> <span class="n">e</span><span class="p">)</span> <span class="p">{}</span>
<span class="p">}</span>
</code></pre></div>
</td></tr></table>
<ul>
<li>
<p>Die Variablen <code>heightRect</code> und <code>widthRect</code> werden in den Zeilen <code>50</code> und <code>51</code> als global deklariert.</p>
</li>
<li>
<p>In den Zeilen <code>61</code> und <code>62</code> bekommen diese Variablen ihren Wert abhängig von der Größe der <code>Canvas</code>. </p>
</li>
<li>
<p>Nun können wir auf diese Werte in der <code>mouseClicked()</code>-Methode über die <code>canvas</code>-Referenz zugreifen (Zeilen <code>105</code> und <code>106</code>). Für die Berechnung der <code>zeile</code> und <code>spalte</code> verwenden wir die Integer-Division (wie oft passt ein Rechteck in <code>x</code> bzw. in <code>y</code>?).</p>
</li>
<li>
<p>Das entsprechende Feld setzen wir auf <code>MARKIERT</code> (Zeile <code>108</code>).</p>
</li>
<li>
<p>Zur Kontrolle noch eine Konsolenausgabe (Zeile <code>109</code>).</p>
</li>
<li>
<p>Damit wir es nicht vergessen, sicherheitshalber schonmal das <code>repaint()</code> der <code>canvas</code> (Zeile <code>110</code>). </p>
</li>
</ul>
</li>
<li>
<p>In alle als <code>MARKIERT</code> markierten Felder zeichnen wir nun einen roten Kreis. Gezeichnet wird immer in der <code>paintComponent()</code>:</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">53</span>
<span class="normal">54</span>
<span class="normal">55</span>
<span class="normal">56</span>
<span class="normal">57</span>
<span class="normal">58</span>
<span class="normal">59</span>
<span class="normal">60</span>
<span class="normal">61</span>
<span class="normal">62</span>
<span class="normal">63</span>
<span class="normal">64</span>
<span class="normal">65</span>
<span class="normal">66</span>
<span class="normal">67</span>
<span class="normal">68</span>
<span class="normal">69</span>
<span class="normal">70</span>
<span class="normal">71</span>
<span class="normal">72</span>
<span class="normal">73</span>
<span class="normal">74</span>
<span class="normal">75</span>
<span class="normal">76</span>
<span class="normal">77</span>
<span class="normal">78</span>
<span class="normal">79</span>
<span class="normal">80</span>
<span class="normal">81</span>
<span class="normal">82</span>
<span class="normal">83</span>
<span class="normal">84</span>
<span class="normal">85</span>
<span class="normal">86</span>
<span class="normal">87</span>
<span class="normal">88</span>
<span class="normal">89</span>
<span class="normal">90</span>
<span class="normal">91</span>
<span class="normal">92</span></pre></div></td><td class="code"><div class="highlight"><pre><span></span><code><span class="nd">@Override</span>
<span class="kd">protected</span> <span class="kt">void</span> <span class="nf">paintComponent</span><span class="p">(</span><span class="n">Graphics</span> <span class="n">g</span><span class="p">)</span>
<span class="p">{</span>
    <span class="kd">super</span><span class="p">.</span><span class="na">paintComponent</span><span class="p">(</span><span class="n">g</span><span class="p">);</span>        <span class="c1">// Implementierung von JPanel aufrufen</span>
    <span class="n">Graphics2D</span> <span class="n">g2</span> <span class="o">=</span> <span class="p">(</span><span class="n">Graphics2D</span><span class="p">)</span><span class="n">g</span><span class="p">;</span>  <span class="c1">// Methoden von Graphics2D nutzbar</span>

    <span class="kt">int</span> <span class="n">canvasHeight</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="na">getHeight</span><span class="p">();</span>
    <span class="kt">int</span> <span class="n">canvasWidth</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="na">getWidth</span><span class="p">();</span>
    <span class="k">this</span><span class="p">.</span><span class="na">heightRect</span> <span class="o">=</span> <span class="n">canvasHeight</span> <span class="o">/</span> <span class="mi">8</span><span class="p">;</span>
    <span class="k">this</span><span class="p">.</span><span class="na">widthRect</span> <span class="o">=</span> <span class="n">canvasWidth</span> <span class="o">/</span> <span class="mi">8</span><span class="p">;</span>

    <span class="kt">boolean</span> <span class="n">grey</span> <span class="o">=</span> <span class="kc">true</span><span class="p">;</span>
    <span class="k">for</span><span class="p">(</span><span class="kt">int</span> <span class="n">row</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span> <span class="n">row</span><span class="o">&lt;</span><span class="n">Schachbrett</span><span class="p">.</span><span class="na">this</span><span class="p">.</span><span class="na">field</span><span class="p">.</span><span class="na">length</span><span class="p">;</span> <span class="n">row</span><span class="o">++</span><span class="p">)</span>
    <span class="p">{</span>
        <span class="kt">int</span> <span class="n">y</span> <span class="o">=</span> <span class="n">row</span> <span class="o">*</span> <span class="k">this</span><span class="p">.</span><span class="na">heightRect</span><span class="p">;</span>      <span class="c1">// y-Wert des linken oberen Punktes</span>
        <span class="n">grey</span> <span class="o">=</span> <span class="o">!</span><span class="n">grey</span><span class="p">;</span>                   <span class="c1">// mit einer anderen Farbe anfangen, als aufgehoert</span>
        <span class="k">for</span><span class="p">(</span><span class="kt">int</span> <span class="n">col</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span> <span class="n">col</span><span class="o">&lt;</span><span class="n">Schachbrett</span><span class="p">.</span><span class="na">this</span><span class="p">.</span><span class="na">field</span><span class="o">[</span><span class="n">row</span><span class="o">]</span><span class="p">.</span><span class="na">length</span><span class="p">;</span> <span class="n">col</span><span class="o">++</span><span class="p">)</span>
        <span class="p">{</span>
            <span class="kt">int</span> <span class="n">x</span> <span class="o">=</span> <span class="n">col</span> <span class="o">*</span> <span class="k">this</span><span class="p">.</span><span class="na">widthRect</span><span class="p">;</span>   <span class="c1">// x-Wert des linken oberen Punktes</span>

            <span class="k">if</span><span class="p">(</span><span class="n">grey</span><span class="p">)</span> <span class="p">{</span>
                <span class="n">g2</span><span class="p">.</span><span class="na">setColor</span><span class="p">(</span><span class="n">Color</span><span class="p">.</span><span class="na">LIGHT_GRAY</span><span class="p">);</span>
                <span class="n">grey</span> <span class="o">=</span> <span class="kc">false</span><span class="p">;</span>
            <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
                <span class="n">g2</span><span class="p">.</span><span class="na">setColor</span><span class="p">(</span><span class="n">Color</span><span class="p">.</span><span class="na">WHITE</span><span class="p">);</span>
                <span class="n">grey</span> <span class="o">=</span> <span class="kc">true</span><span class="p">;</span>
            <span class="p">}</span>
            <span class="n">g2</span><span class="p">.</span><span class="na">fillRect</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="k">this</span><span class="p">.</span><span class="na">widthRect</span><span class="p">,</span> <span class="k">this</span><span class="p">.</span><span class="na">heightRect</span><span class="p">);</span>

<span class="hll">            <span class="k">if</span><span class="p">(</span><span class="n">Schachbrett</span><span class="p">.</span><span class="na">this</span><span class="p">.</span><span class="na">field</span><span class="o">[</span><span class="n">row</span><span class="o">][</span><span class="n">col</span><span class="o">]</span> <span class="o">==</span> <span class="n">State</span><span class="p">.</span><span class="na">MARKIERT</span><span class="p">)</span>
</span><span class="hll">            <span class="p">{</span>
</span><span class="hll">                <span class="kt">int</span> <span class="n">abstandX</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="na">widthRect</span> <span class="o">/</span> <span class="mi">3</span><span class="p">;</span>
</span><span class="hll">                <span class="kt">int</span> <span class="n">abstandY</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="na">heightRect</span> <span class="o">/</span> <span class="mi">3</span><span class="p">;</span>
</span><span class="hll">                <span class="kt">int</span> <span class="n">durchmesser</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="na">widthRect</span> <span class="o">/</span> <span class="mi">3</span><span class="p">;</span>
</span><span class="hll">                <span class="n">g2</span><span class="p">.</span><span class="na">setColor</span><span class="p">(</span><span class="n">Color</span><span class="p">.</span><span class="na">RED</span><span class="p">);</span>
</span><span class="hll">                <span class="n">g2</span><span class="p">.</span><span class="na">fillOval</span><span class="p">(</span><span class="n">x</span><span class="o">+</span><span class="n">abstandX</span><span class="p">,</span> <span class="n">y</span><span class="o">+</span><span class="n">abstandY</span><span class="p">,</span> <span class="n">durchmesser</span><span class="p">,</span> <span class="n">durchmesser</span><span class="p">);</span>
</span><span class="hll">            <span class="p">}</span>
</span>        <span class="p">}</span>
    <span class="p">}</span>
<span class="p">}</span>
</code></pre></div>
</td></tr></table>
<ul>
<li>
<p>Da die linke obere "Ecke" des Kreises weiter rechts und weiter unten als die linke obere Ecke des Rechtecks ist, fügen wir noch einen <code>abstandX</code> und einen <code>abstandY</code> hinzu, der sich jeweils aus dem Drittel der Rechtecksbreite und der Recjteckshöhe ergibt (Zeilen <code>84</code> und <code>85</code>).</p>
</li>
<li>
<p>Der Durchmesser des Kreises ist dann ebenfalls ein Drittel (somit bleibt das dritte Dtrittel als Abstand rechts - der Kreis ist recht mittig) - Zeile <code>86</code>.</p>
</li>
<li>
<p>Wir setzen die Farbe auf rot und zeichnen den Kreis (Zeilen <code>87</code> und <code>88</code>). </p>
</li>
</ul>
<p><img alt="schachbrett" src="../files/109_schachbrett.png" /></p>
</li>
<li>
<p>Die roten vertikalen und horizontalen Linien könnten wir nun auch noch gleich zeichnen:</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 53</span>
<span class="normal"> 54</span>
<span class="normal"> 55</span>
<span class="normal"> 56</span>
<span class="normal"> 57</span>
<span class="normal"> 58</span>
<span class="normal"> 59</span>
<span class="normal"> 60</span>
<span class="normal"> 61</span>
<span class="normal"> 62</span>
<span class="normal"> 63</span>
<span class="normal"> 64</span>
<span class="normal"> 65</span>
<span class="normal"> 66</span>
<span class="normal"> 67</span>
<span class="normal"> 68</span>
<span class="normal"> 69</span>
<span class="normal"> 70</span>
<span class="normal"> 71</span>
<span class="normal"> 72</span>
<span class="normal"> 73</span>
<span class="normal"> 74</span>
<span class="normal"> 75</span>
<span class="normal"> 76</span>
<span class="normal"> 77</span>
<span class="normal"> 78</span>
<span class="normal"> 79</span>
<span class="normal"> 80</span>
<span class="normal"> 81</span>
<span class="normal"> 82</span>
<span class="normal"> 83</span>
<span class="normal"> 84</span>
<span class="normal"> 85</span>
<span class="normal"> 86</span>
<span class="normal"> 87</span>
<span class="normal"> 88</span>
<span class="normal"> 89</span>
<span class="normal"> 90</span>
<span class="normal"> 91</span>
<span class="normal"> 92</span>
<span class="normal"> 93</span>
<span class="normal"> 94</span>
<span class="normal"> 95</span>
<span class="normal"> 96</span>
<span class="normal"> 97</span>
<span class="normal"> 98</span>
<span class="normal"> 99</span>
<span class="normal">100</span>
<span class="normal">101</span>
<span class="normal">102</span>
<span class="normal">103</span>
<span class="normal">104</span>
<span class="normal">105</span>
<span class="normal">106</span></pre></div></td><td class="code"><div class="highlight"><pre><span></span><code><span class="nd">@Override</span>
<span class="kd">protected</span> <span class="kt">void</span> <span class="nf">paintComponent</span><span class="p">(</span><span class="n">Graphics</span> <span class="n">g</span><span class="p">)</span>
<span class="p">{</span>
    <span class="kd">super</span><span class="p">.</span><span class="na">paintComponent</span><span class="p">(</span><span class="n">g</span><span class="p">);</span>        <span class="c1">// Implementierung von JPanel aufrufen</span>
    <span class="n">Graphics2D</span> <span class="n">g2</span> <span class="o">=</span> <span class="p">(</span><span class="n">Graphics2D</span><span class="p">)</span><span class="n">g</span><span class="p">;</span>  <span class="c1">// Methoden von Graphics2D nutzbar</span>

    <span class="kt">int</span> <span class="n">canvasHeight</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="na">getHeight</span><span class="p">();</span>
    <span class="kt">int</span> <span class="n">canvasWidth</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="na">getWidth</span><span class="p">();</span>
    <span class="k">this</span><span class="p">.</span><span class="na">heightRect</span> <span class="o">=</span> <span class="n">canvasHeight</span> <span class="o">/</span> <span class="mi">8</span><span class="p">;</span>
    <span class="k">this</span><span class="p">.</span><span class="na">widthRect</span> <span class="o">=</span> <span class="n">canvasWidth</span> <span class="o">/</span> <span class="mi">8</span><span class="p">;</span>

    <span class="kt">boolean</span> <span class="n">grey</span> <span class="o">=</span> <span class="kc">true</span><span class="p">;</span>
    <span class="k">for</span><span class="p">(</span><span class="kt">int</span> <span class="n">row</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span> <span class="n">row</span><span class="o">&lt;</span><span class="n">Schachbrett</span><span class="p">.</span><span class="na">this</span><span class="p">.</span><span class="na">field</span><span class="p">.</span><span class="na">length</span><span class="p">;</span> <span class="n">row</span><span class="o">++</span><span class="p">)</span>
    <span class="p">{</span>
        <span class="kt">int</span> <span class="n">y</span> <span class="o">=</span> <span class="n">row</span> <span class="o">*</span> <span class="k">this</span><span class="p">.</span><span class="na">heightRect</span><span class="p">;</span>      <span class="c1">// y-Wert des linken oberen Punktes</span>
        <span class="n">grey</span> <span class="o">=</span> <span class="o">!</span><span class="n">grey</span><span class="p">;</span>                   <span class="c1">// mit einer anderen Farbe anfangen, als aufgehoert</span>
        <span class="k">for</span><span class="p">(</span><span class="kt">int</span> <span class="n">col</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span> <span class="n">col</span><span class="o">&lt;</span><span class="n">Schachbrett</span><span class="p">.</span><span class="na">this</span><span class="p">.</span><span class="na">field</span><span class="o">[</span><span class="n">row</span><span class="o">]</span><span class="p">.</span><span class="na">length</span><span class="p">;</span> <span class="n">col</span><span class="o">++</span><span class="p">)</span>
        <span class="p">{</span>
            <span class="kt">int</span> <span class="n">x</span> <span class="o">=</span> <span class="n">col</span> <span class="o">*</span> <span class="k">this</span><span class="p">.</span><span class="na">widthRect</span><span class="p">;</span>   <span class="c1">// x-Wert des linken oberen Punktes</span>

            <span class="k">if</span><span class="p">(</span><span class="n">grey</span><span class="p">)</span> <span class="p">{</span>
                <span class="n">g2</span><span class="p">.</span><span class="na">setColor</span><span class="p">(</span><span class="n">Color</span><span class="p">.</span><span class="na">LIGHT_GRAY</span><span class="p">);</span>
                <span class="n">grey</span> <span class="o">=</span> <span class="kc">false</span><span class="p">;</span>
            <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
                <span class="n">g2</span><span class="p">.</span><span class="na">setColor</span><span class="p">(</span><span class="n">Color</span><span class="p">.</span><span class="na">WHITE</span><span class="p">);</span>
                <span class="n">grey</span> <span class="o">=</span> <span class="kc">true</span><span class="p">;</span>
            <span class="p">}</span>
            <span class="n">g2</span><span class="p">.</span><span class="na">fillRect</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="k">this</span><span class="p">.</span><span class="na">widthRect</span><span class="p">,</span> <span class="k">this</span><span class="p">.</span><span class="na">heightRect</span><span class="p">);</span>
        <span class="p">}</span>
    <span class="p">}</span>

    <span class="k">for</span><span class="p">(</span><span class="kt">int</span> <span class="n">row</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span> <span class="n">row</span><span class="o">&lt;</span><span class="n">Schachbrett</span><span class="p">.</span><span class="na">this</span><span class="p">.</span><span class="na">field</span><span class="p">.</span><span class="na">length</span><span class="p">;</span> <span class="n">row</span><span class="o">++</span><span class="p">)</span>
    <span class="p">{</span>
        <span class="kt">int</span> <span class="n">y</span> <span class="o">=</span> <span class="n">row</span> <span class="o">*</span> <span class="k">this</span><span class="p">.</span><span class="na">heightRect</span><span class="p">;</span>      
        <span class="k">for</span><span class="p">(</span><span class="kt">int</span> <span class="n">col</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span> <span class="n">col</span><span class="o">&lt;</span><span class="n">Schachbrett</span><span class="p">.</span><span class="na">this</span><span class="p">.</span><span class="na">field</span><span class="o">[</span><span class="n">row</span><span class="o">]</span><span class="p">.</span><span class="na">length</span><span class="p">;</span> <span class="n">col</span><span class="o">++</span><span class="p">)</span>
        <span class="p">{</span>
            <span class="kt">int</span> <span class="n">x</span> <span class="o">=</span> <span class="n">col</span> <span class="o">*</span> <span class="k">this</span><span class="p">.</span><span class="na">widthRect</span><span class="p">;</span>   

            <span class="k">if</span><span class="p">(</span><span class="n">Schachbrett</span><span class="p">.</span><span class="na">this</span><span class="p">.</span><span class="na">field</span><span class="o">[</span><span class="n">row</span><span class="o">][</span><span class="n">col</span><span class="o">]</span> <span class="o">==</span> <span class="n">State</span><span class="p">.</span><span class="na">MARKIERT</span><span class="p">)</span>
            <span class="p">{</span>
                <span class="kt">int</span> <span class="n">abstandX</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="na">widthRect</span> <span class="o">/</span> <span class="mi">3</span><span class="p">;</span>
                <span class="kt">int</span> <span class="n">abstandY</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="na">heightRect</span> <span class="o">/</span> <span class="mi">3</span><span class="p">;</span>
                <span class="kt">int</span> <span class="n">durchmesser</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="na">widthRect</span> <span class="o">/</span> <span class="mi">3</span><span class="p">;</span>
                <span class="n">g2</span><span class="p">.</span><span class="na">setColor</span><span class="p">(</span><span class="n">Color</span><span class="p">.</span><span class="na">RED</span><span class="p">);</span>
                <span class="n">g2</span><span class="p">.</span><span class="na">fillOval</span><span class="p">(</span><span class="n">x</span><span class="o">+</span><span class="n">abstandX</span><span class="p">,</span> <span class="n">y</span><span class="o">+</span><span class="n">abstandY</span><span class="p">,</span> <span class="n">durchmesser</span><span class="p">,</span> <span class="n">durchmesser</span><span class="p">);</span>

<span class="hll">                <span class="n">g2</span><span class="p">.</span><span class="na">setStroke</span><span class="p">(</span><span class="k">new</span> <span class="n">BasicStroke</span><span class="p">(</span><span class="mf">3.0f</span><span class="p">));</span>
</span><span class="hll">                <span class="n">g2</span><span class="p">.</span><span class="na">drawLine</span><span class="p">((</span><span class="k">this</span><span class="p">.</span><span class="na">widthRect</span> <span class="o">/</span> <span class="mi">2</span><span class="p">),</span> <span class="n">y</span> <span class="o">+</span> <span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="na">heightRect</span> <span class="o">/</span> <span class="mi">2</span><span class="p">),</span> <span class="n">canvasWidth</span> <span class="o">-</span> <span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="na">widthRect</span> <span class="o">/</span> <span class="mi">2</span><span class="p">),</span> <span class="n">y</span> <span class="o">+</span> <span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="na">heightRect</span> <span class="o">/</span> <span class="mi">2</span><span class="p">));</span>
</span><span class="hll">                <span class="n">g2</span><span class="p">.</span><span class="na">drawLine</span><span class="p">(</span><span class="n">x</span><span class="o">+</span> <span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="na">widthRect</span> <span class="o">/</span> <span class="mi">2</span><span class="p">),</span> <span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="na">heightRect</span> <span class="o">/</span> <span class="mi">2</span><span class="p">),</span> <span class="n">x</span> <span class="o">+</span> <span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="na">widthRect</span> <span class="o">/</span> <span class="mi">2</span><span class="p">),</span> <span class="n">canvasHeight</span> <span class="o">-</span> <span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="na">heightRect</span> <span class="o">/</span> <span class="mi">2</span><span class="p">));</span>
</span>
            <span class="p">}</span>
        <span class="p">}</span>
    <span class="p">}</span>
<span class="p">}</span>
</code></pre></div>
</td></tr></table>
<ul>
<li>
<p>Das Zeichnen passiert jetzt in <strong>zwei</strong> <code>for</code>-Schleifen. Zunächst werden die grauen und weißen Rechtecke gezeichnet und erst danach die roten Kreise und Linien. Hätten wir auch die Linien in der ersten <code>for</code>-Schleife gezeichnet, wären sie teilweise von den nachfolgenden Rechtecken abgedeckt und somit nur teilweise sichtbar gewesen. </p>
</li>
<li>
<p>Das Zeichnen der beiden Linien (vertikal und horizontal) erfolgt in den Zeilen <code>99-101</code>. Zunächst wird die Strichstärke etwas erhöht (auf <code>3.0f</code> px). </p>
</li>
<li>
<p>In Zeile <code>100</code> wird die horizontale Linie gezeichnet. Diese Linie könnte auch bei <code>x=0</code> beginnen und bei <code>canvasWidth</code> aufhören. Um sie in der Mitte des ersten Rechtecks beginnen zu lassen, wird statt <code>x=0</code> <code>x=(this.rectWidth/2)</code> gewählt. Um sie in der Mitte des letzten Rechtecks enden zu lassen, wird statt<code>x=canvasWidth</code> <code>x=canvasWidth-(this.rectWidth/2)</code> gewählt. In welcher Zeile diese Linie gezeichnet wird, ergibt sich aus dem Wert von <code>y</code>. Dieser Wert bestimmt aber die oberste Kante der Zeile. Um die Linie in die Mitte der Zeile zu zeichnen, wird jeweils <code>this.heightRect/2</code> zu <code>y</code> addiert.</p>
</li>
<li>
<p>Das Zeichnen der vertikalen Linie in Zeile <code>101</code> ist ganz ähnlich, nur dass der Wert von <code>x</code> bestimmt, in welche Spaqlte die Linie gezeichnet wird und die <code>y</code>-Werte jeweils so angepasst werden, dass die Linie nicht ganz oben beginnt und ganz oben endet, sondern jeweils mittig im Rechteck. </p>
</li>
</ul>
<p><img alt="schachbrett" src="../files/110_schachbrett.png" /></p>
</li>
<li>
<p>Um zu verhindern, dass zwei rote Punkte in derselben Zeile bzw. in derselben Spalte sind, müssen wir im <em>Controller</em> eine weitere Bedingung einbauen, die prüft, ob das angeklickte Feld überhaupt auf <code>MARKIERT</code> gesetzt werden darf. Dazu muss für eine gegebene <code>zeile</code> und eine gegebene <code>spalte</code> geprüft werden, ob sich darin bereits ein <code>MARKIERT</code>es <code>field</code> befindet. Es wird also die <code>mouseClicked()</code>-Methode angepasst:</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">124</span>
<span class="normal">125</span>
<span class="normal">126</span>
<span class="normal">127</span>
<span class="normal">128</span>
<span class="normal">129</span>
<span class="normal">130</span>
<span class="normal">131</span>
<span class="normal">132</span>
<span class="normal">133</span>
<span class="normal">134</span>
<span class="normal">135</span>
<span class="normal">136</span>
<span class="normal">137</span>
<span class="normal">138</span>
<span class="normal">139</span>
<span class="normal">140</span>
<span class="normal">141</span>
<span class="normal">142</span>
<span class="normal">143</span>
<span class="normal">144</span>
<span class="normal">145</span>
<span class="normal">146</span>
<span class="normal">147</span>
<span class="normal">148</span>
<span class="normal">149</span>
<span class="normal">150</span>
<span class="normal">151</span>
<span class="normal">152</span>
<span class="normal">153</span>
<span class="normal">154</span>
<span class="normal">155</span>
<span class="normal">156</span>
<span class="normal">157</span>
<span class="normal">158</span>
<span class="normal">159</span>
<span class="normal">160</span>
<span class="normal">161</span>
<span class="normal">162</span></pre></div></td><td class="code"><div class="highlight"><pre><span></span><code><span class="nd">@Override</span>
<span class="kd">public</span> <span class="kt">void</span> <span class="nf">mouseClicked</span><span class="p">(</span><span class="n">MouseEvent</span> <span class="n">e</span><span class="p">)</span> 
<span class="p">{</span>
    <span class="kt">int</span> <span class="n">x</span> <span class="o">=</span> <span class="n">e</span><span class="p">.</span><span class="na">getX</span><span class="p">();</span>
    <span class="kt">int</span> <span class="n">y</span> <span class="o">=</span> <span class="n">e</span><span class="p">.</span><span class="na">getY</span><span class="p">();</span>
    <span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="s">&quot;mouseClicked: [x=&quot;</span> <span class="o">+</span> <span class="n">x</span> <span class="o">+</span> <span class="s">&quot;, &quot;</span> <span class="o">+</span> <span class="n">y</span> <span class="o">+</span> <span class="s">&quot;]&quot;</span><span class="p">);</span>

    <span class="kt">int</span> <span class="n">spalte</span> <span class="o">=</span> <span class="n">x</span> <span class="o">/</span> <span class="k">this</span><span class="p">.</span><span class="na">canvas</span><span class="p">.</span><span class="na">widthRect</span><span class="p">;</span>
    <span class="kt">int</span> <span class="n">zeile</span> <span class="o">=</span> <span class="n">y</span> <span class="o">/</span> <span class="k">this</span><span class="p">.</span><span class="na">canvas</span><span class="p">.</span><span class="na">heightRect</span><span class="p">;</span>

<span class="hll">    <span class="kt">boolean</span> <span class="n">bereitsMarkiert</span> <span class="o">=</span> <span class="kc">false</span><span class="p">;</span>
</span><span class="hll">    <span class="k">if</span><span class="p">(</span><span class="n">Schachbrett</span><span class="p">.</span><span class="na">this</span><span class="p">.</span><span class="na">field</span><span class="o">[</span><span class="n">zeile</span><span class="o">][</span><span class="n">spalte</span><span class="o">]</span> <span class="o">==</span> <span class="n">State</span><span class="p">.</span><span class="na">MARKIERT</span><span class="p">)</span>
</span><span class="hll">    <span class="p">{</span>
</span><span class="hll">        <span class="n">bereitsMarkiert</span> <span class="o">=</span> <span class="kc">true</span><span class="p">;</span>
</span><span class="hll">    <span class="p">}</span>
</span><span class="hll">
</span><span class="hll">    <span class="k">for</span><span class="p">(</span><span class="kt">int</span> <span class="n">row</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span> <span class="n">row</span><span class="o">&lt;</span><span class="n">Schachbrett</span><span class="p">.</span><span class="na">this</span><span class="p">.</span><span class="na">field</span><span class="p">.</span><span class="na">length</span>  <span class="o">&amp;&amp;</span> <span class="o">!</span><span class="n">bereitsMarkiert</span><span class="p">;</span> <span class="n">row</span><span class="o">++</span><span class="p">)</span>
</span><span class="hll">    <span class="p">{</span>
</span><span class="hll">        <span class="k">if</span><span class="p">(</span><span class="n">Schachbrett</span><span class="p">.</span><span class="na">this</span><span class="p">.</span><span class="na">field</span><span class="o">[</span><span class="n">row</span><span class="o">][</span><span class="n">spalte</span><span class="o">]</span> <span class="o">==</span> <span class="n">State</span><span class="p">.</span><span class="na">MARKIERT</span><span class="p">)</span>
</span><span class="hll">        <span class="p">{</span>
</span><span class="hll">            <span class="n">bereitsMarkiert</span> <span class="o">=</span> <span class="kc">true</span><span class="p">;</span>
</span><span class="hll">        <span class="p">}</span>
</span><span class="hll">    <span class="p">}</span>
</span><span class="hll">
</span><span class="hll">    <span class="k">for</span><span class="p">(</span><span class="kt">int</span> <span class="n">col</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span> <span class="n">col</span><span class="o">&lt;</span><span class="n">Schachbrett</span><span class="p">.</span><span class="na">this</span><span class="p">.</span><span class="na">field</span><span class="o">[</span><span class="n">zeile</span><span class="o">]</span><span class="p">.</span><span class="na">length</span> <span class="o">&amp;&amp;</span> <span class="o">!</span><span class="n">bereitsMarkiert</span><span class="p">;</span> <span class="n">col</span><span class="o">++</span><span class="p">)</span>
</span><span class="hll">    <span class="p">{</span>       
</span><span class="hll">        <span class="k">if</span><span class="p">(</span><span class="n">Schachbrett</span><span class="p">.</span><span class="na">this</span><span class="p">.</span><span class="na">field</span><span class="o">[</span><span class="n">zeile</span><span class="o">][</span><span class="n">col</span><span class="o">]</span> <span class="o">==</span> <span class="n">State</span><span class="p">.</span><span class="na">MARKIERT</span><span class="p">)</span>
</span><span class="hll">        <span class="p">{</span>
</span><span class="hll">            <span class="n">bereitsMarkiert</span> <span class="o">=</span> <span class="kc">true</span><span class="p">;</span>
</span><span class="hll">        <span class="p">}</span>
</span><span class="hll">    <span class="p">}</span>
</span><span class="hll">
</span><span class="hll">    <span class="k">if</span><span class="p">(</span><span class="o">!</span><span class="n">bereitsMarkiert</span><span class="p">)</span>
</span><span class="hll">    <span class="p">{</span>
</span><span class="hll">        <span class="k">this</span><span class="p">.</span><span class="na">field</span><span class="o">[</span><span class="n">zeile</span><span class="o">][</span><span class="n">spalte</span><span class="o">]</span> <span class="o">=</span> <span class="n">State</span><span class="p">.</span><span class="na">MARKIERT</span><span class="p">;</span>
</span><span class="hll">    <span class="p">}</span>
</span>    <span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="s">&quot;mouseClicked: [zeile = &quot;</span> <span class="o">+</span> <span class="n">zeile</span> <span class="o">+</span> <span class="s">&quot;, spalte = &quot;</span> <span class="o">+</span> <span class="n">spalte</span> <span class="o">+</span> <span class="s">&quot;]&quot;</span><span class="p">);</span>
    <span class="k">this</span><span class="p">.</span><span class="na">canvas</span><span class="p">.</span><span class="na">repaint</span><span class="p">();</span>
<span class="p">}</span>
</code></pre></div>
</td></tr></table>
<ul>
<li>
<p>Wir erstellen uns eine Variable <code>bereitsMarkiert</code>, in der wir uns merken wollen, ob ein bereits <code>MARKIERT</code>es <code>field</code> in der <code>zeile</code> oder in der <code>spalte</code> existiert (Zeile <code>134</code>). </p>
</li>
<li>
<p>In den Zeilen <code>135-138</code> wird geprüft, ob das Feld selbst in <code>zeile</code> und <code>spalte</code> bereits <code>MARKIERT</code> ist. </p>
</li>
<li>
<p>In den Zeilen <code>140-146</code> wird geprüft, ob in der <code>spalte</code> ein bereits <code>MARKIERT</code>es <code>field</code> existiert. </p>
</li>
<li>
<p>In den Zeilen <code>148-154</code> wird geprüft, ob in der <code>zeile</code> ein bereits <code>MARKIERT</code>es <code>field</code> existiert. </p>
</li>
<li>
<p>Nur, wenn keine der drei Bedingungen erfüllt sind, kann das <code>field[zeile][spalte]</code> auf <code>MARKIERT</code> gesetzt werden. </p>
</li>
<li>
<p>Somit wird die Anforderung , dass keine zwei Felder in einer Zeile bzw. in einer Spalte auf <code>MARKIERT</code> gesetzt sein dürfen, erfüllt. Die Prüfung geschieht "nur" im <em>Controller</em>!</p>
</li>
</ul>
</li>
<li>
<p>Wie kann nun dafür gesorgt werden, dass das Feld grün erscheint, wenn es zwar angeklickt wird, aber bereits ein markiertes Feld in der Zeile bzw. der Spalte existiert? Eine einfache Möglichkeit wäre, einfach einen neuen <code>State</code> hinzuzufügen, z.B. <code>GRUEN</code>. Wir können uns aber auch zwei globale Variablen <code>gruenZeile</code> und <code>gruenSpalte</code> erzeugen und wenn diese jeweils einen Wert besitzen, der innerhalb des <code>field</code>-Bereiches liegt, dann solll dieses Feld einen grünen Hintergrund bekommen. Es gibt viele Möglichkeiten, wir nehmen mal die erste:</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">  1</span>
<span class="normal">  2</span>
<span class="normal">  3</span>
<span class="normal">  4</span>
<span class="normal">  5</span>
<span class="normal">  6</span>
<span class="normal">  7</span>
<span class="normal">  8</span>
<span class="normal">  9</span>
<span class="normal"> 10</span>
<span class="normal"> 11</span>
<span class="normal"> 12</span>
<span class="normal"> 13</span>
<span class="normal"> 14</span>
<span class="normal"> 15</span>
<span class="normal"> 16</span>
<span class="normal"> 17</span>
<span class="normal"> 18</span>
<span class="normal"> 19</span>
<span class="normal"> 20</span>
<span class="normal"> 21</span>
<span class="normal"> 22</span>
<span class="normal"> 23</span>
<span class="normal"> 24</span>
<span class="normal"> 25</span>
<span class="normal"> 26</span>
<span class="normal"> 27</span>
<span class="normal"> 28</span>
<span class="normal"> 29</span>
<span class="normal"> 30</span>
<span class="normal"> 31</span>
<span class="normal"> 32</span>
<span class="normal"> 33</span>
<span class="normal"> 34</span>
<span class="normal"> 35</span>
<span class="normal"> 36</span>
<span class="normal"> 37</span>
<span class="normal"> 38</span>
<span class="normal"> 39</span>
<span class="normal"> 40</span>
<span class="normal"> 41</span>
<span class="normal"> 42</span>
<span class="normal"> 43</span>
<span class="normal"> 44</span>
<span class="normal"> 45</span>
<span class="normal"> 46</span>
<span class="normal"> 47</span>
<span class="normal"> 48</span>
<span class="normal"> 49</span>
<span class="normal"> 50</span>
<span class="normal"> 51</span>
<span class="normal"> 52</span>
<span class="normal"> 53</span>
<span class="normal"> 54</span>
<span class="normal"> 55</span>
<span class="normal"> 56</span>
<span class="normal"> 57</span>
<span class="normal"> 58</span>
<span class="normal"> 59</span>
<span class="normal"> 60</span>
<span class="normal"> 61</span>
<span class="normal"> 62</span>
<span class="normal"> 63</span>
<span class="normal"> 64</span>
<span class="normal"> 65</span>
<span class="normal"> 66</span>
<span class="normal"> 67</span>
<span class="normal"> 68</span>
<span class="normal"> 69</span>
<span class="normal"> 70</span>
<span class="normal"> 71</span>
<span class="normal"> 72</span>
<span class="normal"> 73</span>
<span class="normal"> 74</span>
<span class="normal"> 75</span>
<span class="normal"> 76</span>
<span class="normal"> 77</span>
<span class="normal"> 78</span>
<span class="normal"> 79</span>
<span class="normal"> 80</span>
<span class="normal"> 81</span>
<span class="normal"> 82</span>
<span class="normal"> 83</span>
<span class="normal"> 84</span>
<span class="normal"> 85</span>
<span class="normal"> 86</span>
<span class="normal"> 87</span>
<span class="normal"> 88</span>
<span class="normal"> 89</span>
<span class="normal"> 90</span>
<span class="normal"> 91</span>
<span class="normal"> 92</span>
<span class="normal"> 93</span>
<span class="normal"> 94</span>
<span class="normal"> 95</span>
<span class="normal"> 96</span>
<span class="normal"> 97</span>
<span class="normal"> 98</span>
<span class="normal"> 99</span>
<span class="normal">100</span>
<span class="normal">101</span>
<span class="normal">102</span>
<span class="normal">103</span>
<span class="normal">104</span>
<span class="normal">105</span>
<span class="normal">106</span>
<span class="normal">107</span>
<span class="normal">108</span>
<span class="normal">109</span>
<span class="normal">110</span>
<span class="normal">111</span>
<span class="normal">112</span>
<span class="normal">113</span>
<span class="normal">114</span>
<span class="normal">115</span>
<span class="normal">116</span>
<span class="normal">117</span>
<span class="normal">118</span>
<span class="normal">119</span>
<span class="normal">120</span>
<span class="normal">121</span>
<span class="normal">122</span>
<span class="normal">123</span>
<span class="normal">124</span>
<span class="normal">125</span>
<span class="normal">126</span>
<span class="normal">127</span>
<span class="normal">128</span>
<span class="normal">129</span>
<span class="normal">130</span>
<span class="normal">131</span>
<span class="normal">132</span>
<span class="normal">133</span>
<span class="normal">134</span>
<span class="normal">135</span>
<span class="normal">136</span>
<span class="normal">137</span>
<span class="normal">138</span>
<span class="normal">139</span>
<span class="normal">140</span>
<span class="normal">141</span>
<span class="normal">142</span>
<span class="normal">143</span>
<span class="normal">144</span>
<span class="normal">145</span>
<span class="normal">146</span>
<span class="normal">147</span>
<span class="normal">148</span>
<span class="normal">149</span>
<span class="normal">150</span>
<span class="normal">151</span>
<span class="normal">152</span>
<span class="normal">153</span>
<span class="normal">154</span>
<span class="normal">155</span>
<span class="normal">156</span>
<span class="normal">157</span>
<span class="normal">158</span>
<span class="normal">159</span>
<span class="normal">160</span>
<span class="normal">161</span>
<span class="normal">162</span>
<span class="normal">163</span>
<span class="normal">164</span>
<span class="normal">165</span>
<span class="normal">166</span>
<span class="normal">167</span>
<span class="normal">168</span>
<span class="normal">169</span>
<span class="normal">170</span>
<span class="normal">171</span>
<span class="normal">172</span>
<span class="normal">173</span>
<span class="normal">174</span>
<span class="normal">175</span>
<span class="normal">176</span>
<span class="normal">177</span>
<span class="normal">178</span></pre></div></td><td class="code"><div class="highlight"><pre><span></span><code><span class="kn">import</span> <span class="nn">java.awt.BasicStroke</span><span class="p">;</span>
<span class="kn">import</span> <span class="nn">java.awt.BorderLayout</span><span class="p">;</span>
<span class="kn">import</span> <span class="nn">java.awt.Color</span><span class="p">;</span>
<span class="kn">import</span> <span class="nn">java.awt.Graphics</span><span class="p">;</span>
<span class="kn">import</span> <span class="nn">java.awt.Graphics2D</span><span class="p">;</span>
<span class="kn">import</span> <span class="nn">java.awt.event.MouseEvent</span><span class="p">;</span>
<span class="kn">import</span> <span class="nn">java.awt.event.MouseListener</span><span class="p">;</span>

<span class="kn">import</span> <span class="nn">javax.swing.JFrame</span><span class="p">;</span>
<span class="kn">import</span> <span class="nn">javax.swing.JPanel</span><span class="p">;</span>

<span class="kd">public</span> <span class="kd">class</span> <span class="nc">Schachbrett</span> <span class="kd">extends</span> <span class="n">JFrame</span> <span class="kd">implements</span> <span class="n">MouseListener</span><span class="p">{</span>
    <span class="n">Canvas</span> <span class="n">canvas</span><span class="p">;</span>
<span class="hll">    <span class="kd">enum</span> <span class="n">State</span> <span class="p">{</span> <span class="n">MARKIERT</span><span class="p">,</span> <span class="n">UNMARKIERT</span><span class="p">,</span> <span class="n">GREEN</span> <span class="p">};</span>
</span>    <span class="n">State</span><span class="o">[][]</span> <span class="n">field</span><span class="p">;</span>

    <span class="kd">public</span> <span class="nf">Schachbrett</span><span class="p">()</span>
    <span class="p">{</span>
        <span class="kd">super</span><span class="p">();</span>
        <span class="k">this</span><span class="p">.</span><span class="na">setTitle</span><span class="p">(</span><span class="s">&quot;Schachbrett&quot;</span><span class="p">);</span>
        <span class="k">this</span><span class="p">.</span><span class="na">setDefaultCloseOperation</span><span class="p">(</span><span class="n">JFrame</span><span class="p">.</span><span class="na">EXIT_ON_CLOSE</span><span class="p">);</span>    

        <span class="k">this</span><span class="p">.</span><span class="na">initField</span><span class="p">();</span>

        <span class="k">this</span><span class="p">.</span><span class="na">canvas</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Canvas</span><span class="p">();</span>
        <span class="k">this</span><span class="p">.</span><span class="na">canvas</span><span class="p">.</span><span class="na">addMouseListener</span><span class="p">(</span><span class="k">this</span><span class="p">);</span>
        <span class="k">this</span><span class="p">.</span><span class="na">getContentPane</span><span class="p">().</span><span class="na">add</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="na">canvas</span><span class="p">,</span> <span class="n">BorderLayout</span><span class="p">.</span><span class="na">CENTER</span><span class="p">);</span>

        <span class="c1">// NORTH, EAST, WEST geloescht</span>
        <span class="k">this</span><span class="p">.</span><span class="na">getContentPane</span><span class="p">().</span><span class="na">add</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="na">initSouth</span><span class="p">(),</span> <span class="n">BorderLayout</span><span class="p">.</span><span class="na">SOUTH</span><span class="p">);</span>

        <span class="k">this</span><span class="p">.</span><span class="na">setSize</span><span class="p">(</span><span class="mi">400</span><span class="p">,</span> <span class="mi">400</span><span class="p">);</span>
        <span class="k">this</span><span class="p">.</span><span class="na">setLocation</span><span class="p">(</span><span class="mi">300</span><span class="p">,</span><span class="mi">200</span><span class="p">);</span>
        <span class="k">this</span><span class="p">.</span><span class="na">setVisible</span><span class="p">(</span><span class="kc">true</span><span class="p">);</span>
    <span class="p">}</span>

    <span class="kd">private</span> <span class="kt">void</span> <span class="nf">initField</span><span class="p">()</span> 
    <span class="p">{</span>
        <span class="k">this</span><span class="p">.</span><span class="na">field</span> <span class="o">=</span> <span class="k">new</span> <span class="n">State</span><span class="o">[</span><span class="mi">8</span><span class="o">][</span><span class="mi">8</span><span class="o">]</span><span class="p">;</span>
        <span class="k">for</span><span class="p">(</span><span class="kt">int</span> <span class="n">row</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span> <span class="n">row</span><span class="o">&lt;</span><span class="k">this</span><span class="p">.</span><span class="na">field</span><span class="p">.</span><span class="na">length</span><span class="p">;</span> <span class="n">row</span><span class="o">++</span><span class="p">)</span>
        <span class="p">{</span>
            <span class="k">for</span><span class="p">(</span><span class="kt">int</span> <span class="n">col</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span> <span class="n">col</span><span class="o">&lt;</span><span class="k">this</span><span class="p">.</span><span class="na">field</span><span class="o">[</span><span class="n">row</span><span class="o">]</span><span class="p">.</span><span class="na">length</span><span class="p">;</span> <span class="n">col</span><span class="o">++</span><span class="p">)</span>
            <span class="p">{</span>
                <span class="k">this</span><span class="p">.</span><span class="na">field</span><span class="o">[</span><span class="n">row</span><span class="o">][</span><span class="n">col</span><span class="o">]</span> <span class="o">=</span> <span class="n">State</span><span class="p">.</span><span class="na">UNMARKIERT</span><span class="p">;</span>
            <span class="p">}</span>
        <span class="p">}</span>
    <span class="p">}</span>

    <span class="kd">private</span> <span class="kd">class</span> <span class="nc">Canvas</span> <span class="kd">extends</span> <span class="n">JPanel</span>
    <span class="p">{</span>
        <span class="kt">int</span> <span class="n">heightRect</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
        <span class="kt">int</span> <span class="n">widthRect</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>

        <span class="nd">@Override</span>
        <span class="kd">protected</span> <span class="kt">void</span> <span class="nf">paintComponent</span><span class="p">(</span><span class="n">Graphics</span> <span class="n">g</span><span class="p">)</span>
        <span class="p">{</span>
            <span class="kd">super</span><span class="p">.</span><span class="na">paintComponent</span><span class="p">(</span><span class="n">g</span><span class="p">);</span>        <span class="c1">// Implementierung von JPanel aufrufen</span>
            <span class="n">Graphics2D</span> <span class="n">g2</span> <span class="o">=</span> <span class="p">(</span><span class="n">Graphics2D</span><span class="p">)</span><span class="n">g</span><span class="p">;</span>  <span class="c1">// Methoden von Graphics2D nutzbar</span>

            <span class="kt">int</span> <span class="n">canvasHeight</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="na">getHeight</span><span class="p">();</span>
            <span class="kt">int</span> <span class="n">canvasWidth</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="na">getWidth</span><span class="p">();</span>
            <span class="k">this</span><span class="p">.</span><span class="na">heightRect</span> <span class="o">=</span> <span class="n">canvasHeight</span> <span class="o">/</span> <span class="mi">8</span><span class="p">;</span>
            <span class="k">this</span><span class="p">.</span><span class="na">widthRect</span> <span class="o">=</span> <span class="n">canvasWidth</span> <span class="o">/</span> <span class="mi">8</span><span class="p">;</span>

            <span class="kt">boolean</span> <span class="n">grey</span> <span class="o">=</span> <span class="kc">true</span><span class="p">;</span>
            <span class="k">for</span><span class="p">(</span><span class="kt">int</span> <span class="n">row</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span> <span class="n">row</span><span class="o">&lt;</span><span class="n">Schachbrett</span><span class="p">.</span><span class="na">this</span><span class="p">.</span><span class="na">field</span><span class="p">.</span><span class="na">length</span><span class="p">;</span> <span class="n">row</span><span class="o">++</span><span class="p">)</span>
            <span class="p">{</span>
                <span class="kt">int</span> <span class="n">y</span> <span class="o">=</span> <span class="n">row</span> <span class="o">*</span> <span class="k">this</span><span class="p">.</span><span class="na">heightRect</span><span class="p">;</span>      <span class="c1">// y-Wert des linken oberen Punktes</span>
                <span class="n">grey</span> <span class="o">=</span> <span class="o">!</span><span class="n">grey</span><span class="p">;</span>                   <span class="c1">// mit einer anderen Farbe anfangen, als aufgehoert</span>
                <span class="k">for</span><span class="p">(</span><span class="kt">int</span> <span class="n">col</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span> <span class="n">col</span><span class="o">&lt;</span><span class="n">Schachbrett</span><span class="p">.</span><span class="na">this</span><span class="p">.</span><span class="na">field</span><span class="o">[</span><span class="n">row</span><span class="o">]</span><span class="p">.</span><span class="na">length</span><span class="p">;</span> <span class="n">col</span><span class="o">++</span><span class="p">)</span>
                <span class="p">{</span>
                    <span class="kt">int</span> <span class="n">x</span> <span class="o">=</span> <span class="n">col</span> <span class="o">*</span> <span class="k">this</span><span class="p">.</span><span class="na">widthRect</span><span class="p">;</span>   <span class="c1">// x-Wert des linken oberen Punktes</span>

                    <span class="k">if</span><span class="p">(</span><span class="n">grey</span><span class="p">)</span> <span class="p">{</span>
                        <span class="n">g2</span><span class="p">.</span><span class="na">setColor</span><span class="p">(</span><span class="n">Color</span><span class="p">.</span><span class="na">LIGHT_GRAY</span><span class="p">);</span>
                        <span class="n">grey</span> <span class="o">=</span> <span class="kc">false</span><span class="p">;</span>
                    <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
                        <span class="n">g2</span><span class="p">.</span><span class="na">setColor</span><span class="p">(</span><span class="n">Color</span><span class="p">.</span><span class="na">WHITE</span><span class="p">);</span>
                        <span class="n">grey</span> <span class="o">=</span> <span class="kc">true</span><span class="p">;</span>
                    <span class="p">}</span>

<span class="hll">                    <span class="k">if</span><span class="p">(</span><span class="n">Schachbrett</span><span class="p">.</span><span class="na">this</span><span class="p">.</span><span class="na">field</span><span class="o">[</span><span class="n">row</span><span class="o">][</span><span class="n">col</span><span class="o">]</span> <span class="o">==</span> <span class="n">State</span><span class="p">.</span><span class="na">GREEN</span><span class="p">)</span>
</span><span class="hll">                    <span class="p">{</span>
</span><span class="hll">                        <span class="n">g2</span><span class="p">.</span><span class="na">setColor</span><span class="p">(</span><span class="n">Color</span><span class="p">.</span><span class="na">GREEN</span><span class="p">);</span>
</span><span class="hll">                        <span class="n">Schachbrett</span><span class="p">.</span><span class="na">this</span><span class="p">.</span><span class="na">field</span><span class="o">[</span><span class="n">row</span><span class="o">][</span><span class="n">col</span><span class="o">]</span> <span class="o">=</span> <span class="n">State</span><span class="p">.</span><span class="na">UNMARKIERT</span><span class="p">;</span>
</span><span class="hll">                    <span class="p">}</span>
</span>
                    <span class="n">g2</span><span class="p">.</span><span class="na">fillRect</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="k">this</span><span class="p">.</span><span class="na">widthRect</span><span class="p">,</span> <span class="k">this</span><span class="p">.</span><span class="na">heightRect</span><span class="p">);</span>
                <span class="p">}</span>
            <span class="p">}</span>

            <span class="k">for</span><span class="p">(</span><span class="kt">int</span> <span class="n">row</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span> <span class="n">row</span><span class="o">&lt;</span><span class="n">Schachbrett</span><span class="p">.</span><span class="na">this</span><span class="p">.</span><span class="na">field</span><span class="p">.</span><span class="na">length</span><span class="p">;</span> <span class="n">row</span><span class="o">++</span><span class="p">)</span>
            <span class="p">{</span>
                <span class="kt">int</span> <span class="n">y</span> <span class="o">=</span> <span class="n">row</span> <span class="o">*</span> <span class="k">this</span><span class="p">.</span><span class="na">heightRect</span><span class="p">;</span>      
                <span class="k">for</span><span class="p">(</span><span class="kt">int</span> <span class="n">col</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span> <span class="n">col</span><span class="o">&lt;</span><span class="n">Schachbrett</span><span class="p">.</span><span class="na">this</span><span class="p">.</span><span class="na">field</span><span class="o">[</span><span class="n">row</span><span class="o">]</span><span class="p">.</span><span class="na">length</span><span class="p">;</span> <span class="n">col</span><span class="o">++</span><span class="p">)</span>
                <span class="p">{</span>
                    <span class="kt">int</span> <span class="n">x</span> <span class="o">=</span> <span class="n">col</span> <span class="o">*</span> <span class="k">this</span><span class="p">.</span><span class="na">widthRect</span><span class="p">;</span>   

                    <span class="k">if</span><span class="p">(</span><span class="n">Schachbrett</span><span class="p">.</span><span class="na">this</span><span class="p">.</span><span class="na">field</span><span class="o">[</span><span class="n">row</span><span class="o">][</span><span class="n">col</span><span class="o">]</span> <span class="o">==</span> <span class="n">State</span><span class="p">.</span><span class="na">MARKIERT</span><span class="p">)</span>
                    <span class="p">{</span>
                        <span class="kt">int</span> <span class="n">abstandX</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="na">widthRect</span> <span class="o">/</span> <span class="mi">3</span><span class="p">;</span>
                        <span class="kt">int</span> <span class="n">abstandY</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="na">heightRect</span> <span class="o">/</span> <span class="mi">3</span><span class="p">;</span>
                        <span class="kt">int</span> <span class="n">durchmesser</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="na">widthRect</span> <span class="o">/</span> <span class="mi">3</span><span class="p">;</span>
                        <span class="n">g2</span><span class="p">.</span><span class="na">setColor</span><span class="p">(</span><span class="n">Color</span><span class="p">.</span><span class="na">RED</span><span class="p">);</span>
                        <span class="n">g2</span><span class="p">.</span><span class="na">fillOval</span><span class="p">(</span><span class="n">x</span><span class="o">+</span><span class="n">abstandX</span><span class="p">,</span> <span class="n">y</span><span class="o">+</span><span class="n">abstandY</span><span class="p">,</span> <span class="n">durchmesser</span><span class="p">,</span> <span class="n">durchmesser</span><span class="p">);</span>

                        <span class="n">g2</span><span class="p">.</span><span class="na">setStroke</span><span class="p">(</span><span class="k">new</span> <span class="n">BasicStroke</span><span class="p">(</span><span class="mf">3.0f</span><span class="p">));</span>
                        <span class="n">g2</span><span class="p">.</span><span class="na">drawLine</span><span class="p">((</span><span class="k">this</span><span class="p">.</span><span class="na">widthRect</span> <span class="o">/</span> <span class="mi">2</span><span class="p">),</span> <span class="n">y</span> <span class="o">+</span> <span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="na">heightRect</span> <span class="o">/</span> <span class="mi">2</span><span class="p">),</span> <span class="n">canvasWidth</span> <span class="o">-</span> <span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="na">widthRect</span> <span class="o">/</span> <span class="mi">2</span><span class="p">),</span> <span class="n">y</span> <span class="o">+</span> <span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="na">heightRect</span> <span class="o">/</span> <span class="mi">2</span><span class="p">));</span>
                        <span class="n">g2</span><span class="p">.</span><span class="na">drawLine</span><span class="p">(</span><span class="n">x</span><span class="o">+</span> <span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="na">widthRect</span> <span class="o">/</span> <span class="mi">2</span><span class="p">),</span> <span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="na">heightRect</span> <span class="o">/</span> <span class="mi">2</span><span class="p">),</span> <span class="n">x</span> <span class="o">+</span> <span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="na">widthRect</span> <span class="o">/</span> <span class="mi">2</span><span class="p">),</span> <span class="n">canvasHeight</span> <span class="o">-</span> <span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="na">heightRect</span> <span class="o">/</span> <span class="mi">2</span><span class="p">));</span>

                    <span class="p">}</span>
                <span class="p">}</span>
            <span class="p">}</span>
        <span class="p">}</span>
    <span class="p">}</span>

    <span class="kd">private</span> <span class="n">JPanel</span> <span class="nf">initSouth</span><span class="p">()</span> 
    <span class="p">{</span>
        <span class="n">JPanel</span> <span class="n">south</span> <span class="o">=</span> <span class="k">new</span> <span class="n">JPanel</span><span class="p">();</span>
        <span class="c1">// hier das JPanel fuer SOUTH befuellen</span>
        <span class="k">return</span> <span class="n">south</span><span class="p">;</span>
    <span class="p">}</span>

    <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="p">(</span><span class="n">String</span><span class="o">[]</span> <span class="n">args</span><span class="p">)</span> 
    <span class="p">{</span>
        <span class="k">new</span> <span class="n">Schachbrett</span><span class="p">();</span>
    <span class="p">}</span>

    <span class="nd">@Override</span>
    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">mouseClicked</span><span class="p">(</span><span class="n">MouseEvent</span> <span class="n">e</span><span class="p">)</span> 
    <span class="p">{</span>
        <span class="kt">int</span> <span class="n">x</span> <span class="o">=</span> <span class="n">e</span><span class="p">.</span><span class="na">getX</span><span class="p">();</span>
        <span class="kt">int</span> <span class="n">y</span> <span class="o">=</span> <span class="n">e</span><span class="p">.</span><span class="na">getY</span><span class="p">();</span>
        <span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="s">&quot;mouseClicked: [x=&quot;</span> <span class="o">+</span> <span class="n">x</span> <span class="o">+</span> <span class="s">&quot;, &quot;</span> <span class="o">+</span> <span class="n">y</span> <span class="o">+</span> <span class="s">&quot;]&quot;</span><span class="p">);</span>

        <span class="kt">int</span> <span class="n">spalte</span> <span class="o">=</span> <span class="n">x</span> <span class="o">/</span> <span class="k">this</span><span class="p">.</span><span class="na">canvas</span><span class="p">.</span><span class="na">widthRect</span><span class="p">;</span>
        <span class="kt">int</span> <span class="n">zeile</span> <span class="o">=</span> <span class="n">y</span> <span class="o">/</span> <span class="k">this</span><span class="p">.</span><span class="na">canvas</span><span class="p">.</span><span class="na">heightRect</span><span class="p">;</span>

        <span class="kt">boolean</span> <span class="n">bereitsMarkiert</span> <span class="o">=</span> <span class="kc">false</span><span class="p">;</span>
        <span class="k">if</span><span class="p">(</span><span class="n">Schachbrett</span><span class="p">.</span><span class="na">this</span><span class="p">.</span><span class="na">field</span><span class="o">[</span><span class="n">zeile</span><span class="o">][</span><span class="n">spalte</span><span class="o">]</span> <span class="o">==</span> <span class="n">State</span><span class="p">.</span><span class="na">MARKIERT</span><span class="p">)</span>
        <span class="p">{</span>
            <span class="n">bereitsMarkiert</span> <span class="o">=</span> <span class="kc">true</span><span class="p">;</span>
        <span class="p">}</span>

        <span class="k">for</span><span class="p">(</span><span class="kt">int</span> <span class="n">row</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span> <span class="n">row</span><span class="o">&lt;</span><span class="n">Schachbrett</span><span class="p">.</span><span class="na">this</span><span class="p">.</span><span class="na">field</span><span class="p">.</span><span class="na">length</span>  <span class="o">&amp;&amp;</span> <span class="o">!</span><span class="n">bereitsMarkiert</span><span class="p">;</span> <span class="n">row</span><span class="o">++</span><span class="p">)</span>
        <span class="p">{</span>
            <span class="k">if</span><span class="p">(</span><span class="n">Schachbrett</span><span class="p">.</span><span class="na">this</span><span class="p">.</span><span class="na">field</span><span class="o">[</span><span class="n">row</span><span class="o">][</span><span class="n">spalte</span><span class="o">]</span> <span class="o">==</span> <span class="n">State</span><span class="p">.</span><span class="na">MARKIERT</span><span class="p">)</span>
            <span class="p">{</span>
                <span class="n">bereitsMarkiert</span> <span class="o">=</span> <span class="kc">true</span><span class="p">;</span>
            <span class="p">}</span>
        <span class="p">}</span>

        <span class="k">for</span><span class="p">(</span><span class="kt">int</span> <span class="n">col</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span> <span class="n">col</span><span class="o">&lt;</span><span class="n">Schachbrett</span><span class="p">.</span><span class="na">this</span><span class="p">.</span><span class="na">field</span><span class="o">[</span><span class="n">zeile</span><span class="o">]</span><span class="p">.</span><span class="na">length</span> <span class="o">&amp;&amp;</span> <span class="o">!</span><span class="n">bereitsMarkiert</span><span class="p">;</span> <span class="n">col</span><span class="o">++</span><span class="p">)</span>
        <span class="p">{</span>       
            <span class="k">if</span><span class="p">(</span><span class="n">Schachbrett</span><span class="p">.</span><span class="na">this</span><span class="p">.</span><span class="na">field</span><span class="o">[</span><span class="n">zeile</span><span class="o">][</span><span class="n">col</span><span class="o">]</span> <span class="o">==</span> <span class="n">State</span><span class="p">.</span><span class="na">MARKIERT</span><span class="p">)</span>
            <span class="p">{</span>
                <span class="n">bereitsMarkiert</span> <span class="o">=</span> <span class="kc">true</span><span class="p">;</span>
            <span class="p">}</span>
        <span class="p">}</span>

        <span class="k">if</span><span class="p">(</span><span class="o">!</span><span class="n">bereitsMarkiert</span><span class="p">)</span>
        <span class="p">{</span>
            <span class="k">this</span><span class="p">.</span><span class="na">field</span><span class="o">[</span><span class="n">zeile</span><span class="o">][</span><span class="n">spalte</span><span class="o">]</span> <span class="o">=</span> <span class="n">State</span><span class="p">.</span><span class="na">MARKIERT</span><span class="p">;</span>
        <span class="p">}</span>
<span class="hll">        <span class="k">else</span> 
</span><span class="hll">        <span class="p">{</span>
</span><span class="hll">            <span class="k">this</span><span class="p">.</span><span class="na">field</span><span class="o">[</span><span class="n">zeile</span><span class="o">][</span><span class="n">spalte</span><span class="o">]</span> <span class="o">=</span> <span class="n">State</span><span class="p">.</span><span class="na">GREEN</span><span class="p">;</span>
</span><span class="hll">        <span class="p">}</span>
</span>
        <span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="s">&quot;mouseClicked: [zeile = &quot;</span> <span class="o">+</span> <span class="n">zeile</span> <span class="o">+</span> <span class="s">&quot;, spalte = &quot;</span> <span class="o">+</span> <span class="n">spalte</span> <span class="o">+</span> <span class="s">&quot;]&quot;</span><span class="p">);</span>
        <span class="k">this</span><span class="p">.</span><span class="na">canvas</span><span class="p">.</span><span class="na">repaint</span><span class="p">();</span>
    <span class="p">}</span>

    <span class="nd">@Override</span> <span class="kd">public</span> <span class="kt">void</span> <span class="nf">mousePressed</span><span class="p">(</span><span class="n">MouseEvent</span> <span class="n">e</span><span class="p">)</span> <span class="p">{}</span>
    <span class="nd">@Override</span> <span class="kd">public</span> <span class="kt">void</span> <span class="nf">mouseReleased</span><span class="p">(</span><span class="n">MouseEvent</span> <span class="n">e</span><span class="p">)</span> <span class="p">{}</span>
    <span class="nd">@Override</span> <span class="kd">public</span> <span class="kt">void</span> <span class="nf">mouseEntered</span><span class="p">(</span><span class="n">MouseEvent</span> <span class="n">e</span><span class="p">)</span> <span class="p">{}</span>
    <span class="nd">@Override</span> <span class="kd">public</span> <span class="kt">void</span> <span class="nf">mouseExited</span><span class="p">(</span><span class="n">MouseEvent</span> <span class="n">e</span><span class="p">)</span> <span class="p">{}</span>
<span class="p">}</span>
</code></pre></div>
</td></tr></table>
<ol>
<li>Jetzt wird der <code>clear field</code>-Button erzeugt und für diesen Button der <code>ActionListener</code> implementiert. Das kann alles innerhalb der <code>initSouth()</code>-Methode passieren. Das Löschen des Feldes besteht darin, alle Felder auf <code>UNMARKIERT</code> zu setzen. Das erledigt bereits die <code>initField()</code>-Methode. Diese Methode muss also nur aufgerufen werden und danach die <code>canvas</code> neu gezeichnet: </li>
</ol>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">124</span>
<span class="normal">125</span>
<span class="normal">126</span>
<span class="normal">127</span>
<span class="normal">128</span>
<span class="normal">129</span>
<span class="normal">130</span>
<span class="normal">131</span>
<span class="normal">132</span>
<span class="normal">133</span>
<span class="normal">134</span>
<span class="normal">135</span>
<span class="normal">136</span>
<span class="normal">137</span>
<span class="normal">138</span>
<span class="normal">139</span>
<span class="normal">140</span>
<span class="normal">141</span>
<span class="normal">142</span>
<span class="normal">143</span>
<span class="normal">144</span>
<span class="normal">145</span>
<span class="normal">146</span>
<span class="normal">147</span>
<span class="normal">148</span>
<span class="normal">149</span>
<span class="normal">150</span>
<span class="normal">151</span>
<span class="normal">152</span>
<span class="normal">153</span>
<span class="normal">154</span>
<span class="normal">155</span>
<span class="normal">156</span>
<span class="normal">157</span>
<span class="normal">158</span>
<span class="normal">159</span>
<span class="normal">160</span>
<span class="normal">161</span>
<span class="normal">162</span></pre></div></td><td class="code"><div class="highlight"><pre><span></span><code><span class="nd">@Override</span>
<span class="kd">public</span> <span class="kt">void</span> <span class="nf">mouseClicked</span><span class="p">(</span><span class="n">MouseEvent</span> <span class="n">e</span><span class="p">)</span> 
<span class="p">{</span>
    <span class="kt">int</span> <span class="n">x</span> <span class="o">=</span> <span class="n">e</span><span class="p">.</span><span class="na">getX</span><span class="p">();</span>
    <span class="kt">int</span> <span class="n">y</span> <span class="o">=</span> <span class="n">e</span><span class="p">.</span><span class="na">getY</span><span class="p">();</span>
    <span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="s">&quot;mouseClicked: [x=&quot;</span> <span class="o">+</span> <span class="n">x</span> <span class="o">+</span> <span class="s">&quot;, &quot;</span> <span class="o">+</span> <span class="n">y</span> <span class="o">+</span> <span class="s">&quot;]&quot;</span><span class="p">);</span>

    <span class="kt">int</span> <span class="n">spalte</span> <span class="o">=</span> <span class="n">x</span> <span class="o">/</span> <span class="k">this</span><span class="p">.</span><span class="na">canvas</span><span class="p">.</span><span class="na">widthRect</span><span class="p">;</span>
    <span class="kt">int</span> <span class="n">zeile</span> <span class="o">=</span> <span class="n">y</span> <span class="o">/</span> <span class="k">this</span><span class="p">.</span><span class="na">canvas</span><span class="p">.</span><span class="na">heightRect</span><span class="p">;</span>

<span class="hll">    <span class="kt">boolean</span> <span class="n">bereitsMarkiert</span> <span class="o">=</span> <span class="kc">false</span><span class="p">;</span>
</span><span class="hll">    <span class="k">if</span><span class="p">(</span><span class="n">Schachbrett</span><span class="p">.</span><span class="na">this</span><span class="p">.</span><span class="na">field</span><span class="o">[</span><span class="n">zeile</span><span class="o">][</span><span class="n">spalte</span><span class="o">]</span> <span class="o">==</span> <span class="n">State</span><span class="p">.</span><span class="na">MARKIERT</span><span class="p">)</span>
</span><span class="hll">    <span class="p">{</span>
</span><span class="hll">        <span class="n">bereitsMarkiert</span> <span class="o">=</span> <span class="kc">true</span><span class="p">;</span>
</span><span class="hll">    <span class="p">}</span>
</span><span class="hll">
</span><span class="hll">    <span class="k">for</span><span class="p">(</span><span class="kt">int</span> <span class="n">row</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span> <span class="n">row</span><span class="o">&lt;</span><span class="n">Schachbrett</span><span class="p">.</span><span class="na">this</span><span class="p">.</span><span class="na">field</span><span class="p">.</span><span class="na">length</span>  <span class="o">&amp;&amp;</span> <span class="o">!</span><span class="n">bereitsMarkiert</span><span class="p">;</span> <span class="n">row</span><span class="o">++</span><span class="p">)</span>
</span><span class="hll">    <span class="p">{</span>
</span><span class="hll">        <span class="k">if</span><span class="p">(</span><span class="n">Schachbrett</span><span class="p">.</span><span class="na">this</span><span class="p">.</span><span class="na">field</span><span class="o">[</span><span class="n">row</span><span class="o">][</span><span class="n">spalte</span><span class="o">]</span> <span class="o">==</span> <span class="n">State</span><span class="p">.</span><span class="na">MARKIERT</span><span class="p">)</span>
</span><span class="hll">        <span class="p">{</span>
</span><span class="hll">            <span class="n">bereitsMarkiert</span> <span class="o">=</span> <span class="kc">true</span><span class="p">;</span>
</span><span class="hll">        <span class="p">}</span>
</span><span class="hll">    <span class="p">}</span>
</span><span class="hll">
</span><span class="hll">    <span class="k">for</span><span class="p">(</span><span class="kt">int</span> <span class="n">col</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span> <span class="n">col</span><span class="o">&lt;</span><span class="n">Schachbrett</span><span class="p">.</span><span class="na">this</span><span class="p">.</span><span class="na">field</span><span class="o">[</span><span class="n">zeile</span><span class="o">]</span><span class="p">.</span><span class="na">length</span> <span class="o">&amp;&amp;</span> <span class="o">!</span><span class="n">bereitsMarkiert</span><span class="p">;</span> <span class="n">col</span><span class="o">++</span><span class="p">)</span>
</span><span class="hll">    <span class="p">{</span>       
</span><span class="hll">        <span class="k">if</span><span class="p">(</span><span class="n">Schachbrett</span><span class="p">.</span><span class="na">this</span><span class="p">.</span><span class="na">field</span><span class="o">[</span><span class="n">zeile</span><span class="o">][</span><span class="n">col</span><span class="o">]</span> <span class="o">==</span> <span class="n">State</span><span class="p">.</span><span class="na">MARKIERT</span><span class="p">)</span>
</span><span class="hll">        <span class="p">{</span>
</span><span class="hll">            <span class="n">bereitsMarkiert</span> <span class="o">=</span> <span class="kc">true</span><span class="p">;</span>
</span><span class="hll">        <span class="p">}</span>
</span><span class="hll">    <span class="p">}</span>
</span><span class="hll">
</span><span class="hll">    <span class="k">if</span><span class="p">(</span><span class="o">!</span><span class="n">bereitsMarkiert</span><span class="p">)</span>
</span><span class="hll">    <span class="p">{</span>
</span><span class="hll">        <span class="k">this</span><span class="p">.</span><span class="na">field</span><span class="o">[</span><span class="n">zeile</span><span class="o">][</span><span class="n">spalte</span><span class="o">]</span> <span class="o">=</span> <span class="n">State</span><span class="p">.</span><span class="na">MARKIERT</span><span class="p">;</span>
</span><span class="hll">    <span class="p">}</span>
</span>    <span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="s">&quot;mouseClicked: [zeile = &quot;</span> <span class="o">+</span> <span class="n">zeile</span> <span class="o">+</span> <span class="s">&quot;, spalte = &quot;</span> <span class="o">+</span> <span class="n">spalte</span> <span class="o">+</span> <span class="s">&quot;]&quot;</span><span class="p">);</span>
    <span class="k">this</span><span class="p">.</span><span class="na">canvas</span><span class="p">.</span><span class="na">repaint</span><span class="p">();</span>
<span class="p">}</span>
</code></pre></div>
</td></tr></table>
<ul>
<li>
<p>Wir erstellen uns eine Variable <code>bereitsMarkiert</code>, in der wir uns merken wollen, ob ein bereits <code>MARKIERT</code>es <code>field</code> in der <code>zeile</code> oder in der <code>spalte</code> existiert (Zeile <code>134</code>). </p>
</li>
<li>
<p>In den Zeilen <code>135-138</code> wird geprüft, ob das Feld selbst in <code>zeile</code> und <code>spalte</code> bereits <code>MARKIERT</code> ist. </p>
</li>
<li>
<p>In den Zeilen <code>140-146</code> wird geprüft, ob in der <code>spalte</code> ein bereits <code>MARKIERT</code>es <code>field</code> existiert. </p>
</li>
<li>
<p>In den Zeilen <code>148-154</code> wird geprüft, ob in der <code>zeile</code> ein bereits <code>MARKIERT</code>es <code>field</code> existiert. </p>
</li>
<li>
<p>Nur, wenn keine der drei Bedingungen erfüllt sind, kann das <code>field[zeile][spalte]</code> auf <code>MARKIERT</code> gesetzt werden. </p>
</li>
<li>
<p>Somit wird die Anforderung , dass keine zwei Felder in einer Zeile bzw. in einer Spalte auf <code>MARKIERT</code> gesetzt sein dürfen, erfüllt. Die Prüfung geschieht "nur" im <em>Controller</em>!</p>
</li>
</ul>
</li>
<li>
<p>Wie kann nun dafür gesorgt werden, dass das Feld grün erscheint, wenn es zwar angeklickt wird, aber bereits ein markiertes Feld in der Zeile bzw. der Spalte existiert? Eine einfache Möglichkeit wäre, einfach einen neuen <code>State</code> hinzuzufügen, z.B. <code>GRUEN</code>. Wir können uns aber auch zwei globale Variablen <code>gruenZeile</code> und <code>gruenSpalte</code> erzeugen und wenn diese jeweils einen Wert besitzen, der innerhalb des <code>field</code>-Bereiches liegt, dann solll dieses Feld einen grünen Hintergrund bekommen. Es gibt viele Möglichkeiten, wir nehmen mal die erste:</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">117</span>
<span class="normal">118</span>
<span class="normal">119</span>
<span class="normal">120</span>
<span class="normal">121</span>
<span class="normal">122</span>
<span class="normal">123</span>
<span class="normal">124</span>
<span class="normal">125</span>
<span class="normal">126</span>
<span class="normal">127</span>
<span class="normal">128</span>
<span class="normal">129</span>
<span class="normal">130</span>
<span class="normal">131</span>
<span class="normal">132</span>
<span class="normal">133</span>
<span class="normal">134</span></pre></div></td><td class="code"><div class="highlight"><pre><span></span><code><span class="kd">private</span> <span class="n">JPanel</span> <span class="nf">initSouth</span><span class="p">()</span> 
<span class="p">{</span>
    <span class="n">JPanel</span> <span class="n">south</span> <span class="o">=</span> <span class="k">new</span> <span class="n">JPanel</span><span class="p">();</span>
<span class="hll">    <span class="n">JButton</span> <span class="n">clearBtn</span> <span class="o">=</span> <span class="k">new</span> <span class="n">JButton</span><span class="p">(</span><span class="s">&quot;clear field&quot;</span><span class="p">);</span>
</span><span class="hll">
</span><span class="hll">    <span class="n">clearBtn</span><span class="p">.</span><span class="na">addActionListener</span><span class="p">(</span><span class="k">new</span> <span class="n">ActionListener</span><span class="p">()</span> <span class="p">{</span>
</span><span class="hll">
</span><span class="hll">        <span class="nd">@Override</span>
</span><span class="hll">        <span class="kd">public</span> <span class="kt">void</span> <span class="nf">actionPerformed</span><span class="p">(</span><span class="n">ActionEvent</span> <span class="n">e</span><span class="p">)</span> <span class="p">{</span>
</span><span class="hll">            <span class="n">Schachbrett</span><span class="p">.</span><span class="na">this</span><span class="p">.</span><span class="na">initField</span><span class="p">();</span>
</span><span class="hll">            <span class="n">Schachbrett</span><span class="p">.</span><span class="na">this</span><span class="p">.</span><span class="na">canvas</span><span class="p">.</span><span class="na">repaint</span><span class="p">();</span>
</span><span class="hll">        <span class="p">}</span>
</span><span class="hll">
</span><span class="hll">    <span class="p">});</span>
</span><span class="hll">
</span><span class="hll">    <span class="n">south</span><span class="p">.</span><span class="na">add</span><span class="p">(</span><span class="n">clearBtn</span><span class="p">);</span>
</span>    <span class="k">return</span> <span class="n">south</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></div>
</td></tr></table>
</li>
<li>
<p>Die Überprüfung eines "Konfliktfalls" für die Diagonalen kann ebenfalls in der <code>mouseClicked()</code>-Methode als zusätzliche Bedingung eingefügt werden. Dazu müssen wir nur die Frage beantworten, wie wir ermitteln können, ob ein Feld mit den Koordinaten <code>zeile1</code> und <code>spalte1</code> auf einer Diagonalen des Feldes <code>zeile</code> und <code>spalte</code> liegt.</p>
<ul>
<li>
<p>Nehmen wir an, <code>zeile=3</code> und <code>spalte=4</code>. Dann wären z.B. <code>zeile1=0</code> und <code>spalte1=1</code> auf einer Diagonalen und auch <code>zeile1=1</code> und <code>spalte1=2</code> und auch <code>zeile1=2</code> und <code>spalte1=3</code> und auch <code>zeile1=4</code> und <code>spalte1=5</code> und auch <code>zeile1=5</code> und <code>spalte1=6</code> und auch <code>zeile1=6</code> und <code>spalte1=7</code>. </p>
</li>
<li>
<p>Für die andere Diagonale gilt <code>zeile1=2</code> und <code>spalte1=5</code> und auch <code>zeile1=1</code> und <code>spalte1=6</code> und auch <code>zeile1=0</code> und <code>spalte1=7</code>, aber auch <code>zeile1=4</code> und <code>spalte1=3</code> und auch <code>zeile1=5</code> und <code>spalte1=2</code> und auch <code>zeile1=6</code> und <code>spalte1=1</code> und auch <code>zeile1=7</code> und <code>spalte1=0</code>. </p>
</li>
<li>
<p>Es gilt also, dass <code>| zeile1 - zeile | == | spalte1 - spalte |</code>, damit die Felder in <code>zeile, spalte</code> und <code>zeile1, spalte1</code> in einer Diagonalen liegen.</p>
</li>
</ul>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">144</span>
<span class="normal">145</span>
<span class="normal">146</span>
<span class="normal">147</span>
<span class="normal">148</span>
<span class="normal">149</span>
<span class="normal">150</span>
<span class="normal">151</span>
<span class="normal">152</span>
<span class="normal">153</span>
<span class="normal">154</span>
<span class="normal">155</span>
<span class="normal">156</span>
<span class="normal">157</span>
<span class="normal">158</span>
<span class="normal">159</span>
<span class="normal">160</span>
<span class="normal">161</span>
<span class="normal">162</span>
<span class="normal">163</span>
<span class="normal">164</span>
<span class="normal">165</span>
<span class="normal">166</span>
<span class="normal">167</span>
<span class="normal">168</span>
<span class="normal">169</span>
<span class="normal">170</span>
<span class="normal">171</span>
<span class="normal">172</span>
<span class="normal">173</span>
<span class="normal">174</span>
<span class="normal">175</span>
<span class="normal">176</span>
<span class="normal">177</span>
<span class="normal">178</span>
<span class="normal">179</span>
<span class="normal">180</span>
<span class="normal">181</span>
<span class="normal">182</span>
<span class="normal">183</span>
<span class="normal">184</span>
<span class="normal">185</span>
<span class="normal">186</span>
<span class="normal">187</span>
<span class="normal">188</span>
<span class="normal">189</span>
<span class="normal">190</span>
<span class="normal">191</span>
<span class="normal">192</span>
<span class="normal">193</span>
<span class="normal">194</span>
<span class="normal">195</span>
<span class="normal">196</span>
<span class="normal">197</span>
<span class="normal">198</span>
<span class="normal">199</span>
<span class="normal">200</span>
<span class="normal">201</span>
<span class="normal">202</span></pre></div></td><td class="code"><div class="highlight"><pre><span></span><code><span class="nd">@Override</span>
<span class="kd">public</span> <span class="kt">void</span> <span class="nf">mouseClicked</span><span class="p">(</span><span class="n">MouseEvent</span> <span class="n">e</span><span class="p">)</span> 
<span class="p">{</span>
    <span class="kt">int</span> <span class="n">x</span> <span class="o">=</span> <span class="n">e</span><span class="p">.</span><span class="na">getX</span><span class="p">();</span>
    <span class="kt">int</span> <span class="n">y</span> <span class="o">=</span> <span class="n">e</span><span class="p">.</span><span class="na">getY</span><span class="p">();</span>
    <span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="s">&quot;mouseClicked: [x=&quot;</span> <span class="o">+</span> <span class="n">x</span> <span class="o">+</span> <span class="s">&quot;, &quot;</span> <span class="o">+</span> <span class="n">y</span> <span class="o">+</span> <span class="s">&quot;]&quot;</span><span class="p">);</span>

    <span class="kt">int</span> <span class="n">spalte</span> <span class="o">=</span> <span class="n">x</span> <span class="o">/</span> <span class="k">this</span><span class="p">.</span><span class="na">canvas</span><span class="p">.</span><span class="na">widthRect</span><span class="p">;</span>
    <span class="kt">int</span> <span class="n">zeile</span> <span class="o">=</span> <span class="n">y</span> <span class="o">/</span> <span class="k">this</span><span class="p">.</span><span class="na">canvas</span><span class="p">.</span><span class="na">heightRect</span><span class="p">;</span>

    <span class="kt">boolean</span> <span class="n">bereitsMarkiert</span> <span class="o">=</span> <span class="kc">false</span><span class="p">;</span>
    <span class="k">if</span><span class="p">(</span><span class="n">Schachbrett</span><span class="p">.</span><span class="na">this</span><span class="p">.</span><span class="na">field</span><span class="o">[</span><span class="n">zeile</span><span class="o">][</span><span class="n">spalte</span><span class="o">]</span> <span class="o">==</span> <span class="n">State</span><span class="p">.</span><span class="na">MARKIERT</span><span class="p">)</span>
    <span class="p">{</span>
        <span class="n">bereitsMarkiert</span> <span class="o">=</span> <span class="kc">true</span><span class="p">;</span>
    <span class="p">}</span>

    <span class="k">for</span><span class="p">(</span><span class="kt">int</span> <span class="n">row</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span> <span class="n">row</span><span class="o">&lt;</span><span class="n">Schachbrett</span><span class="p">.</span><span class="na">this</span><span class="p">.</span><span class="na">field</span><span class="p">.</span><span class="na">length</span>  <span class="o">&amp;&amp;</span> <span class="o">!</span><span class="n">bereitsMarkiert</span><span class="p">;</span> <span class="n">row</span><span class="o">++</span><span class="p">)</span>
    <span class="p">{</span>
        <span class="k">if</span><span class="p">(</span><span class="n">Schachbrett</span><span class="p">.</span><span class="na">this</span><span class="p">.</span><span class="na">field</span><span class="o">[</span><span class="n">row</span><span class="o">][</span><span class="n">spalte</span><span class="o">]</span> <span class="o">==</span> <span class="n">State</span><span class="p">.</span><span class="na">MARKIERT</span><span class="p">)</span>
        <span class="p">{</span>
            <span class="n">bereitsMarkiert</span> <span class="o">=</span> <span class="kc">true</span><span class="p">;</span>
        <span class="p">}</span>
    <span class="p">}</span>

    <span class="k">for</span><span class="p">(</span><span class="kt">int</span> <span class="n">col</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span> <span class="n">col</span><span class="o">&lt;</span><span class="n">Schachbrett</span><span class="p">.</span><span class="na">this</span><span class="p">.</span><span class="na">field</span><span class="o">[</span><span class="n">zeile</span><span class="o">]</span><span class="p">.</span><span class="na">length</span> <span class="o">&amp;&amp;</span> <span class="o">!</span><span class="n">bereitsMarkiert</span><span class="p">;</span> <span class="n">col</span><span class="o">++</span><span class="p">)</span>
    <span class="p">{</span>       
        <span class="k">if</span><span class="p">(</span><span class="n">Schachbrett</span><span class="p">.</span><span class="na">this</span><span class="p">.</span><span class="na">field</span><span class="o">[</span><span class="n">zeile</span><span class="o">][</span><span class="n">col</span><span class="o">]</span> <span class="o">==</span> <span class="n">State</span><span class="p">.</span><span class="na">MARKIERT</span><span class="p">)</span>
        <span class="p">{</span>
            <span class="n">bereitsMarkiert</span> <span class="o">=</span> <span class="kc">true</span><span class="p">;</span>
        <span class="p">}</span>
    <span class="p">}</span>

<span class="hll">    <span class="c1">// Diagonalen</span>
</span><span class="hll">    <span class="k">for</span><span class="p">(</span><span class="kt">int</span> <span class="n">row</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span> <span class="n">row</span><span class="o">&lt;</span><span class="n">Schachbrett</span><span class="p">.</span><span class="na">this</span><span class="p">.</span><span class="na">field</span><span class="p">.</span><span class="na">length</span>  <span class="o">&amp;&amp;</span> <span class="o">!</span><span class="n">bereitsMarkiert</span><span class="p">;</span> <span class="n">row</span><span class="o">++</span><span class="p">)</span>
</span><span class="hll">    <span class="p">{</span>
</span><span class="hll">        <span class="k">for</span><span class="p">(</span><span class="kt">int</span> <span class="n">col</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span> <span class="n">col</span><span class="o">&lt;</span><span class="n">Schachbrett</span><span class="p">.</span><span class="na">this</span><span class="p">.</span><span class="na">field</span><span class="o">[</span><span class="n">row</span><span class="o">]</span><span class="p">.</span><span class="na">length</span> <span class="o">&amp;&amp;</span> <span class="o">!</span><span class="n">bereitsMarkiert</span><span class="p">;</span> <span class="n">col</span><span class="o">++</span><span class="p">)</span>
</span><span class="hll">        <span class="p">{</span>       
</span><span class="hll">            <span class="k">if</span><span class="p">(</span><span class="o">!</span><span class="p">(</span><span class="n">col</span><span class="o">==</span><span class="n">spalte</span> <span class="o">&amp;&amp;</span> <span class="n">row</span><span class="o">==</span><span class="n">zeile</span><span class="p">))</span> <span class="c1">// nicht das Feld selbst betrachten</span>
</span><span class="hll">            <span class="p">{</span>
</span><span class="hll">                <span class="k">if</span><span class="p">((</span><span class="n">Math</span><span class="p">.</span><span class="na">abs</span><span class="p">(</span><span class="n">col</span><span class="o">-</span><span class="n">spalte</span><span class="p">)</span> <span class="o">==</span> <span class="n">Math</span><span class="p">.</span><span class="na">abs</span><span class="p">(</span><span class="n">row</span><span class="o">-</span><span class="n">zeile</span><span class="p">))</span> <span class="o">&amp;&amp;</span> <span class="n">Schachbrett</span><span class="p">.</span><span class="na">this</span><span class="p">.</span><span class="na">field</span><span class="o">[</span><span class="n">row</span><span class="o">][</span><span class="n">col</span><span class="o">]</span> <span class="o">==</span> <span class="n">State</span><span class="p">.</span><span class="na">MARKIERT</span><span class="p">)</span>
</span><span class="hll">                <span class="p">{</span>
</span><span class="hll">                    <span class="n">bereitsMarkiert</span> <span class="o">=</span> <span class="kc">true</span><span class="p">;</span>
</span><span class="hll">                <span class="p">}</span>
</span><span class="hll">            <span class="p">}</span>
</span><span class="hll">        <span class="p">}</span>
</span><span class="hll">    <span class="p">}</span>
</span>
    <span class="k">if</span><span class="p">(</span><span class="o">!</span><span class="n">bereitsMarkiert</span><span class="p">)</span>
    <span class="p">{</span>
        <span class="k">this</span><span class="p">.</span><span class="na">field</span><span class="o">[</span><span class="n">zeile</span><span class="o">][</span><span class="n">spalte</span><span class="o">]</span> <span class="o">=</span> <span class="n">State</span><span class="p">.</span><span class="na">MARKIERT</span><span class="p">;</span>
    <span class="p">}</span>
    <span class="k">else</span> 
    <span class="p">{</span>
        <span class="k">this</span><span class="p">.</span><span class="na">field</span><span class="o">[</span><span class="n">zeile</span><span class="o">][</span><span class="n">spalte</span><span class="o">]</span> <span class="o">=</span> <span class="n">State</span><span class="p">.</span><span class="na">GREEN</span><span class="p">;</span>
    <span class="p">}</span>

    <span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="s">&quot;mouseClicked: [zeile = &quot;</span> <span class="o">+</span> <span class="n">zeile</span> <span class="o">+</span> <span class="s">&quot;, spalte = &quot;</span> <span class="o">+</span> <span class="n">spalte</span> <span class="o">+</span> <span class="s">&quot;]&quot;</span><span class="p">);</span>
    <span class="k">this</span><span class="p">.</span><span class="na">canvas</span><span class="p">.</span><span class="na">repaint</span><span class="p">();</span>
<span class="p">}</span>
</code></pre></div>
</td></tr></table>
</li>
</ol>
</details>
<h3 id="schiebepuzzle">Schiebepuzzle<a class="headerlink" href="#schiebepuzzle" title="Permanent link">&para;</a></h3>
<details><summary>Aufgabe Schiebepuzzle</summary><ol>
<li>
<p>Implementieren Sie folgendes Puzzle: </p>
<p><img alt="schachbrett" src="../files/115_puzzle.png" /></p>
<ul>
<li>obige Abbildung zeigt den Anfangszustand des Puzzles (<code>2</code> über <code>1</code> links)</li>
</ul>
<p><img alt="schachbrett" src="../files/116_puzzle.png" /></p>
<ul>
<li>
<p>obige Abbildung zeigt den Endzustand des Puzzles (<code>1</code> über <code>2</code> links)</p>
</li>
<li>
<p>Das Puzzle besteht aus 5 „Kacheln“, 3 gelben und 2 roten. Die roten Kacheln sind mit einer <code>1</code> und einer <code>2</code> nummeriert. Am Anfang steht die rote Kachel mit der <code>2</code> über der roten Kachel mit der <code>1</code>. (siehe erste Abb.) Ziel des Puzzles ist es, die beiden roten Kacheln zu vertauschen. Wenn links die <code>1</code> über der <code>2</code> steht, ist das Puzzle beendet. Wo die gelben Kacheln im Endzustand sind, ist egal (siehe zweite Abb.). Ein Feld ist stets frei (grau dargestellt). In dieses Feld kann eine benachbarte Kachel geschoben werden.</p>
</li>
<li>
<p>Zeigen Sie oben die Anzahl der Züge an. Wenn der Endzustand erreicht ist, kann nicht mehr gezogen werden! Der Button <code>Neustart</code> setzt alles wieder auf Anfang. </p>
</li>
<li>
<p>Die Programmierung bleibt ganz Ihnen überlassen. Zum Schieben einer Kachel auf das leere Feld, klickt man auf die Kachel selbst. Diese „bewegt“ sich dann auf das leere (graue) Feld und hinterlässt ein leeres (graues) Feld (siehe folgende Abb.)</p>
</li>
</ul>
<p><img alt="schachbrett" src="../files/117_puzzle.png" /></p>
</li>
<li>
<p><strong>Tipps:</strong> </p>
<ul>
<li>
<p>Sie benötigen keine <code>Canvas</code> und kein Überschreiben der <code>paintComponent()</code>-Methode!   </p>
</li>
<li>
<p>Am einfachsten bekommt man ein Label in die Mitte eines Panels gesetzt, wenn das Panel im <code>GridLayout(1,1)</code> (oder sogar parameterlos) ist und Sie für das Label <code>label.setHorizontalAlignment(JLabel.CENTER);</code> definieren</p>
</li>
<li>
<p>die (Schrift-)Farbe eines Labels setzt man mit <code>label.setForeground(Color);</code></p>
</li>
<li>
<p>die (Hintergrund-Farbe eines Panels setzt man mit <code>panel.setBackground(Color);</code></p>
</li>
<li>
<p>für das Identifizieren des entsprechenden Panels, auf das man geklickt hat, könnte es hilfreich sein, sich dafür eine eigene Klasse zu schreiben (die von JPanel erbt). Muss aber nicht.</p>
</li>
<li>
<p>wahrscheinlich ist es am einfachsten, ein zweidimensionales Array 2x3 als Datenstruktur für Ihr Puzzle zu verwenden</p>
</li>
</ul>
</li>
</ol>
</details>
<details class="question"><summary>Lösung Schiebepuzzle</summary><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">  1</span>
<span class="normal">  2</span>
<span class="normal">  3</span>
<span class="normal">  4</span>
<span class="normal">  5</span>
<span class="normal">  6</span>
<span class="normal">  7</span>
<span class="normal">  8</span>
<span class="normal">  9</span>
<span class="normal"> 10</span>
<span class="normal"> 11</span>
<span class="normal"> 12</span>
<span class="normal"> 13</span>
<span class="normal"> 14</span>
<span class="normal"> 15</span>
<span class="normal"> 16</span>
<span class="normal"> 17</span>
<span class="normal"> 18</span>
<span class="normal"> 19</span>
<span class="normal"> 20</span>
<span class="normal"> 21</span>
<span class="normal"> 22</span>
<span class="normal"> 23</span>
<span class="normal"> 24</span>
<span class="normal"> 25</span>
<span class="normal"> 26</span>
<span class="normal"> 27</span>
<span class="normal"> 28</span>
<span class="normal"> 29</span>
<span class="normal"> 30</span>
<span class="normal"> 31</span>
<span class="normal"> 32</span>
<span class="normal"> 33</span>
<span class="normal"> 34</span>
<span class="normal"> 35</span>
<span class="normal"> 36</span>
<span class="normal"> 37</span>
<span class="normal"> 38</span>
<span class="normal"> 39</span>
<span class="normal"> 40</span>
<span class="normal"> 41</span>
<span class="normal"> 42</span>
<span class="normal"> 43</span>
<span class="normal"> 44</span>
<span class="normal"> 45</span>
<span class="normal"> 46</span>
<span class="normal"> 47</span>
<span class="normal"> 48</span>
<span class="normal"> 49</span>
<span class="normal"> 50</span>
<span class="normal"> 51</span>
<span class="normal"> 52</span>
<span class="normal"> 53</span>
<span class="normal"> 54</span>
<span class="normal"> 55</span>
<span class="normal"> 56</span>
<span class="normal"> 57</span>
<span class="normal"> 58</span>
<span class="normal"> 59</span>
<span class="normal"> 60</span>
<span class="normal"> 61</span>
<span class="normal"> 62</span>
<span class="normal"> 63</span>
<span class="normal"> 64</span>
<span class="normal"> 65</span>
<span class="normal"> 66</span>
<span class="normal"> 67</span>
<span class="normal"> 68</span>
<span class="normal"> 69</span>
<span class="normal"> 70</span>
<span class="normal"> 71</span>
<span class="normal"> 72</span>
<span class="normal"> 73</span>
<span class="normal"> 74</span>
<span class="normal"> 75</span>
<span class="normal"> 76</span>
<span class="normal"> 77</span>
<span class="normal"> 78</span>
<span class="normal"> 79</span>
<span class="normal"> 80</span>
<span class="normal"> 81</span>
<span class="normal"> 82</span>
<span class="normal"> 83</span>
<span class="normal"> 84</span>
<span class="normal"> 85</span>
<span class="normal"> 86</span>
<span class="normal"> 87</span>
<span class="normal"> 88</span>
<span class="normal"> 89</span>
<span class="normal"> 90</span>
<span class="normal"> 91</span>
<span class="normal"> 92</span>
<span class="normal"> 93</span>
<span class="normal"> 94</span>
<span class="normal"> 95</span>
<span class="normal"> 96</span>
<span class="normal"> 97</span>
<span class="normal"> 98</span>
<span class="normal"> 99</span>
<span class="normal">100</span>
<span class="normal">101</span>
<span class="normal">102</span>
<span class="normal">103</span>
<span class="normal">104</span>
<span class="normal">105</span>
<span class="normal">106</span>
<span class="normal">107</span>
<span class="normal">108</span>
<span class="normal">109</span>
<span class="normal">110</span>
<span class="normal">111</span>
<span class="normal">112</span>
<span class="normal">113</span>
<span class="normal">114</span>
<span class="normal">115</span>
<span class="normal">116</span>
<span class="normal">117</span>
<span class="normal">118</span>
<span class="normal">119</span>
<span class="normal">120</span>
<span class="normal">121</span>
<span class="normal">122</span>
<span class="normal">123</span>
<span class="normal">124</span>
<span class="normal">125</span>
<span class="normal">126</span>
<span class="normal">127</span>
<span class="normal">128</span>
<span class="normal">129</span>
<span class="normal">130</span>
<span class="normal">131</span>
<span class="normal">132</span>
<span class="normal">133</span>
<span class="normal">134</span>
<span class="normal">135</span>
<span class="normal">136</span>
<span class="normal">137</span>
<span class="normal">138</span>
<span class="normal">139</span>
<span class="normal">140</span>
<span class="normal">141</span>
<span class="normal">142</span>
<span class="normal">143</span>
<span class="normal">144</span>
<span class="normal">145</span>
<span class="normal">146</span>
<span class="normal">147</span>
<span class="normal">148</span>
<span class="normal">149</span>
<span class="normal">150</span>
<span class="normal">151</span>
<span class="normal">152</span>
<span class="normal">153</span>
<span class="normal">154</span>
<span class="normal">155</span>
<span class="normal">156</span>
<span class="normal">157</span>
<span class="normal">158</span>
<span class="normal">159</span>
<span class="normal">160</span>
<span class="normal">161</span>
<span class="normal">162</span>
<span class="normal">163</span>
<span class="normal">164</span>
<span class="normal">165</span>
<span class="normal">166</span>
<span class="normal">167</span>
<span class="normal">168</span>
<span class="normal">169</span>
<span class="normal">170</span>
<span class="normal">171</span>
<span class="normal">172</span>
<span class="normal">173</span>
<span class="normal">174</span>
<span class="normal">175</span>
<span class="normal">176</span>
<span class="normal">177</span>
<span class="normal">178</span>
<span class="normal">179</span>
<span class="normal">180</span>
<span class="normal">181</span>
<span class="normal">182</span>
<span class="normal">183</span>
<span class="normal">184</span>
<span class="normal">185</span>
<span class="normal">186</span>
<span class="normal">187</span>
<span class="normal">188</span>
<span class="normal">189</span>
<span class="normal">190</span>
<span class="normal">191</span>
<span class="normal">192</span>
<span class="normal">193</span>
<span class="normal">194</span>
<span class="normal">195</span>
<span class="normal">196</span>
<span class="normal">197</span>
<span class="normal">198</span>
<span class="normal">199</span>
<span class="normal">200</span>
<span class="normal">201</span>
<span class="normal">202</span>
<span class="normal">203</span>
<span class="normal">204</span>
<span class="normal">205</span>
<span class="normal">206</span>
<span class="normal">207</span>
<span class="normal">208</span>
<span class="normal">209</span>
<span class="normal">210</span>
<span class="normal">211</span>
<span class="normal">212</span>
<span class="normal">213</span>
<span class="normal">214</span>
<span class="normal">215</span>
<span class="normal">216</span>
<span class="normal">217</span>
<span class="normal">218</span>
<span class="normal">219</span>
<span class="normal">220</span>
<span class="normal">221</span>
<span class="normal">222</span>
<span class="normal">223</span>
<span class="normal">224</span>
<span class="normal">225</span>
<span class="normal">226</span>
<span class="normal">227</span>
<span class="normal">228</span>
<span class="normal">229</span>
<span class="normal">230</span>
<span class="normal">231</span>
<span class="normal">232</span>
<span class="normal">233</span>
<span class="normal">234</span>
<span class="normal">235</span>
<span class="normal">236</span>
<span class="normal">237</span>
<span class="normal">238</span>
<span class="normal">239</span>
<span class="normal">240</span>
<span class="normal">241</span>
<span class="normal">242</span>
<span class="normal">243</span>
<span class="normal">244</span>
<span class="normal">245</span>
<span class="normal">246</span>
<span class="normal">247</span>
<span class="normal">248</span>
<span class="normal">249</span>
<span class="normal">250</span>
<span class="normal">251</span>
<span class="normal">252</span>
<span class="normal">253</span>
<span class="normal">254</span>
<span class="normal">255</span>
<span class="normal">256</span>
<span class="normal">257</span>
<span class="normal">258</span>
<span class="normal">259</span>
<span class="normal">260</span>
<span class="normal">261</span>
<span class="normal">262</span>
<span class="normal">263</span>
<span class="normal">264</span>
<span class="normal">265</span>
<span class="normal">266</span>
<span class="normal">267</span>
<span class="normal">268</span>
<span class="normal">269</span>
<span class="normal">270</span>
<span class="normal">271</span>
<span class="normal">272</span>
<span class="normal">273</span>
<span class="normal">274</span>
<span class="normal">275</span>
<span class="normal">276</span>
<span class="normal">277</span>
<span class="normal">278</span>
<span class="normal">279</span>
<span class="normal">280</span>
<span class="normal">281</span>
<span class="normal">282</span>
<span class="normal">283</span></pre></div></td><td class="code"><div class="highlight"><pre><span></span><code><span class="kn">import</span> <span class="nn">java.awt.BorderLayout</span><span class="p">;</span>
<span class="kn">import</span> <span class="nn">java.awt.Color</span><span class="p">;</span>
<span class="kn">import</span> <span class="nn">java.awt.Font</span><span class="p">;</span>
<span class="kn">import</span> <span class="nn">java.awt.GridLayout</span><span class="p">;</span>
<span class="kn">import</span> <span class="nn">java.awt.event.ActionEvent</span><span class="p">;</span>
<span class="kn">import</span> <span class="nn">java.awt.event.ActionListener</span><span class="p">;</span>
<span class="kn">import</span> <span class="nn">java.awt.event.MouseEvent</span><span class="p">;</span>
<span class="kn">import</span> <span class="nn">java.awt.event.MouseListener</span><span class="p">;</span>

<span class="kn">import</span> <span class="nn">javax.swing.*</span><span class="p">;</span>

<span class="kd">public</span> <span class="kd">class</span> <span class="nc">Puzzle</span> <span class="kd">extends</span> <span class="n">JFrame</span>
<span class="p">{</span>
    <span class="n">JLabel</span> <span class="n">infoLabel</span><span class="p">;</span>
    <span class="kt">int</span> <span class="n">anzMoves</span><span class="p">;</span>
    <span class="kd">enum</span> <span class="n">State</span> <span class="p">{</span><span class="n">EINS</span><span class="p">,</span> <span class="n">ZWEI</span><span class="p">,</span> <span class="n">LEER</span><span class="p">,</span> <span class="n">GELB</span><span class="p">}</span>
    <span class="n">State</span><span class="o">[][]</span> <span class="n">field</span><span class="p">;</span>
    <span class="n">MyPanel</span><span class="o">[][]</span> <span class="n">panels</span><span class="p">;</span>
    <span class="n">JPanel</span> <span class="n">mainPanel</span><span class="p">;</span>

    <span class="n">Puzzle</span><span class="p">()</span>
    <span class="p">{</span>
        <span class="kd">super</span><span class="p">(</span><span class="s">&quot;Puzzle&quot;</span><span class="p">);</span>
        <span class="k">this</span><span class="p">.</span><span class="na">setDefaultCloseOperation</span><span class="p">(</span><span class="n">JFrame</span><span class="p">.</span><span class="na">EXIT_ON_CLOSE</span><span class="p">);</span>
        <span class="k">this</span><span class="p">.</span><span class="na">getContentPane</span><span class="p">().</span><span class="na">add</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="na">infoLabelPanel</span><span class="p">(),</span> <span class="n">BorderLayout</span><span class="p">.</span><span class="na">NORTH</span><span class="p">);</span>
        <span class="k">this</span><span class="p">.</span><span class="na">getContentPane</span><span class="p">().</span><span class="na">add</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="na">mainPanelStart</span><span class="p">(),</span> <span class="n">BorderLayout</span><span class="p">.</span><span class="na">CENTER</span><span class="p">);</span>
        <span class="k">this</span><span class="p">.</span><span class="na">getContentPane</span><span class="p">().</span><span class="na">add</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="na">buttonPanel</span><span class="p">(),</span> <span class="n">BorderLayout</span><span class="p">.</span><span class="na">SOUTH</span><span class="p">);</span>
        <span class="k">this</span><span class="p">.</span><span class="na">setSize</span><span class="p">(</span><span class="mi">500</span><span class="p">,</span> <span class="mi">400</span><span class="p">);</span>
        <span class="k">this</span><span class="p">.</span><span class="na">setVisible</span><span class="p">(</span><span class="kc">true</span><span class="p">);</span>
    <span class="p">}</span>

    <span class="cm">/****************************************</span>
<span class="cm">     * erstmal alles fuer das Model</span>
<span class="cm">     * initiale Belegung von field</span>
<span class="cm">     */</span>
    <span class="kt">void</span> <span class="nf">initialisiereField</span><span class="p">()</span>
    <span class="p">{</span>
        <span class="k">this</span><span class="p">.</span><span class="na">field</span> <span class="o">=</span> <span class="k">new</span> <span class="n">State</span><span class="o">[</span><span class="mi">2</span><span class="o">][</span><span class="mi">3</span><span class="o">]</span><span class="p">;</span>
        <span class="k">this</span><span class="p">.</span><span class="na">field</span><span class="o">[</span><span class="mi">0</span><span class="o">][</span><span class="mi">0</span><span class="o">]</span> <span class="o">=</span> <span class="n">State</span><span class="p">.</span><span class="na">ZWEI</span><span class="p">;</span>
        <span class="k">this</span><span class="p">.</span><span class="na">field</span><span class="o">[</span><span class="mi">0</span><span class="o">][</span><span class="mi">1</span><span class="o">]</span> <span class="o">=</span> <span class="n">State</span><span class="p">.</span><span class="na">LEER</span><span class="p">;</span>
        <span class="k">this</span><span class="p">.</span><span class="na">field</span><span class="o">[</span><span class="mi">0</span><span class="o">][</span><span class="mi">2</span><span class="o">]</span> <span class="o">=</span> <span class="n">State</span><span class="p">.</span><span class="na">GELB</span><span class="p">;</span>
        <span class="k">this</span><span class="p">.</span><span class="na">field</span><span class="o">[</span><span class="mi">1</span><span class="o">][</span><span class="mi">0</span><span class="o">]</span> <span class="o">=</span> <span class="n">State</span><span class="p">.</span><span class="na">EINS</span><span class="p">;</span>
        <span class="k">this</span><span class="p">.</span><span class="na">field</span><span class="o">[</span><span class="mi">1</span><span class="o">][</span><span class="mi">1</span><span class="o">]</span> <span class="o">=</span> <span class="n">State</span><span class="p">.</span><span class="na">GELB</span><span class="p">;</span>
        <span class="k">this</span><span class="p">.</span><span class="na">field</span><span class="o">[</span><span class="mi">1</span><span class="o">][</span><span class="mi">2</span><span class="o">]</span> <span class="o">=</span> <span class="n">State</span><span class="p">.</span><span class="na">GELB</span><span class="p">;</span>  
    <span class="p">}</span>

    <span class="cm">/**</span>
<span class="cm">     * Hilfsmethode, um zu wissen, in welcher Zeile sich das leere Feld befindet</span>
<span class="cm">     * damit ist makeMove() etwas kuerzer</span>
<span class="cm">     * @return zeile von LEER</span>
<span class="cm">     */</span>
    <span class="kt">int</span> <span class="nf">getLeerZeile</span><span class="p">()</span>
    <span class="p">{</span>
        <span class="k">for</span><span class="p">(</span><span class="kt">int</span> <span class="n">zeile</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span> <span class="n">zeile</span><span class="o">&lt;</span><span class="mi">2</span><span class="p">;</span> <span class="n">zeile</span><span class="o">++</span><span class="p">)</span>
            <span class="k">for</span><span class="p">(</span><span class="kt">int</span> <span class="n">spalte</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span> <span class="n">spalte</span><span class="o">&lt;</span><span class="mi">3</span><span class="p">;</span> <span class="n">spalte</span><span class="o">++</span><span class="p">)</span>
                <span class="k">if</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="na">field</span><span class="o">[</span><span class="n">zeile</span><span class="o">][</span><span class="n">spalte</span><span class="o">]==</span><span class="n">State</span><span class="p">.</span><span class="na">LEER</span><span class="p">)</span> <span class="k">return</span> <span class="n">zeile</span><span class="p">;</span>

        <span class="k">return</span> <span class="o">-</span><span class="mi">1</span><span class="p">;</span> <span class="c1">// fehlerfall - kommt aber nicht vor</span>
    <span class="p">}</span>

    <span class="cm">/**</span>
<span class="cm">     * Hilfsmethode, um zu wissen, in welcher Zeile sich das leere Feld befindet</span>
<span class="cm">     * damit ist makeMove() etwas kuerzer</span>
<span class="cm">     * @return spalte von LEER</span>
<span class="cm">     */</span>
    <span class="kt">int</span> <span class="nf">getLeerSpalte</span><span class="p">()</span>
    <span class="p">{</span>
        <span class="k">for</span><span class="p">(</span><span class="kt">int</span> <span class="n">zeile</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span> <span class="n">zeile</span><span class="o">&lt;</span><span class="mi">2</span><span class="p">;</span> <span class="n">zeile</span><span class="o">++</span><span class="p">)</span>
            <span class="k">for</span><span class="p">(</span><span class="kt">int</span> <span class="n">spalte</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span> <span class="n">spalte</span><span class="o">&lt;</span><span class="mi">3</span><span class="p">;</span> <span class="n">spalte</span><span class="o">++</span><span class="p">)</span>
                <span class="k">if</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="na">field</span><span class="o">[</span><span class="n">zeile</span><span class="o">][</span><span class="n">spalte</span><span class="o">]==</span><span class="n">State</span><span class="p">.</span><span class="na">LEER</span><span class="p">)</span> <span class="k">return</span> <span class="n">spalte</span><span class="p">;</span>

        <span class="k">return</span> <span class="o">-</span><span class="mi">1</span><span class="p">;</span> <span class="c1">// fehlerfall - kommt aber nicht vor</span>
    <span class="p">}</span>

    <span class="cm">/**</span>
<span class="cm">     * von field[fromZeile][fromSpalte] aus wird gezogen</span>
<span class="cm">     * es wird geprueft, ob die leere Kachel entweder in der gleichen zeile </span>
<span class="cm">     * ist --&gt; dann muss die spalte von LEER entweder links oder rechts sein (+/+ 1)</span>
<span class="cm">     * oder in der gleichen spalte --&gt; dann muss die zeile von LEER entweder</span>
<span class="cm">     * darueber oder darunter sein (+/+ 1)</span>
<span class="cm">     * @param fromZeile</span>
<span class="cm">     * @param fromSpalte</span>
<span class="cm">     * @return ob zug ausgefuehrt wurde oder nicht</span>
<span class="cm">     */</span>
    <span class="kt">boolean</span> <span class="nf">makeMove</span><span class="p">(</span><span class="kt">int</span> <span class="n">fromZeile</span><span class="p">,</span> <span class="kt">int</span> <span class="n">fromSpalte</span><span class="p">)</span>
    <span class="p">{</span>
        <span class="k">if</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="na">field</span><span class="o">[</span><span class="n">fromZeile</span><span class="o">][</span><span class="n">fromSpalte</span><span class="o">]!=</span><span class="n">State</span><span class="p">.</span><span class="na">LEER</span><span class="p">)</span>
        <span class="p">{</span>
            <span class="kt">int</span> <span class="n">zeileLeer</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="na">getLeerZeile</span><span class="p">();</span>
            <span class="kt">int</span> <span class="n">spalteLeer</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="na">getLeerSpalte</span><span class="p">();</span>
            <span class="k">if</span><span class="p">((</span><span class="n">Math</span><span class="p">.</span><span class="na">abs</span><span class="p">(</span><span class="n">zeileLeer</span><span class="o">-</span><span class="n">fromZeile</span><span class="p">)</span><span class="o">==</span><span class="mi">1</span> <span class="o">&amp;&amp;</span> <span class="n">spalteLeer</span><span class="o">-</span><span class="n">fromSpalte</span><span class="o">==</span><span class="mi">0</span><span class="p">)</span> <span class="o">||</span> <span class="p">(</span><span class="n">zeileLeer</span><span class="o">-</span><span class="n">fromZeile</span><span class="o">==</span><span class="mi">0</span> <span class="o">&amp;&amp;</span>  <span class="n">Math</span><span class="p">.</span><span class="na">abs</span><span class="p">(</span><span class="n">spalteLeer</span><span class="o">-</span><span class="n">fromSpalte</span><span class="p">)</span><span class="o">==</span><span class="mi">1</span><span class="p">))</span>
            <span class="p">{</span>
                <span class="k">this</span><span class="p">.</span><span class="na">field</span><span class="o">[</span><span class="n">zeileLeer</span><span class="o">][</span><span class="n">spalteLeer</span><span class="o">]=</span><span class="k">this</span><span class="p">.</span><span class="na">field</span><span class="o">[</span><span class="n">fromZeile</span><span class="o">][</span><span class="n">fromSpalte</span><span class="o">]</span><span class="p">;</span>
                <span class="k">this</span><span class="p">.</span><span class="na">field</span><span class="o">[</span><span class="n">fromZeile</span><span class="o">][</span><span class="n">fromSpalte</span><span class="o">]=</span><span class="n">State</span><span class="p">.</span><span class="na">LEER</span><span class="p">;</span>
                <span class="k">this</span><span class="p">.</span><span class="na">printField</span><span class="p">();</span>  <span class="c1">// nur zum debuggen</span>
                <span class="k">this</span><span class="p">.</span><span class="na">anzMoves</span><span class="o">++</span><span class="p">;</span>
                <span class="k">return</span> <span class="kc">true</span><span class="p">;</span>
            <span class="p">}</span>
        <span class="p">}</span>
        <span class="k">return</span> <span class="kc">false</span><span class="p">;</span>
    <span class="p">}</span>

    <span class="cm">/**</span>
<span class="cm">     * definition des endzustands (links oben EINS, links unten ZWEI)</span>
<span class="cm">     * @return ob endzustand erreicht oder nicht</span>
<span class="cm">     */</span>
    <span class="kt">boolean</span> <span class="nf">ende</span><span class="p">()</span>
    <span class="p">{</span>
        <span class="k">return</span> <span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="na">field</span><span class="o">[</span><span class="mi">0</span><span class="o">][</span><span class="mi">0</span><span class="o">]==</span><span class="n">State</span><span class="p">.</span><span class="na">EINS</span> <span class="o">&amp;&amp;</span> <span class="k">this</span><span class="p">.</span><span class="na">field</span><span class="o">[</span><span class="mi">1</span><span class="o">][</span><span class="mi">0</span><span class="o">]==</span><span class="n">State</span><span class="p">.</span><span class="na">ZWEI</span><span class="p">);</span>
    <span class="p">}</span>

    <span class="cm">/*********************************************</span>
<span class="cm">     * jetzt alles fuer die View - ganz zu Anfang</span>
<span class="cm">     */</span>

    <span class="n">JPanel</span> <span class="nf">initialiserePanels</span><span class="p">()</span>
    <span class="p">{</span>
        <span class="k">this</span><span class="p">.</span><span class="na">panels</span> <span class="o">=</span> <span class="k">new</span> <span class="n">MyPanel</span><span class="o">[</span><span class="mi">2</span><span class="o">][</span><span class="mi">3</span><span class="o">]</span><span class="p">;</span>
        <span class="k">for</span><span class="p">(</span><span class="kt">int</span> <span class="n">zeile</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span> <span class="n">zeile</span><span class="o">&lt;</span><span class="mi">2</span><span class="p">;</span> <span class="n">zeile</span><span class="o">++</span><span class="p">)</span>
        <span class="p">{</span>
            <span class="k">for</span><span class="p">(</span><span class="kt">int</span> <span class="n">spalte</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span> <span class="n">spalte</span><span class="o">&lt;</span><span class="mi">3</span><span class="p">;</span> <span class="n">spalte</span><span class="o">++</span><span class="p">)</span>
            <span class="p">{</span>
                <span class="k">this</span><span class="p">.</span><span class="na">panels</span><span class="o">[</span><span class="n">zeile</span><span class="o">][</span><span class="n">spalte</span><span class="o">]</span> <span class="o">=</span> <span class="k">new</span> <span class="n">MyPanel</span><span class="p">(</span><span class="n">zeile</span><span class="p">,</span> <span class="n">spalte</span><span class="p">);</span>
                <span class="k">this</span><span class="p">.</span><span class="na">panels</span><span class="o">[</span><span class="n">zeile</span><span class="o">][</span><span class="n">spalte</span><span class="o">]</span><span class="p">.</span><span class="na">view</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="na">field</span><span class="o">[</span><span class="n">zeile</span><span class="o">][</span><span class="n">spalte</span><span class="o">]</span><span class="p">);</span>
                <span class="k">this</span><span class="p">.</span><span class="na">mainPanel</span><span class="p">.</span><span class="na">add</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="na">panels</span><span class="o">[</span><span class="n">zeile</span><span class="o">][</span><span class="n">spalte</span><span class="o">]</span><span class="p">);</span>
            <span class="p">}</span>
        <span class="p">}</span>
        <span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="na">mainPanel</span><span class="p">;</span>
    <span class="p">}</span>

    <span class="n">JPanel</span> <span class="nf">mainPanelStart</span><span class="p">()</span>
    <span class="p">{</span>
        <span class="k">this</span><span class="p">.</span><span class="na">mainPanel</span> <span class="o">=</span> <span class="k">new</span> <span class="n">JPanel</span><span class="p">();</span>
        <span class="k">this</span><span class="p">.</span><span class="na">mainPanel</span><span class="p">.</span><span class="na">setLayout</span><span class="p">(</span><span class="k">new</span> <span class="n">GridLayout</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">3</span><span class="p">));</span>
        <span class="k">this</span><span class="p">.</span><span class="na">initialisiereField</span><span class="p">();</span>      <span class="c1">// model</span>
        <span class="k">this</span><span class="p">.</span><span class="na">initialiserePanels</span><span class="p">();</span>      <span class="c1">// view</span>
        <span class="k">return</span> <span class="n">mainPanel</span><span class="p">;</span>
    <span class="p">}</span>

    <span class="n">JPanel</span> <span class="nf">infoLabelPanel</span><span class="p">()</span>
    <span class="p">{</span>
        <span class="n">JPanel</span> <span class="n">infoPanel</span> <span class="o">=</span> <span class="k">new</span> <span class="n">JPanel</span><span class="p">();</span>
        <span class="k">this</span><span class="p">.</span><span class="na">infoLabel</span> <span class="o">=</span> <span class="k">new</span> <span class="n">JLabel</span><span class="p">(</span><span class="s">&quot;Anzahl Zuege : &quot;</span> <span class="o">+</span> <span class="k">this</span><span class="p">.</span><span class="na">anzMoves</span><span class="p">);</span>
        <span class="k">this</span><span class="p">.</span><span class="na">infoLabel</span><span class="p">.</span><span class="na">setFont</span><span class="p">(</span><span class="k">new</span> <span class="n">Font</span><span class="p">(</span><span class="s">&quot;Verdana&quot;</span><span class="p">,</span> <span class="n">Font</span><span class="p">.</span><span class="na">ITALIC</span><span class="p">,</span> <span class="mi">18</span><span class="p">));</span>
        <span class="n">infoPanel</span><span class="p">.</span><span class="na">add</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="na">infoLabel</span><span class="p">);</span>
        <span class="k">return</span> <span class="n">infoPanel</span><span class="p">;</span>
    <span class="p">}</span>

    <span class="n">JPanel</span> <span class="nf">buttonPanel</span><span class="p">()</span>
    <span class="p">{</span>
        <span class="n">JPanel</span> <span class="n">buttonPanel</span> <span class="o">=</span> <span class="k">new</span> <span class="n">JPanel</span><span class="p">();</span>
        <span class="n">JButton</span> <span class="n">neuStart</span> <span class="o">=</span> <span class="k">new</span> <span class="n">JButton</span><span class="p">(</span><span class="s">&quot;Neustart&quot;</span><span class="p">);</span>
        <span class="n">neuStart</span><span class="p">.</span><span class="na">addActionListener</span><span class="p">(</span><span class="k">new</span> <span class="n">ActionListener</span><span class="p">()</span> <span class="p">{</span>

            <span class="nd">@Override</span>
            <span class="kd">public</span> <span class="kt">void</span> <span class="nf">actionPerformed</span><span class="p">(</span><span class="n">ActionEvent</span> <span class="n">e</span><span class="p">)</span>
            <span class="p">{</span>
                <span class="n">Puzzle</span><span class="p">.</span><span class="na">this</span><span class="p">.</span><span class="na">restart</span><span class="p">();</span>          
            <span class="p">}</span>

        <span class="p">});</span>
        <span class="n">buttonPanel</span><span class="p">.</span><span class="na">add</span><span class="p">(</span><span class="n">neuStart</span><span class="p">);</span>
        <span class="k">return</span> <span class="n">buttonPanel</span><span class="p">;</span>
    <span class="p">}</span>

    <span class="cm">/**</span>
<span class="cm">     * jetzt für Restart und Update</span>
<span class="cm">     * Restart: nach Druecken des Buttons &quot;Neustart&quot;</span>
<span class="cm">     * Update: nach jedem Zug</span>
<span class="cm">     */</span>
    <span class="kt">void</span> <span class="nf">restart</span><span class="p">()</span>
    <span class="p">{</span>
        <span class="k">this</span><span class="p">.</span><span class="na">anzMoves</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span>
        <span class="k">this</span><span class="p">.</span><span class="na">infoLabel</span><span class="p">.</span><span class="na">setFont</span><span class="p">(</span><span class="k">new</span> <span class="n">Font</span><span class="p">(</span><span class="s">&quot;Verdana&quot;</span><span class="p">,</span> <span class="n">Font</span><span class="p">.</span><span class="na">ITALIC</span><span class="p">,</span> <span class="mi">18</span><span class="p">));</span>
        <span class="k">this</span><span class="p">.</span><span class="na">initialisiereField</span><span class="p">();</span>
        <span class="k">this</span><span class="p">.</span><span class="na">updatePanels</span><span class="p">();</span>
    <span class="p">}</span>

    <span class="kt">void</span> <span class="nf">updateLabel</span><span class="p">(</span><span class="kt">boolean</span> <span class="n">ende</span><span class="p">)</span>
    <span class="p">{</span>
        <span class="k">if</span><span class="p">(</span><span class="n">ende</span><span class="p">)</span>
        <span class="p">{</span>
            <span class="k">this</span><span class="p">.</span><span class="na">infoLabel</span><span class="p">.</span><span class="na">setFont</span><span class="p">(</span><span class="k">new</span> <span class="n">Font</span><span class="p">(</span><span class="s">&quot;Verdana&quot;</span><span class="p">,</span> <span class="n">Font</span><span class="p">.</span><span class="na">ITALIC</span><span class="o">|</span><span class="n">Font</span><span class="p">.</span><span class="na">BOLD</span><span class="p">,</span> <span class="mi">18</span><span class="p">));</span> 
            <span class="k">this</span><span class="p">.</span><span class="na">infoLabel</span><span class="p">.</span><span class="na">setText</span><span class="p">(</span><span class="s">&quot;Ende! Anzahl Zuege : &quot;</span> <span class="o">+</span> <span class="k">this</span><span class="p">.</span><span class="na">anzMoves</span><span class="p">);</span>
        <span class="p">}</span>
        <span class="k">else</span>
        <span class="p">{</span>
            <span class="k">this</span><span class="p">.</span><span class="na">infoLabel</span><span class="p">.</span><span class="na">setText</span><span class="p">(</span><span class="s">&quot;Anzahl Zuege : &quot;</span> <span class="o">+</span> <span class="k">this</span><span class="p">.</span><span class="na">anzMoves</span><span class="p">);</span>
        <span class="p">}</span>
    <span class="p">}</span>

    <span class="kt">void</span> <span class="nf">updatePanels</span><span class="p">()</span>
    <span class="p">{</span>
        <span class="k">for</span><span class="p">(</span><span class="kt">int</span> <span class="n">zeile</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span> <span class="n">zeile</span><span class="o">&lt;</span><span class="mi">2</span><span class="p">;</span> <span class="n">zeile</span><span class="o">++</span><span class="p">)</span>
        <span class="p">{</span>
            <span class="k">for</span><span class="p">(</span><span class="kt">int</span> <span class="n">spalte</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span> <span class="n">spalte</span><span class="o">&lt;</span><span class="mi">3</span><span class="p">;</span> <span class="n">spalte</span><span class="o">++</span><span class="p">)</span>
            <span class="p">{</span>
                <span class="k">this</span><span class="p">.</span><span class="na">panels</span><span class="o">[</span><span class="n">zeile</span><span class="o">][</span><span class="n">spalte</span><span class="o">]</span><span class="p">.</span><span class="na">view</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="na">field</span><span class="o">[</span><span class="n">zeile</span><span class="o">][</span><span class="n">spalte</span><span class="o">]</span><span class="p">);</span>
            <span class="p">}</span>
        <span class="p">}</span>
        <span class="k">this</span><span class="p">.</span><span class="na">updateLabel</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="na">ende</span><span class="p">());</span>
    <span class="p">}</span>

    <span class="cm">/**</span>
<span class="cm">     * das ist nur zum &quot;Debuggen&quot; - aber ganz nuetzlich</span>
<span class="cm">     */</span>
    <span class="kt">void</span> <span class="nf">printField</span><span class="p">()</span>
    <span class="p">{</span>
        <span class="k">for</span><span class="p">(</span><span class="kt">int</span> <span class="n">zeile</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span> <span class="n">zeile</span><span class="o">&lt;</span><span class="mi">2</span><span class="p">;</span> <span class="n">zeile</span><span class="o">++</span><span class="p">)</span>
        <span class="p">{</span>
            <span class="k">for</span><span class="p">(</span><span class="kt">int</span> <span class="n">spalte</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span> <span class="n">spalte</span><span class="o">&lt;</span><span class="mi">3</span><span class="p">;</span> <span class="n">spalte</span><span class="o">++</span><span class="p">)</span>
            <span class="p">{</span>
                <span class="k">if</span> <span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="na">field</span><span class="o">[</span><span class="n">zeile</span><span class="o">][</span><span class="n">spalte</span><span class="o">]==</span><span class="n">State</span><span class="p">.</span><span class="na">LEER</span><span class="p">)</span> <span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">print</span><span class="p">(</span><span class="s">&quot; -&quot;</span><span class="p">);</span>
                <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="na">field</span><span class="o">[</span><span class="n">zeile</span><span class="o">][</span><span class="n">spalte</span><span class="o">]==</span><span class="n">State</span><span class="p">.</span><span class="na">EINS</span><span class="p">)</span> <span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">print</span><span class="p">(</span><span class="s">&quot; 1&quot;</span><span class="p">);</span>
                <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="na">field</span><span class="o">[</span><span class="n">zeile</span><span class="o">][</span><span class="n">spalte</span><span class="o">]==</span><span class="n">State</span><span class="p">.</span><span class="na">ZWEI</span><span class="p">)</span> <span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">print</span><span class="p">(</span><span class="s">&quot; 2&quot;</span><span class="p">);</span>
                <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="na">field</span><span class="o">[</span><span class="n">zeile</span><span class="o">][</span><span class="n">spalte</span><span class="o">]==</span><span class="n">State</span><span class="p">.</span><span class="na">GELB</span><span class="p">)</span> <span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">print</span><span class="p">(</span><span class="s">&quot; o&quot;</span><span class="p">);</span>
            <span class="p">}</span>
            <span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">println</span><span class="p">();</span>
        <span class="p">}</span>
        <span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">println</span><span class="p">();</span>
    <span class="p">}</span>

    <span class="cm">/**</span>
<span class="cm">     * die Klasse für die &quot;Kacheln&quot;</span>
<span class="cm">     * die &quot;Kacheln&quot; sind JPanels (mit allen JPanel-Methoden)</span>
<span class="cm">     * ausserdem noch nuetzliche Objekteigenschaften: zeile, spalte und das Label, </span>
<span class="cm">     * das auf der Kachel ist (für GELB und LEER ist das Label leer)</span>
<span class="cm">     */</span>
    <span class="kd">class</span> <span class="nc">MyPanel</span> <span class="kd">extends</span> <span class="n">JPanel</span> <span class="kd">implements</span> <span class="n">MouseListener</span>
    <span class="p">{</span>
        <span class="kt">int</span> <span class="n">zeile</span><span class="p">;</span>
        <span class="kt">int</span> <span class="n">spalte</span><span class="p">;</span>
        <span class="n">JLabel</span> <span class="n">label</span><span class="p">;</span>

        <span class="n">MyPanel</span><span class="p">(</span><span class="kt">int</span> <span class="n">zeile</span><span class="p">,</span> <span class="kt">int</span> <span class="n">spalte</span><span class="p">)</span>
        <span class="p">{</span>
            <span class="kd">super</span><span class="p">();</span>
            <span class="k">this</span><span class="p">.</span><span class="na">zeile</span> <span class="o">=</span> <span class="n">zeile</span><span class="p">;</span>
            <span class="k">this</span><span class="p">.</span><span class="na">spalte</span> <span class="o">=</span> <span class="n">spalte</span><span class="p">;</span>
            <span class="k">this</span><span class="p">.</span><span class="na">setLayout</span><span class="p">(</span><span class="k">new</span> <span class="n">GridLayout</span><span class="p">());</span>
            <span class="k">this</span><span class="p">.</span><span class="na">label</span> <span class="o">=</span> <span class="k">new</span> <span class="n">JLabel</span><span class="p">();</span>
            <span class="k">this</span><span class="p">.</span><span class="na">label</span><span class="p">.</span><span class="na">setHorizontalAlignment</span><span class="p">(</span><span class="n">JLabel</span><span class="p">.</span><span class="na">CENTER</span><span class="p">);</span>
            <span class="k">this</span><span class="p">.</span><span class="na">label</span><span class="p">.</span><span class="na">setForeground</span><span class="p">(</span><span class="n">Color</span><span class="p">.</span><span class="na">WHITE</span><span class="p">);</span>
            <span class="k">this</span><span class="p">.</span><span class="na">label</span><span class="p">.</span><span class="na">setFont</span><span class="p">(</span><span class="k">new</span> <span class="n">Font</span><span class="p">(</span><span class="s">&quot;Verdana&quot;</span><span class="p">,</span> <span class="n">Font</span><span class="p">.</span><span class="na">BOLD</span><span class="p">,</span> <span class="mi">48</span><span class="p">));</span>
            <span class="k">this</span><span class="p">.</span><span class="na">add</span><span class="p">(</span><span class="n">label</span><span class="p">);</span>
            <span class="k">this</span><span class="p">.</span><span class="na">addMouseListener</span><span class="p">(</span><span class="k">this</span><span class="p">);</span>
        <span class="p">}</span>

        <span class="kt">void</span> <span class="nf">view</span><span class="p">(</span><span class="n">State</span> <span class="n">state</span><span class="p">)</span>
        <span class="p">{</span>
            <span class="k">switch</span><span class="p">(</span><span class="n">state</span><span class="p">)</span>   <span class="c1">// geht natuerlich auch mit if(state==State.EINS) usw.</span>
            <span class="p">{</span>
                <span class="k">case</span> <span class="n">EINS</span> <span class="p">:</span> <span class="k">this</span><span class="p">.</span><span class="na">setBackground</span><span class="p">(</span><span class="n">Color</span><span class="p">.</span><span class="na">RED</span><span class="p">);</span>
                            <span class="k">this</span><span class="p">.</span><span class="na">label</span><span class="p">.</span><span class="na">setText</span><span class="p">(</span><span class="s">&quot;1&quot;</span><span class="p">);</span>        <span class="k">break</span><span class="p">;</span>
                <span class="k">case</span> <span class="n">ZWEI</span> <span class="p">:</span> <span class="k">this</span><span class="p">.</span><span class="na">setBackground</span><span class="p">(</span><span class="n">Color</span><span class="p">.</span><span class="na">RED</span><span class="p">);</span>
                            <span class="k">this</span><span class="p">.</span><span class="na">label</span><span class="p">.</span><span class="na">setText</span><span class="p">(</span><span class="s">&quot;2&quot;</span><span class="p">);</span>        <span class="k">break</span><span class="p">;</span>
                <span class="k">case</span> <span class="n">LEER</span> <span class="p">:</span> <span class="k">this</span><span class="p">.</span><span class="na">setBackground</span><span class="p">(</span><span class="n">Color</span><span class="p">.</span><span class="na">LIGHT_GRAY</span><span class="p">);</span>
                            <span class="k">this</span><span class="p">.</span><span class="na">label</span><span class="p">.</span><span class="na">setText</span><span class="p">(</span><span class="s">&quot;&quot;</span><span class="p">);</span>         <span class="k">break</span><span class="p">;</span>
                <span class="k">case</span> <span class="n">GELB</span> <span class="p">:</span> <span class="k">this</span><span class="p">.</span><span class="na">setBackground</span><span class="p">(</span><span class="n">Color</span><span class="p">.</span><span class="na">YELLOW</span><span class="p">);</span>
                            <span class="k">this</span><span class="p">.</span><span class="na">label</span><span class="p">.</span><span class="na">setText</span><span class="p">(</span><span class="s">&quot;&quot;</span><span class="p">);</span>         <span class="k">break</span><span class="p">;</span>
            <span class="p">}</span>
        <span class="p">}</span>

        <span class="nd">@Override</span>
        <span class="kd">public</span> <span class="kt">void</span> <span class="nf">mouseClicked</span><span class="p">(</span><span class="n">MouseEvent</span> <span class="n">e</span><span class="p">)</span>
        <span class="p">{</span>
            <span class="k">if</span><span class="p">(</span><span class="o">!</span><span class="n">Puzzle</span><span class="p">.</span><span class="na">this</span><span class="p">.</span><span class="na">ende</span><span class="p">()</span> <span class="o">&amp;&amp;</span> <span class="n">Puzzle</span><span class="p">.</span><span class="na">this</span><span class="p">.</span><span class="na">makeMove</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="na">zeile</span><span class="p">,</span> <span class="k">this</span><span class="p">.</span><span class="na">spalte</span><span class="p">))</span> <span class="n">Puzzle</span><span class="p">.</span><span class="na">this</span><span class="p">.</span><span class="na">updatePanels</span><span class="p">();</span>        
        <span class="p">}</span>

        <span class="nd">@Override</span> <span class="kd">public</span> <span class="kt">void</span> <span class="nf">mousePressed</span><span class="p">(</span><span class="n">MouseEvent</span> <span class="n">e</span><span class="p">)</span> <span class="p">{}</span>
        <span class="nd">@Override</span> <span class="kd">public</span> <span class="kt">void</span> <span class="nf">mouseReleased</span><span class="p">(</span><span class="n">MouseEvent</span> <span class="n">e</span><span class="p">)</span> <span class="p">{}</span>
        <span class="nd">@Override</span> <span class="kd">public</span> <span class="kt">void</span> <span class="nf">mouseEntered</span><span class="p">(</span><span class="n">MouseEvent</span> <span class="n">e</span><span class="p">)</span> <span class="p">{}</span>
        <span class="nd">@Override</span> <span class="kd">public</span> <span class="kt">void</span> <span class="nf">mouseExited</span><span class="p">(</span><span class="n">MouseEvent</span> <span class="n">e</span><span class="p">)</span> <span class="p">{}</span>

    <span class="p">}</span>

    <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="p">(</span><span class="n">String</span><span class="o">[]</span> <span class="n">args</span><span class="p">)</span>
    <span class="p">{</span>
        <span class="k">new</span> <span class="n">Puzzle</span><span class="p">();</span>

    <span class="p">}</span>

<span class="p">}</span>   
</code></pre></div>
</td></tr></table>
</details>
<h3 id="rechtecke-anordnen">Rechtecke anordnen<a class="headerlink" href="#rechtecke-anordnen" title="Permanent link">&para;</a></h3>
<details><summary>Aufgabe Rechtecke anordnen</summary><ol>
<li>
<p>Implementieren Sie folgende GUI: </p>
<p><img alt="schachbrett" src="../files/118_rechtecke.png" /></p>
<ul>
<li>die Abbildung zeigt die Ausgangssituation</li>
</ul>
<p><img alt="schachbrett" src="../files/119_rechtecke.png" /></p>
<ul>
<li>Die Zeichenfläche ist in 4 gleichgroße Teile unterteilt. Diese Unterteilung wird durch Linien dargestellt. </li>
</ul>
</li>
<li>
<p>Durch Drücken des Buttons <code>rectangle</code> erscheint (beim ersten Mal ein grünes) Rechteck. Dieses Rechteck kann dann mit gedrückter Maustaste verschoben werden. Sobald es im linken oberen Feld ist, wird es dort fixiert und kann nicht mehr bewegt werden. </p>
<p><img alt="schachbrett" src="../files/120_rechtecke.png" /></p>
<ul>
<li>die obige Abbildung zeigt die Situation, in der das grüne Rechteck fixiert ist und nicht mehr bewegt werden kann</li>
</ul>
</li>
<li>
<p>Nachdem das grüne (erste) Rechteck fixiert ist, kann der Button <code>rectangle</code> ein weiteres Mal gedrückt werden. Es erscheint ein rotes Rechteck. Das rote Rechteck soll in das rechte obere Feld.</p>
<p><img alt="schachbrett" src="../files/121_rechtecke.png" /></p>
</li>
<li>
<p>Nachdem auch das rote Rechteck fixiert ist, kann der Button <code>rectangle</code> ein weiteres Mal gedrückt werden. Es erscheint ein gelbes Rechteck. Das gelbe Rechteck soll in das linke untere Feld.</p>
<p><img alt="schachbrett" src="../files/122_rechtecke.png" /></p>
</li>
<li>
<p>Nun kann der Button <code>rectangle</code> ein weiteres Mal gedrückt werden. Es erscheint ein dunkelgraues Rechteck. Das dunkelgraue Rechteck soll in das rechte untere Feld.</p>
<p><img alt="schachbrett" src="../files/123_rechtecke.png" /></p>
</li>
<li>
<p>Wenn auch das graue Rechteck fixiert ist, ist die Endesituation erreicht (siehe  Label oben in der folgenden Abbildung):</p>
<p><img alt="schachbrett" src="../files/124_rechtecke.png" /></p>
</li>
<li>
<p>Nach Klick auf den Button <code>clear</code> wird wieder die Ausgangssituation hergestellt: </p>
<p><img alt="schachbrett" src="../files/118_rechtecke.png" /></p>
</li>
</ol>
</details>
<details class="question"><summary>Lösung Rechtecke anordnen</summary><div class="tabbed-set" data-tabs="3:2"><input checked="checked" id="__tabbed_3_1" name="__tabbed_3" type="radio" /><label for="__tabbed_3_1">MyRectangle.java</label><div class="tabbed-content">
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 1</span>
<span class="normal"> 2</span>
<span class="normal"> 3</span>
<span class="normal"> 4</span>
<span class="normal"> 5</span>
<span class="normal"> 6</span>
<span class="normal"> 7</span>
<span class="normal"> 8</span>
<span class="normal"> 9</span>
<span class="normal">10</span>
<span class="normal">11</span>
<span class="normal">12</span>
<span class="normal">13</span>
<span class="normal">14</span>
<span class="normal">15</span>
<span class="normal">16</span>
<span class="normal">17</span>
<span class="normal">18</span>
<span class="normal">19</span>
<span class="normal">20</span>
<span class="normal">21</span>
<span class="normal">22</span>
<span class="normal">23</span>
<span class="normal">24</span>
<span class="normal">25</span>
<span class="normal">26</span>
<span class="normal">27</span>
<span class="normal">28</span>
<span class="normal">29</span>
<span class="normal">30</span>
<span class="normal">31</span>
<span class="normal">32</span>
<span class="normal">33</span>
<span class="normal">34</span>
<span class="normal">35</span>
<span class="normal">36</span>
<span class="normal">37</span>
<span class="normal">38</span>
<span class="normal">39</span>
<span class="normal">40</span>
<span class="normal">41</span>
<span class="normal">42</span>
<span class="normal">43</span>
<span class="normal">44</span>
<span class="normal">45</span>
<span class="normal">46</span>
<span class="normal">47</span>
<span class="normal">48</span>
<span class="normal">49</span>
<span class="normal">50</span>
<span class="normal">51</span>
<span class="normal">52</span>
<span class="normal">53</span>
<span class="normal">54</span>
<span class="normal">55</span>
<span class="normal">56</span>
<span class="normal">57</span>
<span class="normal">58</span>
<span class="normal">59</span>
<span class="normal">60</span>
<span class="normal">61</span>
<span class="normal">62</span>
<span class="normal">63</span>
<span class="normal">64</span>
<span class="normal">65</span></pre></div></td><td class="code"><div class="highlight"><pre><span></span><code><span class="kn">import</span> <span class="nn">java.awt.Color</span><span class="p">;</span>
<span class="kn">import</span> <span class="nn">java.awt.Point</span><span class="p">;</span>

<span class="kd">public</span> <span class="kd">class</span> <span class="nc">MyRectangle</span>
<span class="p">{</span>
    <span class="kt">int</span> <span class="n">x1</span><span class="p">,</span> <span class="n">y1</span><span class="p">,</span> <span class="n">x2</span><span class="p">,</span> <span class="n">y2</span><span class="p">;</span>
    <span class="n">Color</span> <span class="n">color</span><span class="p">;</span>
    <span class="kt">boolean</span> <span class="n">fixed</span><span class="p">;</span>

    <span class="n">MyRectangle</span><span class="p">(</span><span class="kt">int</span> <span class="n">x1</span><span class="p">,</span> <span class="kt">int</span> <span class="n">y1</span><span class="p">,</span> <span class="kt">int</span> <span class="n">x2</span><span class="p">,</span> <span class="kt">int</span> <span class="n">y2</span><span class="p">,</span> <span class="n">Color</span> <span class="n">color</span><span class="p">)</span>
    <span class="p">{</span>
        <span class="k">this</span><span class="p">.</span><span class="na">x1</span> <span class="o">=</span> <span class="n">x1</span><span class="p">;</span>
        <span class="k">this</span><span class="p">.</span><span class="na">y1</span> <span class="o">=</span> <span class="n">y1</span><span class="p">;</span>
        <span class="k">this</span><span class="p">.</span><span class="na">x2</span> <span class="o">=</span> <span class="n">x2</span><span class="p">;</span>
        <span class="k">this</span><span class="p">.</span><span class="na">y2</span> <span class="o">=</span> <span class="n">y2</span><span class="p">;</span>
        <span class="k">this</span><span class="p">.</span><span class="na">color</span> <span class="o">=</span> <span class="n">color</span><span class="p">;</span>
        <span class="k">this</span><span class="p">.</span><span class="na">fixed</span> <span class="o">=</span> <span class="kc">false</span><span class="p">;</span>
    <span class="p">}</span>

    <span class="kt">boolean</span> <span class="nf">inside</span><span class="p">(</span><span class="kt">int</span> <span class="n">x</span><span class="p">,</span> <span class="kt">int</span> <span class="n">y</span><span class="p">)</span>
    <span class="p">{</span>
        <span class="k">return</span> <span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="na">x1</span><span class="o">&lt;=</span><span class="n">x</span> <span class="o">&amp;&amp;</span> <span class="k">this</span><span class="p">.</span><span class="na">x2</span><span class="o">&gt;=</span><span class="n">x</span> <span class="o">&amp;&amp;</span> <span class="k">this</span><span class="p">.</span><span class="na">y1</span><span class="o">&lt;=</span><span class="n">y</span> <span class="o">&amp;&amp;</span> <span class="k">this</span><span class="p">.</span><span class="na">y2</span><span class="o">&gt;=</span><span class="n">y</span><span class="p">);</span>
    <span class="p">}</span>

    <span class="kt">boolean</span> <span class="nf">inside</span><span class="p">(</span><span class="n">Point</span> <span class="n">p</span><span class="p">)</span>
    <span class="p">{</span>
        <span class="k">return</span> <span class="n">inside</span><span class="p">(</span><span class="n">p</span><span class="p">.</span><span class="na">x</span><span class="p">,</span> <span class="n">p</span><span class="p">.</span><span class="na">y</span><span class="p">);</span>
    <span class="p">}</span>

    <span class="kt">void</span> <span class="nf">move</span><span class="p">(</span><span class="kt">int</span> <span class="n">diffX</span><span class="p">,</span> <span class="kt">int</span> <span class="n">diffY</span><span class="p">)</span>
    <span class="p">{</span>
        <span class="k">if</span><span class="p">(</span><span class="o">!</span><span class="k">this</span><span class="p">.</span><span class="na">fixed</span><span class="p">)</span>
        <span class="p">{</span>
            <span class="k">this</span><span class="p">.</span><span class="na">x1</span><span class="o">=</span><span class="k">this</span><span class="p">.</span><span class="na">x1</span><span class="o">+</span><span class="n">diffX</span><span class="p">;</span>
            <span class="k">this</span><span class="p">.</span><span class="na">y1</span><span class="o">=</span><span class="k">this</span><span class="p">.</span><span class="na">y1</span><span class="o">+</span><span class="n">diffY</span><span class="p">;</span>
            <span class="k">this</span><span class="p">.</span><span class="na">x2</span><span class="o">=</span><span class="k">this</span><span class="p">.</span><span class="na">x2</span><span class="o">+</span><span class="n">diffX</span><span class="p">;</span>
            <span class="k">this</span><span class="p">.</span><span class="na">y2</span><span class="o">=</span><span class="k">this</span><span class="p">.</span><span class="na">y2</span><span class="o">+</span><span class="n">diffY</span><span class="p">;</span>
        <span class="p">}</span>
    <span class="p">}</span>

    <span class="n">Color</span> <span class="nf">getColor</span><span class="p">()</span>
    <span class="p">{</span>
        <span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="na">color</span><span class="p">;</span>
    <span class="p">}</span>

    <span class="n">Point</span> <span class="nf">getLinksOben</span><span class="p">()</span>
    <span class="p">{</span>
        <span class="k">return</span> <span class="k">new</span> <span class="n">Point</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="na">x1</span><span class="p">,</span> <span class="k">this</span><span class="p">.</span><span class="na">y1</span><span class="p">);</span>
    <span class="p">}</span>

    <span class="n">Point</span> <span class="nf">getRechtsOben</span><span class="p">()</span>
    <span class="p">{</span>
        <span class="k">return</span> <span class="k">new</span> <span class="n">Point</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="na">x2</span><span class="p">,</span> <span class="k">this</span><span class="p">.</span><span class="na">y1</span><span class="p">);</span>
    <span class="p">}</span>

    <span class="n">Point</span> <span class="nf">getLinksUnten</span><span class="p">()</span>
    <span class="p">{</span>
        <span class="k">return</span> <span class="k">new</span> <span class="n">Point</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="na">x1</span><span class="p">,</span> <span class="k">this</span><span class="p">.</span><span class="na">y2</span><span class="p">);</span>
    <span class="p">}</span>

    <span class="n">Point</span> <span class="nf">getRechtsUnten</span><span class="p">()</span>
    <span class="p">{</span>
        <span class="k">return</span> <span class="k">new</span> <span class="n">Point</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="na">x2</span><span class="p">,</span> <span class="k">this</span><span class="p">.</span><span class="na">y2</span><span class="p">);</span>
    <span class="p">}</span>
<span class="p">}</span>
</code></pre></div>
</td></tr></table>
</div>
<input id="__tabbed_3_2" name="__tabbed_3" type="radio" /><label for="__tabbed_3_2">RechteckeAnordnen.java</label><div class="tabbed-content">
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">  1</span>
<span class="normal">  2</span>
<span class="normal">  3</span>
<span class="normal">  4</span>
<span class="normal">  5</span>
<span class="normal">  6</span>
<span class="normal">  7</span>
<span class="normal">  8</span>
<span class="normal">  9</span>
<span class="normal"> 10</span>
<span class="normal"> 11</span>
<span class="normal"> 12</span>
<span class="normal"> 13</span>
<span class="normal"> 14</span>
<span class="normal"> 15</span>
<span class="normal"> 16</span>
<span class="normal"> 17</span>
<span class="normal"> 18</span>
<span class="normal"> 19</span>
<span class="normal"> 20</span>
<span class="normal"> 21</span>
<span class="normal"> 22</span>
<span class="normal"> 23</span>
<span class="normal"> 24</span>
<span class="normal"> 25</span>
<span class="normal"> 26</span>
<span class="normal"> 27</span>
<span class="normal"> 28</span>
<span class="normal"> 29</span>
<span class="normal"> 30</span>
<span class="normal"> 31</span>
<span class="normal"> 32</span>
<span class="normal"> 33</span>
<span class="normal"> 34</span>
<span class="normal"> 35</span>
<span class="normal"> 36</span>
<span class="normal"> 37</span>
<span class="normal"> 38</span>
<span class="normal"> 39</span>
<span class="normal"> 40</span>
<span class="normal"> 41</span>
<span class="normal"> 42</span>
<span class="normal"> 43</span>
<span class="normal"> 44</span>
<span class="normal"> 45</span>
<span class="normal"> 46</span>
<span class="normal"> 47</span>
<span class="normal"> 48</span>
<span class="normal"> 49</span>
<span class="normal"> 50</span>
<span class="normal"> 51</span>
<span class="normal"> 52</span>
<span class="normal"> 53</span>
<span class="normal"> 54</span>
<span class="normal"> 55</span>
<span class="normal"> 56</span>
<span class="normal"> 57</span>
<span class="normal"> 58</span>
<span class="normal"> 59</span>
<span class="normal"> 60</span>
<span class="normal"> 61</span>
<span class="normal"> 62</span>
<span class="normal"> 63</span>
<span class="normal"> 64</span>
<span class="normal"> 65</span>
<span class="normal"> 66</span>
<span class="normal"> 67</span>
<span class="normal"> 68</span>
<span class="normal"> 69</span>
<span class="normal"> 70</span>
<span class="normal"> 71</span>
<span class="normal"> 72</span>
<span class="normal"> 73</span>
<span class="normal"> 74</span>
<span class="normal"> 75</span>
<span class="normal"> 76</span>
<span class="normal"> 77</span>
<span class="normal"> 78</span>
<span class="normal"> 79</span>
<span class="normal"> 80</span>
<span class="normal"> 81</span>
<span class="normal"> 82</span>
<span class="normal"> 83</span>
<span class="normal"> 84</span>
<span class="normal"> 85</span>
<span class="normal"> 86</span>
<span class="normal"> 87</span>
<span class="normal"> 88</span>
<span class="normal"> 89</span>
<span class="normal"> 90</span>
<span class="normal"> 91</span>
<span class="normal"> 92</span>
<span class="normal"> 93</span>
<span class="normal"> 94</span>
<span class="normal"> 95</span>
<span class="normal"> 96</span>
<span class="normal"> 97</span>
<span class="normal"> 98</span>
<span class="normal"> 99</span>
<span class="normal">100</span>
<span class="normal">101</span>
<span class="normal">102</span>
<span class="normal">103</span>
<span class="normal">104</span>
<span class="normal">105</span>
<span class="normal">106</span>
<span class="normal">107</span>
<span class="normal">108</span>
<span class="normal">109</span>
<span class="normal">110</span>
<span class="normal">111</span>
<span class="normal">112</span>
<span class="normal">113</span>
<span class="normal">114</span>
<span class="normal">115</span>
<span class="normal">116</span>
<span class="normal">117</span>
<span class="normal">118</span>
<span class="normal">119</span>
<span class="normal">120</span>
<span class="normal">121</span>
<span class="normal">122</span>
<span class="normal">123</span>
<span class="normal">124</span>
<span class="normal">125</span>
<span class="normal">126</span>
<span class="normal">127</span>
<span class="normal">128</span>
<span class="normal">129</span>
<span class="normal">130</span>
<span class="normal">131</span>
<span class="normal">132</span>
<span class="normal">133</span>
<span class="normal">134</span>
<span class="normal">135</span>
<span class="normal">136</span>
<span class="normal">137</span>
<span class="normal">138</span>
<span class="normal">139</span>
<span class="normal">140</span>
<span class="normal">141</span>
<span class="normal">142</span>
<span class="normal">143</span>
<span class="normal">144</span>
<span class="normal">145</span>
<span class="normal">146</span>
<span class="normal">147</span>
<span class="normal">148</span>
<span class="normal">149</span>
<span class="normal">150</span>
<span class="normal">151</span>
<span class="normal">152</span>
<span class="normal">153</span>
<span class="normal">154</span>
<span class="normal">155</span>
<span class="normal">156</span>
<span class="normal">157</span>
<span class="normal">158</span>
<span class="normal">159</span>
<span class="normal">160</span>
<span class="normal">161</span>
<span class="normal">162</span>
<span class="normal">163</span>
<span class="normal">164</span>
<span class="normal">165</span>
<span class="normal">166</span>
<span class="normal">167</span>
<span class="normal">168</span>
<span class="normal">169</span>
<span class="normal">170</span>
<span class="normal">171</span>
<span class="normal">172</span>
<span class="normal">173</span>
<span class="normal">174</span>
<span class="normal">175</span>
<span class="normal">176</span>
<span class="normal">177</span>
<span class="normal">178</span>
<span class="normal">179</span>
<span class="normal">180</span>
<span class="normal">181</span>
<span class="normal">182</span>
<span class="normal">183</span>
<span class="normal">184</span>
<span class="normal">185</span>
<span class="normal">186</span>
<span class="normal">187</span>
<span class="normal">188</span>
<span class="normal">189</span>
<span class="normal">190</span>
<span class="normal">191</span>
<span class="normal">192</span>
<span class="normal">193</span>
<span class="normal">194</span>
<span class="normal">195</span>
<span class="normal">196</span>
<span class="normal">197</span>
<span class="normal">198</span>
<span class="normal">199</span>
<span class="normal">200</span>
<span class="normal">201</span>
<span class="normal">202</span>
<span class="normal">203</span>
<span class="normal">204</span>
<span class="normal">205</span>
<span class="normal">206</span>
<span class="normal">207</span>
<span class="normal">208</span>
<span class="normal">209</span>
<span class="normal">210</span>
<span class="normal">211</span>
<span class="normal">212</span>
<span class="normal">213</span>
<span class="normal">214</span>
<span class="normal">215</span>
<span class="normal">216</span>
<span class="normal">217</span>
<span class="normal">218</span>
<span class="normal">219</span>
<span class="normal">220</span>
<span class="normal">221</span>
<span class="normal">222</span>
<span class="normal">223</span>
<span class="normal">224</span>
<span class="normal">225</span>
<span class="normal">226</span>
<span class="normal">227</span>
<span class="normal">228</span>
<span class="normal">229</span>
<span class="normal">230</span>
<span class="normal">231</span>
<span class="normal">232</span>
<span class="normal">233</span>
<span class="normal">234</span>
<span class="normal">235</span>
<span class="normal">236</span>
<span class="normal">237</span>
<span class="normal">238</span>
<span class="normal">239</span>
<span class="normal">240</span>
<span class="normal">241</span>
<span class="normal">242</span></pre></div></td><td class="code"><div class="highlight"><pre><span></span><code><span class="kn">import</span> <span class="nn">java.awt.BorderLayout</span><span class="p">;</span>
<span class="kn">import</span> <span class="nn">java.awt.Color</span><span class="p">;</span>
<span class="kn">import</span> <span class="nn">java.awt.Font</span><span class="p">;</span>
<span class="kn">import</span> <span class="nn">java.awt.Graphics</span><span class="p">;</span>
<span class="kn">import</span> <span class="nn">java.awt.Graphics2D</span><span class="p">;</span>
<span class="kn">import</span> <span class="nn">java.awt.Point</span><span class="p">;</span>
<span class="kn">import</span> <span class="nn">java.awt.event.ActionEvent</span><span class="p">;</span>
<span class="kn">import</span> <span class="nn">java.awt.event.ActionListener</span><span class="p">;</span>
<span class="kn">import</span> <span class="nn">java.awt.event.MouseEvent</span><span class="p">;</span>
<span class="kn">import</span> <span class="nn">java.awt.event.MouseListener</span><span class="p">;</span>
<span class="kn">import</span> <span class="nn">java.awt.event.MouseMotionListener</span><span class="p">;</span>
<span class="kn">import</span> <span class="nn">java.util.ArrayList</span><span class="p">;</span>
<span class="kn">import</span> <span class="nn">java.util.List</span><span class="p">;</span>

<span class="kn">import</span> <span class="nn">javax.swing.*</span><span class="p">;</span>

<span class="kd">public</span> <span class="kd">class</span> <span class="nc">RechteckeAnordnen</span>  <span class="kd">extends</span> <span class="n">JFrame</span>
<span class="p">{</span>
    <span class="n">JButton</span> <span class="n">resetButton</span><span class="p">,</span> <span class="n">newRectButton</span><span class="p">;</span>
    <span class="n">MyRectangle</span> <span class="n">aktRechteck</span> <span class="o">=</span> <span class="kc">null</span><span class="p">;</span>
    <span class="n">List</span><span class="o">&lt;</span><span class="n">MyRectangle</span><span class="o">&gt;</span> <span class="n">rectangles</span> <span class="o">=</span> <span class="k">new</span> <span class="n">ArrayList</span><span class="o">&lt;&gt;</span><span class="p">();</span>
    <span class="n">Canvas</span> <span class="n">canvas</span><span class="p">;</span>
    <span class="n">JLabel</span> <span class="n">infoLabel</span><span class="p">;</span>
    <span class="kt">int</span> <span class="n">anzRectFixed</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>

    <span class="n">RechteckeAnordnen</span><span class="p">()</span>
    <span class="p">{</span>
        <span class="kd">super</span><span class="p">(</span><span class="s">&quot;Rechtecke fixieren&quot;</span><span class="p">);</span>
        <span class="k">this</span><span class="p">.</span><span class="na">setDefaultCloseOperation</span><span class="p">(</span><span class="n">JFrame</span><span class="p">.</span><span class="na">EXIT_ON_CLOSE</span><span class="p">);</span>
        <span class="k">this</span><span class="p">.</span><span class="na">canvas</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Canvas</span><span class="p">();</span>
        <span class="k">this</span><span class="p">.</span><span class="na">getContentPane</span><span class="p">().</span><span class="na">add</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="na">createInfoPanel</span><span class="p">(),</span> <span class="n">BorderLayout</span><span class="p">.</span><span class="na">NORTH</span><span class="p">);</span>
        <span class="k">this</span><span class="p">.</span><span class="na">getContentPane</span><span class="p">().</span><span class="na">add</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="na">canvas</span><span class="p">,</span> <span class="n">BorderLayout</span><span class="p">.</span><span class="na">CENTER</span><span class="p">);</span>
        <span class="k">this</span><span class="p">.</span><span class="na">getContentPane</span><span class="p">().</span><span class="na">add</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="na">createButtons</span><span class="p">(),</span> <span class="n">BorderLayout</span><span class="p">.</span><span class="na">SOUTH</span><span class="p">);</span>
        <span class="k">this</span><span class="p">.</span><span class="na">setSize</span><span class="p">(</span><span class="mi">400</span><span class="p">,</span> <span class="mi">400</span><span class="p">);</span>
        <span class="k">this</span><span class="p">.</span><span class="na">setVisible</span><span class="p">(</span><span class="kc">true</span><span class="p">);</span>
    <span class="p">}</span>

    <span class="n">JPanel</span> <span class="nf">createInfoPanel</span><span class="p">()</span>
    <span class="p">{</span>
        <span class="n">JPanel</span> <span class="n">infoPanel</span> <span class="o">=</span> <span class="k">new</span> <span class="n">JPanel</span><span class="p">();</span>
        <span class="k">this</span><span class="p">.</span><span class="na">infoLabel</span> <span class="o">=</span> <span class="k">new</span> <span class="n">JLabel</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="na">anzRectFixed</span> <span class="o">+</span> <span class="s">&quot; Rechtecke fixiert&quot;</span><span class="p">);</span>
        <span class="k">this</span><span class="p">.</span><span class="na">infoLabel</span><span class="p">.</span><span class="na">setFont</span><span class="p">(</span><span class="k">new</span> <span class="n">Font</span><span class="p">(</span><span class="s">&quot;Verdana&quot;</span><span class="p">,</span> <span class="n">Font</span><span class="p">.</span><span class="na">ITALIC</span><span class="p">,</span> <span class="mi">18</span><span class="p">));</span>
        <span class="n">infoPanel</span><span class="p">.</span><span class="na">add</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="na">infoLabel</span><span class="p">);</span>
        <span class="k">return</span> <span class="n">infoPanel</span><span class="p">;</span>
    <span class="p">}</span>

    <span class="n">JPanel</span> <span class="nf">createButtons</span><span class="p">()</span>
    <span class="p">{</span>
        <span class="n">JPanel</span> <span class="n">buttonPanel</span> <span class="o">=</span> <span class="k">new</span> <span class="n">JPanel</span><span class="p">();</span>
        <span class="k">this</span><span class="p">.</span><span class="na">resetButton</span> <span class="o">=</span> <span class="k">new</span> <span class="n">JButton</span><span class="p">(</span><span class="s">&quot;clear&quot;</span><span class="p">);</span>
        <span class="k">this</span><span class="p">.</span><span class="na">resetButton</span><span class="p">.</span><span class="na">addActionListener</span><span class="p">(</span><span class="k">new</span> <span class="n">ActionListener</span><span class="p">()</span> <span class="p">{</span>

            <span class="nd">@Override</span>
            <span class="kd">public</span> <span class="kt">void</span> <span class="nf">actionPerformed</span><span class="p">(</span><span class="n">ActionEvent</span> <span class="n">e</span><span class="p">)</span>
            <span class="p">{</span>
                <span class="n">RechteckeAnordnen</span><span class="p">.</span><span class="na">this</span><span class="p">.</span><span class="na">aktRechteck</span> <span class="o">=</span> <span class="kc">null</span><span class="p">;</span>
                <span class="n">RechteckeAnordnen</span><span class="p">.</span><span class="na">this</span><span class="p">.</span><span class="na">anzRectFixed</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
                <span class="n">RechteckeAnordnen</span><span class="p">.</span><span class="na">this</span><span class="p">.</span><span class="na">rectangles</span><span class="p">.</span><span class="na">clear</span><span class="p">();</span>
                <span class="n">RechteckeAnordnen</span><span class="p">.</span><span class="na">this</span><span class="p">.</span><span class="na">infoLabel</span><span class="p">.</span><span class="na">setFont</span><span class="p">(</span><span class="k">new</span> <span class="n">Font</span><span class="p">(</span><span class="s">&quot;Verdana&quot;</span><span class="p">,</span> <span class="n">Font</span><span class="p">.</span><span class="na">ITALIC</span><span class="p">,</span> <span class="mi">18</span><span class="p">));</span>
                <span class="n">RechteckeAnordnen</span><span class="p">.</span><span class="na">this</span><span class="p">.</span><span class="na">infoLabel</span><span class="p">.</span><span class="na">setText</span><span class="p">(</span><span class="n">RechteckeAnordnen</span><span class="p">.</span><span class="na">this</span><span class="p">.</span><span class="na">anzRectFixed</span> <span class="o">+</span> <span class="s">&quot; Rechtecke fixiert&quot;</span><span class="p">);</span>   
                <span class="n">RechteckeAnordnen</span><span class="p">.</span><span class="na">this</span><span class="p">.</span><span class="na">canvas</span><span class="p">.</span><span class="na">repaint</span><span class="p">();</span>
            <span class="p">}</span>

        <span class="p">});</span>
        <span class="n">buttonPanel</span><span class="p">.</span><span class="na">add</span><span class="p">(</span><span class="n">resetButton</span><span class="p">);</span>
        <span class="k">this</span><span class="p">.</span><span class="na">newRectButton</span> <span class="o">=</span> <span class="k">new</span> <span class="n">JButton</span><span class="p">(</span><span class="s">&quot;rectangle&quot;</span><span class="p">);</span>
        <span class="k">this</span><span class="p">.</span><span class="na">newRectButton</span><span class="p">.</span><span class="na">addActionListener</span><span class="p">(</span><span class="k">new</span> <span class="n">ActionListener</span><span class="p">()</span> <span class="p">{</span>

            <span class="nd">@Override</span>
            <span class="kd">public</span> <span class="kt">void</span> <span class="nf">actionPerformed</span><span class="p">(</span><span class="n">ActionEvent</span> <span class="n">e</span><span class="p">)</span>
            <span class="p">{</span>
                <span class="k">if</span><span class="p">(</span><span class="n">RechteckeAnordnen</span><span class="p">.</span><span class="na">this</span><span class="p">.</span><span class="na">aktRechteck</span><span class="o">==</span><span class="kc">null</span> <span class="o">&amp;&amp;</span> <span class="n">RechteckeAnordnen</span><span class="p">.</span><span class="na">this</span><span class="p">.</span><span class="na">anzRectFixed</span><span class="o">&lt;</span><span class="mi">4</span><span class="p">)</span>
                <span class="p">{</span>
                    <span class="kt">int</span> <span class="n">x</span> <span class="o">=</span> <span class="n">RechteckeAnordnen</span><span class="p">.</span><span class="na">this</span><span class="p">.</span><span class="na">canvas</span><span class="p">.</span><span class="na">getWidth</span><span class="p">()</span><span class="o">/</span><span class="mi">4</span><span class="p">;</span>
                    <span class="kt">int</span> <span class="n">y</span> <span class="o">=</span> <span class="n">RechteckeAnordnen</span><span class="p">.</span><span class="na">this</span><span class="p">.</span><span class="na">canvas</span><span class="p">.</span><span class="na">getHeight</span><span class="p">()</span><span class="o">/</span><span class="mi">4</span><span class="p">;</span>
                    <span class="n">Color</span> <span class="n">color</span> <span class="o">=</span> <span class="kc">null</span><span class="p">;</span>
                    <span class="k">switch</span><span class="p">(</span><span class="n">RechteckeAnordnen</span><span class="p">.</span><span class="na">this</span><span class="p">.</span><span class="na">rectangles</span><span class="p">.</span><span class="na">size</span><span class="p">())</span>
                    <span class="p">{</span>
                        <span class="k">case</span> <span class="mi">0</span> <span class="p">:</span> <span class="n">color</span> <span class="o">=</span> <span class="n">Color</span><span class="p">.</span><span class="na">GREEN</span><span class="p">;</span> <span class="k">break</span><span class="p">;</span>
                        <span class="k">case</span> <span class="mi">1</span> <span class="p">:</span> <span class="n">color</span> <span class="o">=</span> <span class="n">Color</span><span class="p">.</span><span class="na">RED</span><span class="p">;</span> <span class="k">break</span><span class="p">;</span>
                        <span class="k">case</span> <span class="mi">2</span> <span class="p">:</span> <span class="n">color</span> <span class="o">=</span> <span class="n">Color</span><span class="p">.</span><span class="na">YELLOW</span><span class="p">;</span> <span class="k">break</span><span class="p">;</span>
                        <span class="k">case</span> <span class="mi">3</span> <span class="p">:</span> <span class="n">color</span> <span class="o">=</span> <span class="n">Color</span><span class="p">.</span><span class="na">DARK_GRAY</span><span class="p">;</span> <span class="k">break</span><span class="p">;</span>
                        <span class="k">default</span> <span class="p">:</span> <span class="n">color</span> <span class="o">=</span> <span class="n">Color</span><span class="p">.</span><span class="na">WHITE</span><span class="p">;</span> <span class="k">break</span><span class="p">;</span>
                    <span class="p">}</span>
                    <span class="n">RechteckeAnordnen</span><span class="p">.</span><span class="na">this</span><span class="p">.</span><span class="na">aktRechteck</span> <span class="o">=</span> <span class="k">new</span> <span class="n">MyRectangle</span><span class="p">(</span><span class="n">x</span><span class="p">,</span><span class="n">y</span><span class="p">,</span><span class="n">x</span><span class="o">+</span><span class="mi">2</span><span class="o">*</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="o">+</span><span class="mi">2</span><span class="o">*</span><span class="n">y</span><span class="p">,</span> <span class="n">color</span><span class="p">);</span>
                    <span class="n">RechteckeAnordnen</span><span class="p">.</span><span class="na">this</span><span class="p">.</span><span class="na">canvas</span><span class="p">.</span><span class="na">repaint</span><span class="p">();</span>
                <span class="p">}</span>
            <span class="p">}</span>

        <span class="p">});</span>
        <span class="n">buttonPanel</span><span class="p">.</span><span class="na">add</span><span class="p">(</span><span class="n">newRectButton</span><span class="p">);</span>
        <span class="k">return</span> <span class="n">buttonPanel</span><span class="p">;</span>
    <span class="p">}</span>

    <span class="kd">class</span> <span class="nc">Canvas</span> <span class="kd">extends</span> <span class="n">JPanel</span> <span class="kd">implements</span> <span class="n">MouseListener</span><span class="p">,</span> <span class="n">MouseMotionListener</span>
    <span class="p">{</span>
        <span class="kt">boolean</span> <span class="n">move</span> <span class="o">=</span> <span class="kc">false</span><span class="p">;</span>
        <span class="n">Point</span> <span class="n">from</span><span class="p">;</span>

        <span class="n">Canvas</span><span class="p">()</span>
        <span class="p">{</span>
            <span class="k">this</span><span class="p">.</span><span class="na">setBorder</span><span class="p">(</span><span class="n">BorderFactory</span><span class="p">.</span><span class="na">createLineBorder</span><span class="p">(</span><span class="n">Color</span><span class="p">.</span><span class="na">black</span><span class="p">));</span>
            <span class="k">this</span><span class="p">.</span><span class="na">addMouseListener</span><span class="p">(</span><span class="k">this</span><span class="p">);</span>
            <span class="k">this</span><span class="p">.</span><span class="na">addMouseMotionListener</span><span class="p">(</span><span class="k">this</span><span class="p">);</span>
        <span class="p">}</span>

        <span class="nd">@Override</span>
        <span class="kd">protected</span> <span class="kt">void</span> <span class="nf">paintComponent</span><span class="p">(</span><span class="n">Graphics</span> <span class="n">g</span><span class="p">)</span>
        <span class="p">{</span>
            <span class="kd">super</span><span class="p">.</span><span class="na">paintComponent</span><span class="p">(</span><span class="n">g</span><span class="p">);</span>
            <span class="n">Graphics2D</span> <span class="n">g2</span> <span class="o">=</span> <span class="p">(</span><span class="n">Graphics2D</span><span class="p">)</span><span class="n">g</span><span class="p">;</span>
            <span class="kt">int</span> <span class="n">widthPanel</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="na">getWidth</span><span class="p">();</span>       <span class="c1">// Breite der Canvas</span>
            <span class="kt">int</span> <span class="n">heightPanel</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="na">getHeight</span><span class="p">();</span>     <span class="c1">// Hoehe der Canvas</span>
            <span class="n">g2</span><span class="p">.</span><span class="na">drawLine</span><span class="p">(</span><span class="n">widthPanel</span><span class="o">/</span><span class="mi">2</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="n">widthPanel</span><span class="o">/</span><span class="mi">2</span><span class="p">,</span> <span class="n">heightPanel</span><span class="p">);</span>
            <span class="n">g2</span><span class="p">.</span><span class="na">drawLine</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">heightPanel</span><span class="o">/</span><span class="mi">2</span><span class="p">,</span> <span class="n">widthPanel</span><span class="p">,</span> <span class="n">heightPanel</span><span class="o">/</span><span class="mi">2</span><span class="p">);</span>

            <span class="k">for</span><span class="p">(</span><span class="n">MyRectangle</span> <span class="n">rect</span> <span class="p">:</span> <span class="n">RechteckeAnordnen</span><span class="p">.</span><span class="na">this</span><span class="p">.</span><span class="na">rectangles</span><span class="p">)</span>
            <span class="p">{</span>
                <span class="n">g2</span><span class="p">.</span><span class="na">setColor</span><span class="p">(</span><span class="n">rect</span><span class="p">.</span><span class="na">color</span><span class="p">);</span>
                <span class="kt">int</span> <span class="n">x</span> <span class="o">=</span> <span class="n">rect</span><span class="p">.</span><span class="na">x1</span><span class="p">;</span>
                <span class="kt">int</span> <span class="n">y</span> <span class="o">=</span> <span class="n">rect</span><span class="p">.</span><span class="na">y1</span><span class="p">;</span>
                <span class="kt">int</span> <span class="n">width</span> <span class="o">=</span> <span class="n">rect</span><span class="p">.</span><span class="na">x2</span><span class="o">-</span><span class="n">rect</span><span class="p">.</span><span class="na">x1</span><span class="p">;</span>
                <span class="kt">int</span> <span class="n">height</span> <span class="o">=</span> <span class="n">rect</span><span class="p">.</span><span class="na">y2</span><span class="o">-</span><span class="n">rect</span><span class="p">.</span><span class="na">y1</span><span class="p">;</span>
                <span class="n">g2</span><span class="p">.</span><span class="na">fill3DRect</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">width</span><span class="p">,</span> <span class="n">height</span><span class="p">,</span> <span class="kc">true</span><span class="p">);</span>
            <span class="p">}</span>

            <span class="k">if</span><span class="p">(</span><span class="n">RechteckeAnordnen</span><span class="p">.</span><span class="na">this</span><span class="p">.</span><span class="na">aktRechteck</span> <span class="o">!=</span> <span class="kc">null</span><span class="p">)</span>
            <span class="p">{</span>
                <span class="n">g2</span><span class="p">.</span><span class="na">setColor</span><span class="p">(</span><span class="n">RechteckeAnordnen</span><span class="p">.</span><span class="na">this</span><span class="p">.</span><span class="na">aktRechteck</span><span class="p">.</span><span class="na">color</span><span class="p">);</span>
                <span class="kt">int</span> <span class="n">x</span> <span class="o">=</span> <span class="n">RechteckeAnordnen</span><span class="p">.</span><span class="na">this</span><span class="p">.</span><span class="na">aktRechteck</span><span class="p">.</span><span class="na">x1</span><span class="p">;</span>
                <span class="kt">int</span> <span class="n">y</span> <span class="o">=</span> <span class="n">RechteckeAnordnen</span><span class="p">.</span><span class="na">this</span><span class="p">.</span><span class="na">aktRechteck</span><span class="p">.</span><span class="na">y1</span><span class="p">;</span>
                <span class="kt">int</span> <span class="n">width</span> <span class="o">=</span> <span class="n">RechteckeAnordnen</span><span class="p">.</span><span class="na">this</span><span class="p">.</span><span class="na">aktRechteck</span><span class="p">.</span><span class="na">x2</span><span class="o">-</span><span class="n">RechteckeAnordnen</span><span class="p">.</span><span class="na">this</span><span class="p">.</span><span class="na">aktRechteck</span><span class="p">.</span><span class="na">x1</span><span class="p">;</span>
                <span class="kt">int</span> <span class="n">height</span> <span class="o">=</span> <span class="n">RechteckeAnordnen</span><span class="p">.</span><span class="na">this</span><span class="p">.</span><span class="na">aktRechteck</span><span class="p">.</span><span class="na">y2</span><span class="o">-</span><span class="n">RechteckeAnordnen</span><span class="p">.</span><span class="na">this</span><span class="p">.</span><span class="na">aktRechteck</span><span class="p">.</span><span class="na">y1</span><span class="p">;</span>
                <span class="n">g2</span><span class="p">.</span><span class="na">fill3DRect</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">width</span><span class="p">,</span> <span class="n">height</span><span class="p">,</span> <span class="kc">true</span><span class="p">);</span>
            <span class="p">}</span>
        <span class="p">}</span>

        <span class="nd">@Override</span>
        <span class="kd">public</span> <span class="kt">void</span> <span class="nf">mouseClicked</span><span class="p">(</span><span class="n">MouseEvent</span> <span class="n">e</span><span class="p">)</span> <span class="p">{}</span>

        <span class="nd">@Override</span>
        <span class="kd">public</span> <span class="kt">void</span> <span class="nf">mousePressed</span><span class="p">(</span><span class="n">MouseEvent</span> <span class="n">e</span><span class="p">)</span> <span class="p">{</span>
            <span class="k">this</span><span class="p">.</span><span class="na">from</span> <span class="o">=</span> <span class="n">e</span><span class="p">.</span><span class="na">getPoint</span><span class="p">();</span>
            <span class="k">if</span><span class="p">(</span><span class="n">RechteckeAnordnen</span><span class="p">.</span><span class="na">this</span><span class="p">.</span><span class="na">aktRechteck</span> <span class="o">!=</span> <span class="kc">null</span> <span class="o">&amp;&amp;</span> <span class="n">RechteckeAnordnen</span><span class="p">.</span><span class="na">this</span><span class="p">.</span><span class="na">aktRechteck</span><span class="p">.</span><span class="na">inside</span><span class="p">(</span><span class="n">from</span><span class="p">))</span>
            <span class="p">{</span>
                <span class="k">this</span><span class="p">.</span><span class="na">move</span> <span class="o">=</span> <span class="kc">true</span><span class="p">;</span>
            <span class="p">}</span>
        <span class="p">}</span>

        <span class="nd">@Override</span>
        <span class="kd">public</span> <span class="kt">void</span> <span class="nf">mouseReleased</span><span class="p">(</span><span class="n">MouseEvent</span> <span class="n">e</span><span class="p">)</span> <span class="p">{</span>
            <span class="k">this</span><span class="p">.</span><span class="na">move</span><span class="o">=</span><span class="kc">false</span><span class="p">;</span>        
        <span class="p">}</span>

        <span class="nd">@Override</span>
        <span class="kd">public</span> <span class="kt">void</span> <span class="nf">mouseEntered</span><span class="p">(</span><span class="n">MouseEvent</span> <span class="n">e</span><span class="p">)</span> <span class="p">{</span>

        <span class="p">}</span>

        <span class="nd">@Override</span>
        <span class="kd">public</span> <span class="kt">void</span> <span class="nf">mouseExited</span><span class="p">(</span><span class="n">MouseEvent</span> <span class="n">e</span><span class="p">)</span> <span class="p">{</span>

        <span class="p">}</span>

        <span class="nd">@Override</span>
        <span class="kd">public</span> <span class="kt">void</span> <span class="nf">mouseDragged</span><span class="p">(</span><span class="n">MouseEvent</span> <span class="n">e</span><span class="p">)</span> <span class="p">{</span>
            <span class="n">Point</span> <span class="n">here</span> <span class="o">=</span> <span class="n">e</span><span class="p">.</span><span class="na">getPoint</span><span class="p">();</span>
            <span class="k">if</span><span class="p">(</span><span class="n">move</span><span class="p">)</span>
            <span class="p">{</span>
                <span class="kt">int</span> <span class="n">diffX</span> <span class="o">=</span> <span class="n">here</span><span class="p">.</span><span class="na">x</span><span class="o">-</span><span class="k">this</span><span class="p">.</span><span class="na">from</span><span class="p">.</span><span class="na">x</span><span class="p">;</span>
                <span class="kt">int</span> <span class="n">diffY</span> <span class="o">=</span> <span class="n">here</span><span class="p">.</span><span class="na">y</span><span class="o">-</span><span class="k">this</span><span class="p">.</span><span class="na">from</span><span class="p">.</span><span class="na">y</span><span class="p">;</span>
                <span class="n">RechteckeAnordnen</span><span class="p">.</span><span class="na">this</span><span class="p">.</span><span class="na">aktRechteck</span><span class="p">.</span><span class="na">move</span><span class="p">(</span><span class="n">diffX</span><span class="p">,</span> <span class="n">diffY</span><span class="p">);</span>
                <span class="k">this</span><span class="p">.</span><span class="na">from</span> <span class="o">=</span> <span class="n">here</span><span class="p">;</span>
                <span class="kt">int</span> <span class="n">diff</span> <span class="o">=</span> <span class="mi">15</span><span class="p">;</span>

                <span class="k">switch</span><span class="p">(</span><span class="n">RechteckeAnordnen</span><span class="p">.</span><span class="na">this</span><span class="p">.</span><span class="na">anzRectFixed</span><span class="p">)</span>
                <span class="p">{</span>
                    <span class="k">case</span> <span class="mi">0</span> <span class="p">:</span>    <span class="n">Point</span> <span class="n">goal</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Point</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">);</span> 
                                <span class="n">Point</span> <span class="n">corner</span> <span class="o">=</span> <span class="n">RechteckeAnordnen</span><span class="p">.</span><span class="na">this</span><span class="p">.</span><span class="na">aktRechteck</span><span class="p">.</span><span class="na">getLinksOben</span><span class="p">();</span>
                                <span class="k">if</span><span class="p">(</span><span class="n">Math</span><span class="p">.</span><span class="na">abs</span><span class="p">(</span><span class="n">goal</span><span class="p">.</span><span class="na">x</span><span class="o">-</span><span class="n">corner</span><span class="p">.</span><span class="na">x</span><span class="p">)</span><span class="o">&lt;</span><span class="mi">5</span> <span class="o">&amp;&amp;</span> <span class="n">Math</span><span class="p">.</span><span class="na">abs</span><span class="p">(</span><span class="n">goal</span><span class="p">.</span><span class="na">y</span><span class="o">-</span><span class="n">corner</span><span class="p">.</span><span class="na">y</span><span class="p">)</span><span class="o">&lt;</span><span class="n">diff</span><span class="p">)</span>
                                <span class="p">{</span>
                                    <span class="k">this</span><span class="p">.</span><span class="na">move</span><span class="o">=</span><span class="kc">false</span><span class="p">;</span>
                                    <span class="n">RechteckeAnordnen</span><span class="p">.</span><span class="na">this</span><span class="p">.</span><span class="na">rectangles</span><span class="p">.</span><span class="na">add</span><span class="p">(</span><span class="k">new</span> <span class="n">MyRectangle</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="k">this</span><span class="p">.</span><span class="na">getWidth</span><span class="p">()</span><span class="o">/</span><span class="mi">2</span><span class="p">,</span> <span class="k">this</span><span class="p">.</span><span class="na">getHeight</span><span class="p">()</span><span class="o">/</span><span class="mi">2</span><span class="p">,</span> <span class="n">RechteckeAnordnen</span><span class="p">.</span><span class="na">this</span><span class="p">.</span><span class="na">aktRechteck</span><span class="p">.</span><span class="na">getColor</span><span class="p">()));</span>
                                    <span class="n">RechteckeAnordnen</span><span class="p">.</span><span class="na">this</span><span class="p">.</span><span class="na">aktRechteck</span> <span class="o">=</span> <span class="kc">null</span><span class="p">;</span>
                                    <span class="n">RechteckeAnordnen</span><span class="p">.</span><span class="na">this</span><span class="p">.</span><span class="na">anzRectFixed</span><span class="o">++</span><span class="p">;</span>
                                    <span class="n">RechteckeAnordnen</span><span class="p">.</span><span class="na">this</span><span class="p">.</span><span class="na">infoLabel</span><span class="p">.</span><span class="na">setText</span><span class="p">(</span><span class="n">RechteckeAnordnen</span><span class="p">.</span><span class="na">this</span><span class="p">.</span><span class="na">anzRectFixed</span> <span class="o">+</span> <span class="s">&quot; Rechtecke fixiert&quot;</span><span class="p">);</span>
                                <span class="p">}</span>
                                <span class="k">break</span><span class="p">;</span>
                    <span class="k">case</span> <span class="mi">1</span> <span class="p">:</span>    <span class="n">goal</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Point</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="na">getWidth</span><span class="p">(),</span> <span class="mi">0</span><span class="p">);</span> 
                                <span class="n">corner</span> <span class="o">=</span> <span class="n">RechteckeAnordnen</span><span class="p">.</span><span class="na">this</span><span class="p">.</span><span class="na">aktRechteck</span><span class="p">.</span><span class="na">getRechtsOben</span><span class="p">();</span>
                                <span class="k">if</span><span class="p">(</span><span class="n">Math</span><span class="p">.</span><span class="na">abs</span><span class="p">(</span><span class="n">goal</span><span class="p">.</span><span class="na">x</span><span class="o">-</span><span class="n">corner</span><span class="p">.</span><span class="na">x</span><span class="p">)</span><span class="o">&lt;</span><span class="mi">5</span> <span class="o">&amp;&amp;</span> <span class="n">Math</span><span class="p">.</span><span class="na">abs</span><span class="p">(</span><span class="n">goal</span><span class="p">.</span><span class="na">y</span><span class="o">-</span><span class="n">corner</span><span class="p">.</span><span class="na">y</span><span class="p">)</span><span class="o">&lt;</span><span class="n">diff</span><span class="p">)</span>
                                <span class="p">{</span>
                                    <span class="k">this</span><span class="p">.</span><span class="na">move</span><span class="o">=</span><span class="kc">false</span><span class="p">;</span>
                                    <span class="n">RechteckeAnordnen</span><span class="p">.</span><span class="na">this</span><span class="p">.</span><span class="na">rectangles</span><span class="p">.</span><span class="na">add</span><span class="p">(</span><span class="k">new</span> <span class="n">MyRectangle</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="na">getWidth</span><span class="p">()</span><span class="o">/</span><span class="mi">2</span><span class="o">+</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="k">this</span><span class="p">.</span><span class="na">getWidth</span><span class="p">(),</span> <span class="k">this</span><span class="p">.</span><span class="na">getHeight</span><span class="p">()</span><span class="o">/</span><span class="mi">2</span><span class="p">,</span> <span class="n">RechteckeAnordnen</span><span class="p">.</span><span class="na">this</span><span class="p">.</span><span class="na">aktRechteck</span><span class="p">.</span><span class="na">getColor</span><span class="p">()));</span>
                                    <span class="n">RechteckeAnordnen</span><span class="p">.</span><span class="na">this</span><span class="p">.</span><span class="na">aktRechteck</span> <span class="o">=</span> <span class="kc">null</span><span class="p">;</span>
                                    <span class="n">RechteckeAnordnen</span><span class="p">.</span><span class="na">this</span><span class="p">.</span><span class="na">anzRectFixed</span><span class="o">++</span><span class="p">;</span>
                                    <span class="n">RechteckeAnordnen</span><span class="p">.</span><span class="na">this</span><span class="p">.</span><span class="na">infoLabel</span><span class="p">.</span><span class="na">setText</span><span class="p">(</span><span class="n">RechteckeAnordnen</span><span class="p">.</span><span class="na">this</span><span class="p">.</span><span class="na">anzRectFixed</span> <span class="o">+</span> <span class="s">&quot; Rechtecke fixiert&quot;</span><span class="p">);</span>
                                <span class="p">}</span>
                                <span class="k">break</span><span class="p">;</span>  
                    <span class="k">case</span> <span class="mi">2</span> <span class="p">:</span>    <span class="n">goal</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Point</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="k">this</span><span class="p">.</span><span class="na">getHeight</span><span class="p">());</span> 
                                <span class="n">corner</span> <span class="o">=</span> <span class="n">RechteckeAnordnen</span><span class="p">.</span><span class="na">this</span><span class="p">.</span><span class="na">aktRechteck</span><span class="p">.</span><span class="na">getLinksUnten</span><span class="p">();</span>
                                <span class="k">if</span><span class="p">(</span><span class="n">Math</span><span class="p">.</span><span class="na">abs</span><span class="p">(</span><span class="n">goal</span><span class="p">.</span><span class="na">x</span><span class="o">-</span><span class="n">corner</span><span class="p">.</span><span class="na">x</span><span class="p">)</span><span class="o">&lt;</span><span class="mi">5</span> <span class="o">&amp;&amp;</span> <span class="n">Math</span><span class="p">.</span><span class="na">abs</span><span class="p">(</span><span class="n">goal</span><span class="p">.</span><span class="na">y</span><span class="o">-</span><span class="n">corner</span><span class="p">.</span><span class="na">y</span><span class="p">)</span><span class="o">&lt;</span><span class="n">diff</span><span class="p">)</span>
                                <span class="p">{</span>
                                    <span class="k">this</span><span class="p">.</span><span class="na">move</span><span class="o">=</span><span class="kc">false</span><span class="p">;</span>
                                    <span class="n">RechteckeAnordnen</span><span class="p">.</span><span class="na">this</span><span class="p">.</span><span class="na">rectangles</span><span class="p">.</span><span class="na">add</span><span class="p">(</span><span class="k">new</span> <span class="n">MyRectangle</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="k">this</span><span class="p">.</span><span class="na">getHeight</span><span class="p">()</span><span class="o">/</span><span class="mi">2</span><span class="o">+</span><span class="mi">1</span><span class="p">,</span> <span class="k">this</span><span class="p">.</span><span class="na">getWidth</span><span class="p">()</span><span class="o">/</span><span class="mi">2</span><span class="p">,</span> <span class="k">this</span><span class="p">.</span><span class="na">getHeight</span><span class="p">(),</span> <span class="n">RechteckeAnordnen</span><span class="p">.</span><span class="na">this</span><span class="p">.</span><span class="na">aktRechteck</span><span class="p">.</span><span class="na">getColor</span><span class="p">()));</span>
                                    <span class="n">RechteckeAnordnen</span><span class="p">.</span><span class="na">this</span><span class="p">.</span><span class="na">aktRechteck</span> <span class="o">=</span> <span class="kc">null</span><span class="p">;</span>
                                    <span class="n">RechteckeAnordnen</span><span class="p">.</span><span class="na">this</span><span class="p">.</span><span class="na">anzRectFixed</span><span class="o">++</span><span class="p">;</span>
                                    <span class="n">RechteckeAnordnen</span><span class="p">.</span><span class="na">this</span><span class="p">.</span><span class="na">infoLabel</span><span class="p">.</span><span class="na">setText</span><span class="p">(</span><span class="n">RechteckeAnordnen</span><span class="p">.</span><span class="na">this</span><span class="p">.</span><span class="na">anzRectFixed</span> <span class="o">+</span> <span class="s">&quot; Rechtecke fixiert&quot;</span><span class="p">);</span>
                                <span class="p">}</span>
                                <span class="k">break</span><span class="p">;</span>      
                    <span class="k">case</span> <span class="mi">3</span> <span class="p">:</span>    <span class="n">goal</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Point</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="na">getWidth</span><span class="p">(),</span> <span class="k">this</span><span class="p">.</span><span class="na">getHeight</span><span class="p">());</span> 
                                <span class="n">corner</span> <span class="o">=</span> <span class="n">RechteckeAnordnen</span><span class="p">.</span><span class="na">this</span><span class="p">.</span><span class="na">aktRechteck</span><span class="p">.</span><span class="na">getRechtsUnten</span><span class="p">();</span>
                                <span class="k">if</span><span class="p">(</span><span class="n">Math</span><span class="p">.</span><span class="na">abs</span><span class="p">(</span><span class="n">goal</span><span class="p">.</span><span class="na">x</span><span class="o">-</span><span class="n">corner</span><span class="p">.</span><span class="na">x</span><span class="p">)</span><span class="o">&lt;</span><span class="mi">5</span> <span class="o">&amp;&amp;</span> <span class="n">Math</span><span class="p">.</span><span class="na">abs</span><span class="p">(</span><span class="n">goal</span><span class="p">.</span><span class="na">y</span><span class="o">-</span><span class="n">corner</span><span class="p">.</span><span class="na">y</span><span class="p">)</span><span class="o">&lt;</span><span class="n">diff</span><span class="p">)</span>
                                <span class="p">{</span>
                                    <span class="k">this</span><span class="p">.</span><span class="na">move</span><span class="o">=</span><span class="kc">false</span><span class="p">;</span>
                                    <span class="n">RechteckeAnordnen</span><span class="p">.</span><span class="na">this</span><span class="p">.</span><span class="na">rectangles</span><span class="p">.</span><span class="na">add</span><span class="p">(</span><span class="k">new</span> <span class="n">MyRectangle</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="na">getWidth</span><span class="p">()</span><span class="o">/</span><span class="mi">2</span><span class="o">+</span><span class="mi">1</span><span class="p">,</span> <span class="k">this</span><span class="p">.</span><span class="na">getHeight</span><span class="p">()</span><span class="o">/</span><span class="mi">2</span><span class="o">+</span><span class="mi">1</span><span class="p">,</span> <span class="k">this</span><span class="p">.</span><span class="na">getWidth</span><span class="p">(),</span> <span class="k">this</span><span class="p">.</span><span class="na">getHeight</span><span class="p">(),</span> <span class="n">RechteckeAnordnen</span><span class="p">.</span><span class="na">this</span><span class="p">.</span><span class="na">aktRechteck</span><span class="p">.</span><span class="na">getColor</span><span class="p">()));</span>
                                    <span class="n">RechteckeAnordnen</span><span class="p">.</span><span class="na">this</span><span class="p">.</span><span class="na">aktRechteck</span> <span class="o">=</span> <span class="kc">null</span><span class="p">;</span>
                                    <span class="n">RechteckeAnordnen</span><span class="p">.</span><span class="na">this</span><span class="p">.</span><span class="na">anzRectFixed</span><span class="o">++</span><span class="p">;</span>
                                    <span class="n">RechteckeAnordnen</span><span class="p">.</span><span class="na">this</span><span class="p">.</span><span class="na">infoLabel</span><span class="p">.</span><span class="na">setFont</span><span class="p">(</span><span class="k">new</span> <span class="n">Font</span><span class="p">(</span><span class="s">&quot;Verdana&quot;</span><span class="p">,</span> <span class="n">Font</span><span class="p">.</span><span class="na">ITALIC</span><span class="o">|</span><span class="n">Font</span><span class="p">.</span><span class="na">BOLD</span><span class="p">,</span> <span class="mi">18</span><span class="p">));</span>
                                    <span class="n">RechteckeAnordnen</span><span class="p">.</span><span class="na">this</span><span class="p">.</span><span class="na">infoLabel</span><span class="p">.</span><span class="na">setText</span><span class="p">(</span><span class="n">RechteckeAnordnen</span><span class="p">.</span><span class="na">this</span><span class="p">.</span><span class="na">anzRectFixed</span> <span class="o">+</span> <span class="s">&quot; Rechtecke fixiert -- ENDE&quot;</span><span class="p">);</span>
                                <span class="p">}</span>
                                <span class="k">break</span><span class="p">;</span>  
                <span class="p">}</span>
                <span class="k">this</span><span class="p">.</span><span class="na">repaint</span><span class="p">();</span>

            <span class="p">}</span>


        <span class="p">}</span>

        <span class="nd">@Override</span>
        <span class="kd">public</span> <span class="kt">void</span> <span class="nf">mouseMoved</span><span class="p">(</span><span class="n">MouseEvent</span> <span class="n">e</span><span class="p">)</span> <span class="p">{</span>

        <span class="p">}</span>
    <span class="p">}</span>

    <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="p">(</span><span class="n">String</span><span class="o">[]</span> <span class="n">args</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">new</span> <span class="n">RechteckeAnordnen</span><span class="p">();</span>

    <span class="p">}</span>

<span class="p">}</span>
</code></pre></div>
</td></tr></table>
</div>
</div>
</details>
                
              
              
                


              
            </article>
          </div>
        </div>
        
      </main>
      
        
<footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-footer-copyright">
        
          <div class="md-footer-copyright__highlight">
            Copyright &copy; 2022 Jörn Freiheit
          </div>
        
        Made with
        <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
          Material for MkDocs
        </a>
        
      </div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    <script id="__config" type="application/json">{"base": "..", "features": ["instant", "tabs"], "translations": {"clipboard.copy": "In Zwischenablage kopieren", "clipboard.copied": "In Zwischenablage kopiert", "search.config.lang": "de", "search.config.pipeline": "trimmer, stopWordFilter", "search.config.separator": "[\\s\\-]+", "search.placeholder": "Suche", "search.result.placeholder": "Suchbegriff eingeben", "search.result.none": "Keine Suchergebnisse", "search.result.one": "1 Suchergebnis", "search.result.other": "# Suchergebnisse", "search.result.more.one": "1 weiteres Suchergebnis auf dieser Seite", "search.result.more.other": "# weitere Suchergebnisse auf dieser Seite", "search.result.term.missing": "Es fehlt", "select.version.title": "Version ausw\u00e4hlen"}, "search": "../assets/javascripts/workers/search.409db549.min.js", "version": null}</script>
    
    
      <script src="../assets/javascripts/bundle.756773cc.min.js"></script>
      
    
  </body>
</html>